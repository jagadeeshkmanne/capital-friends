(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const v of document.querySelectorAll('link[rel="modulepreload"]'))c(v);new MutationObserver(v=>{for(const f of v)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&c(h)}).observe(document,{childList:!0,subtree:!0});function u(v){const f={};return v.integrity&&(f.integrity=v.integrity),v.referrerPolicy&&(f.referrerPolicy=v.referrerPolicy),v.crossOrigin==="use-credentials"?f.credentials="include":v.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function c(v){if(v.ep)return;v.ep=!0;const f=u(v);fetch(v.href,f)}})();var ed={exports:{}},vn={};var Rf;function Zv(){if(Rf)return vn;Rf=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.fragment");function u(c,v,f){var h=null;if(f!==void 0&&(h=""+f),v.key!==void 0&&(h=""+v.key),"key"in v){f={};for(var d in v)d!=="key"&&(f[d]=v[d])}else f=v;return v=f.ref,{$$typeof:r,type:c,key:h,ref:v!==void 0?v:null,props:f}}return vn.Fragment=o,vn.jsx=u,vn.jsxs=u,vn}var Lf;function Kv(){return Lf||(Lf=1,ed.exports=Zv()),ed.exports}var a=Kv(),td={exports:{}},gn={},ad={exports:{}},ld={};var Of;function Jv(){return Of||(Of=1,(function(r){function o(O,ne){var Q=O.length;O.push(ne);e:for(;0<Q;){var xe=Q-1>>>1,I=O[xe];if(0<v(I,ne))O[xe]=ne,O[Q]=I,Q=xe;else break e}}function u(O){return O.length===0?null:O[0]}function c(O){if(O.length===0)return null;var ne=O[0],Q=O.pop();if(Q!==ne){O[0]=Q;e:for(var xe=0,I=O.length,T=I>>>1;xe<T;){var H=2*(xe+1)-1,X=O[H],K=H+1,de=O[K];if(0>v(X,Q))K<I&&0>v(de,X)?(O[xe]=de,O[K]=Q,xe=K):(O[xe]=X,O[H]=Q,xe=H);else if(K<I&&0>v(de,Q))O[xe]=de,O[K]=Q,xe=K;else break e}}return ne}function v(O,ne){var Q=O.sortIndex-ne.sortIndex;return Q!==0?Q:O.id-ne.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;r.unstable_now=function(){return f.now()}}else{var h=Date,d=h.now();r.unstable_now=function(){return h.now()-d}}var b=[],x=[],S=1,A=null,w=3,M=!1,p=!1,g=!1,y=!1,N=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function _(O){for(var ne=u(x);ne!==null;){if(ne.callback===null)c(x);else if(ne.startTime<=O)c(x),ne.sortIndex=ne.expirationTime,o(b,ne);else break;ne=u(x)}}function ee(O){if(g=!1,_(O),!p)if(u(b)!==null)p=!0,$||($=!0,D());else{var ne=u(x);ne!==null&&q(ee,ne.startTime-O)}}var $=!1,F=-1,ce=5,P=-1;function le(){return y?!0:!(r.unstable_now()-P<ce)}function re(){if(y=!1,$){var O=r.unstable_now();P=O;var ne=!0;try{e:{p=!1,g&&(g=!1,R(F),F=-1),M=!0;var Q=w;try{t:{for(_(O),A=u(b);A!==null&&!(A.expirationTime>O&&le());){var xe=A.callback;if(typeof xe=="function"){A.callback=null,w=A.priorityLevel;var I=xe(A.expirationTime<=O);if(O=r.unstable_now(),typeof I=="function"){A.callback=I,_(O),ne=!0;break t}A===u(b)&&c(b),_(O)}else c(b);A=u(b)}if(A!==null)ne=!0;else{var T=u(x);T!==null&&q(ee,T.startTime-O),ne=!1}}break e}finally{A=null,w=Q,M=!1}ne=void 0}}finally{ne?D():$=!1}}}var D;if(typeof k=="function")D=function(){k(re)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,ie=z.port2;z.port1.onmessage=re,D=function(){ie.postMessage(null)}}else D=function(){N(re,0)};function q(O,ne){F=N(function(){O(r.unstable_now())},ne)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(O){O.callback=null},r.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ce=0<O?Math.floor(1e3/O):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_next=function(O){switch(w){case 1:case 2:case 3:var ne=3;break;default:ne=w}var Q=w;w=ne;try{return O()}finally{w=Q}},r.unstable_requestPaint=function(){y=!0},r.unstable_runWithPriority=function(O,ne){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var Q=w;w=O;try{return ne()}finally{w=Q}},r.unstable_scheduleCallback=function(O,ne,Q){var xe=r.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?xe+Q:xe):Q=xe,O){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=Q+I,O={id:S++,callback:ne,priorityLevel:O,startTime:Q,expirationTime:I,sortIndex:-1},Q>xe?(O.sortIndex=Q,o(x,O),u(b)===null&&O===u(x)&&(g?(R(F),F=-1):g=!0,q(ee,Q-xe))):(O.sortIndex=I,o(b,O),p||M||(p=!0,$||($=!0,D()))),O},r.unstable_shouldYield=le,r.unstable_wrapCallback=function(O){var ne=w;return function(){var Q=w;w=ne;try{return O.apply(this,arguments)}finally{w=Q}}}})(ld)),ld}var If;function Wv(){return If||(If=1,ad.exports=Jv()),ad.exports}var sd={exports:{}},Ne={};var _f;function e0(){if(_f)return Ne;_f=1;var r=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),c=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),b=Symbol.for("react.suspense"),x=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),w=Symbol.iterator;function M(T){return T===null||typeof T!="object"?null:(T=w&&T[w]||T["@@iterator"],typeof T=="function"?T:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function N(T,H,X){this.props=T,this.context=H,this.refs=y,this.updater=X||p}N.prototype.isReactComponent={},N.prototype.setState=function(T,H){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,H,"setState")},N.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function R(){}R.prototype=N.prototype;function k(T,H,X){this.props=T,this.context=H,this.refs=y,this.updater=X||p}var _=k.prototype=new R;_.constructor=k,g(_,N.prototype),_.isPureReactComponent=!0;var ee=Array.isArray;function $(){}var F={H:null,A:null,T:null,S:null},ce=Object.prototype.hasOwnProperty;function P(T,H,X){var K=X.ref;return{$$typeof:r,type:T,key:H,ref:K!==void 0?K:null,props:X}}function le(T,H){return P(T.type,H,T.props)}function re(T){return typeof T=="object"&&T!==null&&T.$$typeof===r}function D(T){var H={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(X){return H[X]})}var z=/\/+/g;function ie(T,H){return typeof T=="object"&&T!==null&&T.key!=null?D(""+T.key):H.toString(36)}function q(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then($,$):(T.status="pending",T.then(function(H){T.status==="pending"&&(T.status="fulfilled",T.value=H)},function(H){T.status==="pending"&&(T.status="rejected",T.reason=H)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function O(T,H,X,K,de){var oe=typeof T;(oe==="undefined"||oe==="boolean")&&(T=null);var ue=!1;if(T===null)ue=!0;else switch(oe){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(T.$$typeof){case r:case o:ue=!0;break;case S:return ue=T._init,O(ue(T._payload),H,X,K,de)}}if(ue)return de=de(T),ue=K===""?"."+ie(T,0):K,ee(de)?(X="",ue!=null&&(X=ue.replace(z,"$&/")+"/"),O(de,H,X,"",function(Re){return Re})):de!=null&&(re(de)&&(de=le(de,X+(de.key==null||T&&T.key===de.key?"":(""+de.key).replace(z,"$&/")+"/")+ue)),H.push(de)),1;ue=0;var Ae=K===""?".":K+":";if(ee(T))for(var Ce=0;Ce<T.length;Ce++)K=T[Ce],oe=Ae+ie(K,Ce),ue+=O(K,H,X,oe,de);else if(Ce=M(T),typeof Ce=="function")for(T=Ce.call(T),Ce=0;!(K=T.next()).done;)K=K.value,oe=Ae+ie(K,Ce++),ue+=O(K,H,X,oe,de);else if(oe==="object"){if(typeof T.then=="function")return O(q(T),H,X,K,de);throw H=String(T),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return ue}function ne(T,H,X){if(T==null)return T;var K=[],de=0;return O(T,K,"","",function(oe){return H.call(X,oe,de++)}),K}function Q(T){if(T._status===-1){var H=T._result;H=H(),H.then(function(X){(T._status===0||T._status===-1)&&(T._status=1,T._result=X)},function(X){(T._status===0||T._status===-1)&&(T._status=2,T._result=X)}),T._status===-1&&(T._status=0,T._result=H)}if(T._status===1)return T._result.default;throw T._result}var xe=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)},I={map:ne,forEach:function(T,H,X){ne(T,function(){H.apply(this,arguments)},X)},count:function(T){var H=0;return ne(T,function(){H++}),H},toArray:function(T){return ne(T,function(H){return H})||[]},only:function(T){if(!re(T))throw Error("React.Children.only expected to receive a single React element child.");return T}};return Ne.Activity=A,Ne.Children=I,Ne.Component=N,Ne.Fragment=u,Ne.Profiler=v,Ne.PureComponent=k,Ne.StrictMode=c,Ne.Suspense=b,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=F,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(T){return F.H.useMemoCache(T)}},Ne.cache=function(T){return function(){return T.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(T,H,X){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var K=g({},T.props),de=T.key;if(H!=null)for(oe in H.key!==void 0&&(de=""+H.key),H)!ce.call(H,oe)||oe==="key"||oe==="__self"||oe==="__source"||oe==="ref"&&H.ref===void 0||(K[oe]=H[oe]);var oe=arguments.length-2;if(oe===1)K.children=X;else if(1<oe){for(var ue=Array(oe),Ae=0;Ae<oe;Ae++)ue[Ae]=arguments[Ae+2];K.children=ue}return P(T.type,de,K)},Ne.createContext=function(T){return T={$$typeof:h,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:f,_context:T},T},Ne.createElement=function(T,H,X){var K,de={},oe=null;if(H!=null)for(K in H.key!==void 0&&(oe=""+H.key),H)ce.call(H,K)&&K!=="key"&&K!=="__self"&&K!=="__source"&&(de[K]=H[K]);var ue=arguments.length-2;if(ue===1)de.children=X;else if(1<ue){for(var Ae=Array(ue),Ce=0;Ce<ue;Ce++)Ae[Ce]=arguments[Ce+2];de.children=Ae}if(T&&T.defaultProps)for(K in ue=T.defaultProps,ue)de[K]===void 0&&(de[K]=ue[K]);return P(T,oe,de)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(T){return{$$typeof:d,render:T}},Ne.isValidElement=re,Ne.lazy=function(T){return{$$typeof:S,_payload:{_status:-1,_result:T},_init:Q}},Ne.memo=function(T,H){return{$$typeof:x,type:T,compare:H===void 0?null:H}},Ne.startTransition=function(T){var H=F.T,X={};F.T=X;try{var K=T(),de=F.S;de!==null&&de(X,K),typeof K=="object"&&K!==null&&typeof K.then=="function"&&K.then($,xe)}catch(oe){xe(oe)}finally{H!==null&&X.types!==null&&(H.types=X.types),F.T=H}},Ne.unstable_useCacheRefresh=function(){return F.H.useCacheRefresh()},Ne.use=function(T){return F.H.use(T)},Ne.useActionState=function(T,H,X){return F.H.useActionState(T,H,X)},Ne.useCallback=function(T,H){return F.H.useCallback(T,H)},Ne.useContext=function(T){return F.H.useContext(T)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(T,H){return F.H.useDeferredValue(T,H)},Ne.useEffect=function(T,H){return F.H.useEffect(T,H)},Ne.useEffectEvent=function(T){return F.H.useEffectEvent(T)},Ne.useId=function(){return F.H.useId()},Ne.useImperativeHandle=function(T,H,X){return F.H.useImperativeHandle(T,H,X)},Ne.useInsertionEffect=function(T,H){return F.H.useInsertionEffect(T,H)},Ne.useLayoutEffect=function(T,H){return F.H.useLayoutEffect(T,H)},Ne.useMemo=function(T,H){return F.H.useMemo(T,H)},Ne.useOptimistic=function(T,H){return F.H.useOptimistic(T,H)},Ne.useReducer=function(T,H,X){return F.H.useReducer(T,H,X)},Ne.useRef=function(T){return F.H.useRef(T)},Ne.useState=function(T){return F.H.useState(T)},Ne.useSyncExternalStore=function(T,H,X){return F.H.useSyncExternalStore(T,H,X)},Ne.useTransition=function(){return F.H.useTransition()},Ne.version="19.2.4",Ne}var qf;function Sd(){return qf||(qf=1,sd.exports=e0()),sd.exports}var nd={exports:{}},xt={};var Hf;function t0(){if(Hf)return xt;Hf=1;var r=Sd();function o(b){var x="https://react.dev/errors/"+b;if(1<arguments.length){x+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)x+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+b+"; visit "+x+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(){}var c={d:{f:u,r:function(){throw Error(o(522))},D:u,C:u,L:u,m:u,X:u,S:u,M:u},p:0,findDOMNode:null},v=Symbol.for("react.portal");function f(b,x,S){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:v,key:A==null?null:""+A,children:b,containerInfo:x,implementation:S}}var h=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(b,x){if(b==="font")return"";if(typeof x=="string")return x==="use-credentials"?x:""}return xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=c,xt.createPortal=function(b,x){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!x||x.nodeType!==1&&x.nodeType!==9&&x.nodeType!==11)throw Error(o(299));return f(b,x,null,S)},xt.flushSync=function(b){var x=h.T,S=c.p;try{if(h.T=null,c.p=2,b)return b()}finally{h.T=x,c.p=S,c.d.f()}},xt.preconnect=function(b,x){typeof b=="string"&&(x?(x=x.crossOrigin,x=typeof x=="string"?x==="use-credentials"?x:"":void 0):x=null,c.d.C(b,x))},xt.prefetchDNS=function(b){typeof b=="string"&&c.d.D(b)},xt.preinit=function(b,x){if(typeof b=="string"&&x&&typeof x.as=="string"){var S=x.as,A=d(S,x.crossOrigin),w=typeof x.integrity=="string"?x.integrity:void 0,M=typeof x.fetchPriority=="string"?x.fetchPriority:void 0;S==="style"?c.d.S(b,typeof x.precedence=="string"?x.precedence:void 0,{crossOrigin:A,integrity:w,fetchPriority:M}):S==="script"&&c.d.X(b,{crossOrigin:A,integrity:w,fetchPriority:M,nonce:typeof x.nonce=="string"?x.nonce:void 0})}},xt.preinitModule=function(b,x){if(typeof b=="string")if(typeof x=="object"&&x!==null){if(x.as==null||x.as==="script"){var S=d(x.as,x.crossOrigin);c.d.M(b,{crossOrigin:S,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0})}}else x==null&&c.d.M(b)},xt.preload=function(b,x){if(typeof b=="string"&&typeof x=="object"&&x!==null&&typeof x.as=="string"){var S=x.as,A=d(S,x.crossOrigin);c.d.L(b,S,{crossOrigin:A,integrity:typeof x.integrity=="string"?x.integrity:void 0,nonce:typeof x.nonce=="string"?x.nonce:void 0,type:typeof x.type=="string"?x.type:void 0,fetchPriority:typeof x.fetchPriority=="string"?x.fetchPriority:void 0,referrerPolicy:typeof x.referrerPolicy=="string"?x.referrerPolicy:void 0,imageSrcSet:typeof x.imageSrcSet=="string"?x.imageSrcSet:void 0,imageSizes:typeof x.imageSizes=="string"?x.imageSizes:void 0,media:typeof x.media=="string"?x.media:void 0})}},xt.preloadModule=function(b,x){if(typeof b=="string")if(x){var S=d(x.as,x.crossOrigin);c.d.m(b,{as:typeof x.as=="string"&&x.as!=="script"?x.as:void 0,crossOrigin:S,integrity:typeof x.integrity=="string"?x.integrity:void 0})}else c.d.m(b)},xt.requestFormReset=function(b){c.d.r(b)},xt.unstable_batchedUpdates=function(b,x){return b(x)},xt.useFormState=function(b,x,S){return h.H.useFormState(b,x,S)},xt.useFormStatus=function(){return h.H.useHostTransitionStatus()},xt.version="19.2.4",xt}var Bf;function a0(){if(Bf)return nd.exports;Bf=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),nd.exports=t0(),nd.exports}var Uf;function l0(){if(Uf)return gn;Uf=1;var r=Wv(),o=Sd(),u=a0();function c(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)t+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function v(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,l=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(l=t.return),e=t.return;while(e)}return t.tag===3?l:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(f(e)!==e)throw Error(c(188))}function x(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(c(188));return t!==e?null:e}for(var l=e,s=t;;){var n=l.return;if(n===null)break;var i=n.alternate;if(i===null){if(s=n.return,s!==null){l=s;continue}break}if(n.child===i.child){for(i=n.child;i;){if(i===l)return b(n),e;if(i===s)return b(n),t;i=i.sibling}throw Error(c(188))}if(l.return!==s.return)l=n,s=i;else{for(var m=!1,C=n.child;C;){if(C===l){m=!0,l=n,s=i;break}if(C===s){m=!0,s=n,l=i;break}C=C.sibling}if(!m){for(C=i.child;C;){if(C===l){m=!0,l=i,s=n;break}if(C===s){m=!0,s=i,l=n;break}C=C.sibling}if(!m)throw Error(c(189))}}if(l.alternate!==s)throw Error(c(190))}if(l.tag!==3)throw Error(c(188));return l.stateNode.current===l?e:t}function S(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=S(e),t!==null)return t;e=e.sibling}return null}var A=Object.assign,w=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),p=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),R=Symbol.for("react.consumer"),k=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),ee=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),F=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),le=Symbol.for("react.memo_cache_sentinel"),re=Symbol.iterator;function D(e){return e===null||typeof e!="object"?null:(e=re&&e[re]||e["@@iterator"],typeof e=="function"?e:null)}var z=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===z?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case g:return"Fragment";case N:return"Profiler";case y:return"StrictMode";case ee:return"Suspense";case $:return"SuspenseList";case P:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case p:return"Portal";case k:return e.displayName||"Context";case R:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case F:return t=e.displayName||null,t!==null?t:ie(e.type)||"Memo";case ce:t=e._payload,e=e._init;try{return ie(e(t))}catch{}}return null}var q=Array.isArray,O=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne=u.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q={pending:!1,data:null,method:null,action:null},xe=[],I=-1;function T(e){return{current:e}}function H(e){0>I||(e.current=xe[I],xe[I]=null,I--)}function X(e,t){I++,xe[I]=e.current,e.current=t}var K=T(null),de=T(null),oe=T(null),ue=T(null);function Ae(e,t){switch(X(oe,t),X(de,e),X(K,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?tf(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=tf(t),e=af(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}H(K),X(K,e)}function Ce(){H(K),H(de),H(oe)}function Re(e){e.memoizedState!==null&&X(ue,e);var t=K.current,l=af(t,e.type);t!==l&&(X(de,e),X(K,l))}function _e(e){de.current===e&&(H(K),H(de)),ue.current===e&&(H(ue),fn._currentValue=Q)}var yt,Ta;function ra(e){if(yt===void 0)try{throw Error()}catch(l){var t=l.stack.trim().match(/\n( *(at )?)/);yt=t&&t[1]||"",Ta=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+yt+e+Ta}var js=!1;function Ns(e,t){if(!e||js)return"";js=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var se=function(){throw Error()};if(Object.defineProperty(se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(se,[])}catch(Z){var Y=Z}Reflect.construct(e,[],se)}else{try{se.call()}catch(Z){Y=Z}e.call(se.prototype)}}else{try{throw Error()}catch(Z){Y=Z}(se=e())&&typeof se.catch=="function"&&se.catch(function(){})}}catch(Z){if(Z&&Y&&typeof Z.stack=="string")return[Z.stack,Y.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var i=s.DetermineComponentFrameRoot(),m=i[0],C=i[1];if(m&&C){var E=m.split(`
`),V=C.split(`
`);for(n=s=0;s<E.length&&!E[s].includes("DetermineComponentFrameRoot");)s++;for(;n<V.length&&!V[n].includes("DetermineComponentFrameRoot");)n++;if(s===E.length||n===V.length)for(s=E.length-1,n=V.length-1;1<=s&&0<=n&&E[s]!==V[n];)n--;for(;1<=s&&0<=n;s--,n--)if(E[s]!==V[n]){if(s!==1||n!==1)do if(s--,n--,0>n||E[s]!==V[n]){var te=`
`+E[s].replace(" at new "," at ");return e.displayName&&te.includes("<anonymous>")&&(te=te.replace("<anonymous>",e.displayName)),te}while(1<=s&&0<=n);break}}}finally{js=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?ra(l):""}function Di(e,t){switch(e.tag){case 26:case 27:case 5:return ra(e.type);case 16:return ra("Lazy");case 13:return e.child!==t&&t!==null?ra("Suspense Fallback"):ra("Suspense");case 19:return ra("SuspenseList");case 0:case 15:return Ns(e.type,!1);case 11:return Ns(e.type.render,!1);case 1:return Ns(e.type,!0);case 31:return ra("Activity");default:return""}}function Bn(e){try{var t="",l=null;do t+=Di(e,l),l=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var Ss=Object.prototype.hasOwnProperty,ws=r.unstable_scheduleCallback,Cs=r.unstable_cancelCallback,Ri=r.unstable_shouldYield,Li=r.unstable_requestPaint,pt=r.unstable_now,Oi=r.unstable_getCurrentPriorityLevel,Un=r.unstable_ImmediatePriority,$n=r.unstable_UserBlockingPriority,Nl=r.unstable_NormalPriority,Ii=r.unstable_LowPriority,Pn=r.unstable_IdlePriority,_i=r.log,qi=r.unstable_setDisableYieldValue,el=null,bt=null;function Wt(e){if(typeof _i=="function"&&qi(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(el,e)}catch{}}var vt=Math.clz32?Math.clz32:Ui,Hi=Math.log,Bi=Math.LN2;function Ui(e){return e>>>=0,e===0?32:31-(Hi(e)/Bi|0)|0}var Sl=256,wl=262144,Cl=4194304;function ia(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Al(e,t,l){var s=e.pendingLanes;if(s===0)return 0;var n=0,i=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var C=s&134217727;return C!==0?(s=C&~i,s!==0?n=ia(s):(m&=C,m!==0?n=ia(m):l||(l=C&~e,l!==0&&(n=ia(l))))):(C=s&~i,C!==0?n=ia(C):m!==0?n=ia(m):l||(l=s&~e,l!==0&&(n=ia(l)))),n===0?0:t!==0&&t!==n&&(t&i)===0&&(i=n&-n,l=t&-t,i>=l||i===32&&(l&4194048)!==0)?t:n}function tl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function $i(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fn(){var e=Cl;return Cl<<=1,(Cl&62914560)===0&&(Cl=4194304),e}function As(e){for(var t=[],l=0;31>l;l++)t.push(e);return t}function al(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pi(e,t,l,s,n,i){var m=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var C=e.entanglements,E=e.expirationTimes,V=e.hiddenUpdates;for(l=m&~l;0<l;){var te=31-vt(l),se=1<<te;C[te]=0,E[te]=-1;var Y=V[te];if(Y!==null)for(V[te]=null,te=0;te<Y.length;te++){var Z=Y[te];Z!==null&&(Z.lane&=-536870913)}l&=~se}s!==0&&Gn(e,s,0),i!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=i&~(m&~t))}function Gn(e,t,l){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-vt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|l&261930}function Vn(e,t){var l=e.entangledLanes|=t;for(e=e.entanglements;l;){var s=31-vt(l),n=1<<s;n&t|e[s]&t&&(e[s]|=t),l&=~n}}function Yn(e,t){var l=t&-t;return l=(l&42)!==0?1:Ms(l),(l&(e.suspendedLanes|t))!==0?0:l}function Ms(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function W(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ve(){var e=ne.p;return e!==0?e:(e=window.event,e===void 0?32:Af(e.type))}function Qn(e,t){var l=ne.p;try{return ne.p=e,t()}finally{ne.p=l}}var ka=Math.random().toString(36).slice(2),it="__reactFiber$"+ka,jt="__reactProps$"+ka,Ml="__reactContainer$"+ka,Fi="__reactEvents$"+ka,Hp="__reactListeners$"+ka,Bp="__reactHandles$"+ka,$d="__reactResources$"+ka,Ts="__reactMarker$"+ka;function Gi(e){delete e[it],delete e[jt],delete e[Fi],delete e[Hp],delete e[Bp]}function Tl(e){var t=e[it];if(t)return t;for(var l=e.parentNode;l;){if(t=l[Ml]||l[it]){if(l=t.alternate,t.child!==null||l!==null&&l.child!==null)for(e=df(e);e!==null;){if(l=e[it])return l;e=df(e)}return t}e=l,l=e.parentNode}return null}function kl(e){if(e=e[it]||e[Ml]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function ks(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(c(33))}function El(e){var t=e[$d];return t||(t=e[$d]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function nt(e){e[Ts]=!0}var Pd=new Set,Fd={};function ll(e,t){zl(e,t),zl(e+"Capture",t)}function zl(e,t){for(Fd[e]=t,e=0;e<t.length;e++)Pd.add(t[e])}var Up=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gd={},Vd={};function $p(e){return Ss.call(Vd,e)?!0:Ss.call(Gd,e)?!1:Up.test(e)?Vd[e]=!0:(Gd[e]=!0,!1)}function Xn(e,t,l){if($p(t))if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+l)}}function Zn(e,t,l){if(l===null)e.removeAttribute(t);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+l)}}function oa(e,t,l,s){if(s===null)e.removeAttribute(l);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(t,l,""+s)}}function It(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Yd(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Pp(e,t,l){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var n=s.get,i=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(m){l=""+m,i.call(this,m)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(m){l=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vi(e){if(!e._valueTracker){var t=Yd(e)?"checked":"value";e._valueTracker=Pp(e,t,""+e[t])}}function Qd(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var l=t.getValue(),s="";return e&&(s=Yd(e)?e.checked?"true":"false":e.value),e=s,e!==l?(t.setValue(e),!0):!1}function Kn(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Fp=/[\n"\\]/g;function _t(e){return e.replace(Fp,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Yi(e,t,l,s,n,i,m,C){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+It(t)):e.value!==""+It(t)&&(e.value=""+It(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Qi(e,m,It(t)):l!=null?Qi(e,m,It(l)):s!=null&&e.removeAttribute("value"),n==null&&i!=null&&(e.defaultChecked=!!i),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.name=""+It(C):e.removeAttribute("name")}function Xd(e,t,l,s,n,i,m,C){if(i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.type=i),t!=null||l!=null){if(!(i!=="submit"&&i!=="reset"||t!=null)){Vi(e);return}l=l!=null?""+It(l):"",t=t!=null?""+It(t):l,C||t===e.value||(e.value=t),e.defaultValue=t}s=s??n,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=C?e.checked:!!s,e.defaultChecked=!!s,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Vi(e)}function Qi(e,t,l){t==="number"&&Kn(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Dl(e,t,l,s){if(e=e.options,t){t={};for(var n=0;n<l.length;n++)t["$"+l[n]]=!0;for(l=0;l<e.length;l++)n=t.hasOwnProperty("$"+e[l].value),e[l].selected!==n&&(e[l].selected=n),n&&s&&(e[l].defaultSelected=!0)}else{for(l=""+It(l),t=null,n=0;n<e.length;n++){if(e[n].value===l){e[n].selected=!0,s&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function Zd(e,t,l){if(t!=null&&(t=""+It(t),t!==e.value&&(e.value=t),l==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=l!=null?""+It(l):""}function Kd(e,t,l,s){if(t==null){if(s!=null){if(l!=null)throw Error(c(92));if(q(s)){if(1<s.length)throw Error(c(93));s=s[0]}l=s}l==null&&(l=""),t=l}l=It(t),e.defaultValue=l,s=e.textContent,s===l&&s!==""&&s!==null&&(e.value=s),Vi(e)}function Rl(e,t){if(t){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=t;return}}e.textContent=t}var Gp=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jd(e,t,l){var s=t.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,l):typeof l!="number"||l===0||Gp.has(t)?t==="float"?e.cssFloat=l:e[t]=(""+l).trim():e[t]=l+"px"}function Wd(e,t,l){if(t!=null&&typeof t!="object")throw Error(c(62));if(e=e.style,l!=null){for(var s in l)!l.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var n in t)s=t[n],t.hasOwnProperty(n)&&l[n]!==s&&Jd(e,n,s)}else for(var i in t)t.hasOwnProperty(i)&&Jd(e,i,t[i])}function Xi(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vp=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Yp=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jn(e){return Yp.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ca(){}var Zi=null;function Ki(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ll=null,Ol=null;function eu(e){var t=kl(e);if(t&&(e=t.stateNode)){var l=e[jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(Yi(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),t=l.name,l.type==="radio"&&t!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+_t(""+t)+'"][type="radio"]'),t=0;t<l.length;t++){var s=l[t];if(s!==e&&s.form===e.form){var n=s[jt]||null;if(!n)throw Error(c(90));Yi(s,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<l.length;t++)s=l[t],s.form===e.form&&Qd(s)}break e;case"textarea":Zd(e,l.value,l.defaultValue);break e;case"select":t=l.value,t!=null&&Dl(e,!!l.multiple,t,!1)}}}var Ji=!1;function tu(e,t,l){if(Ji)return e(t,l);Ji=!0;try{var s=e(t);return s}finally{if(Ji=!1,(Ll!==null||Ol!==null)&&(Hr(),Ll&&(t=Ll,e=Ol,Ol=Ll=null,eu(t),e)))for(t=0;t<e.length;t++)eu(e[t])}}function Es(e,t){var l=e.stateNode;if(l===null)return null;var s=l[jt]||null;if(s===null)return null;l=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(c(231,t,typeof l));return l}var da=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wi=!1;if(da)try{var zs={};Object.defineProperty(zs,"passive",{get:function(){Wi=!0}}),window.addEventListener("test",zs,zs),window.removeEventListener("test",zs,zs)}catch{Wi=!1}var Ea=null,eo=null,Wn=null;function au(){if(Wn)return Wn;var e,t=eo,l=t.length,s,n="value"in Ea?Ea.value:Ea.textContent,i=n.length;for(e=0;e<l&&t[e]===n[e];e++);var m=l-e;for(s=1;s<=m&&t[l-s]===n[i-s];s++);return Wn=n.slice(e,1<s?1-s:void 0)}function er(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function tr(){return!0}function lu(){return!1}function Nt(e){function t(l,s,n,i,m){this._reactName=l,this._targetInst=n,this.type=s,this.nativeEvent=i,this.target=m,this.currentTarget=null;for(var C in e)e.hasOwnProperty(C)&&(l=e[C],this[C]=l?l(i):i[C]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?tr:lu,this.isPropagationStopped=lu,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=tr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=tr)},persist:function(){},isPersistent:tr}),t}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ar=Nt(sl),Ds=A({},sl,{view:0,detail:0}),Qp=Nt(Ds),to,ao,Rs,lr=A({},Ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:so,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Rs&&(Rs&&e.type==="mousemove"?(to=e.screenX-Rs.screenX,ao=e.screenY-Rs.screenY):ao=to=0,Rs=e),to)},movementY:function(e){return"movementY"in e?e.movementY:ao}}),su=Nt(lr),Xp=A({},lr,{dataTransfer:0}),Zp=Nt(Xp),Kp=A({},Ds,{relatedTarget:0}),lo=Nt(Kp),Jp=A({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),Wp=Nt(Jp),eb=A({},sl,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),tb=Nt(eb),ab=A({},sl,{data:0}),nu=Nt(ab),lb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function rb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=nb[e])?!!t[e]:!1}function so(){return rb}var ib=A({},Ds,{key:function(e){if(e.key){var t=lb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=er(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:so,charCode:function(e){return e.type==="keypress"?er(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?er(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),ob=Nt(ib),cb=A({},lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ru=Nt(cb),db=A({},Ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:so}),ub=Nt(db),mb=A({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),xb=Nt(mb),fb=A({},lr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),hb=Nt(fb),pb=A({},sl,{newState:0,oldState:0}),bb=Nt(pb),vb=[9,13,27,32],no=da&&"CompositionEvent"in window,Ls=null;da&&"documentMode"in document&&(Ls=document.documentMode);var gb=da&&"TextEvent"in window&&!Ls,iu=da&&(!no||Ls&&8<Ls&&11>=Ls),ou=" ",cu=!1;function du(e,t){switch(e){case"keyup":return vb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Il=!1;function yb(e,t){switch(e){case"compositionend":return uu(t);case"keypress":return t.which!==32?null:(cu=!0,ou);case"textInput":return e=t.data,e===ou&&cu?null:e;default:return null}}function jb(e,t){if(Il)return e==="compositionend"||!no&&du(e,t)?(e=au(),Wn=eo=Ea=null,Il=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return iu&&t.locale!=="ko"?null:t.data;default:return null}}var Nb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function mu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Nb[e.type]:t==="textarea"}function xu(e,t,l,s){Ll?Ol?Ol.push(s):Ol=[s]:Ll=s,t=Vr(t,"onChange"),0<t.length&&(l=new ar("onChange","change",null,l,s),e.push({event:l,listeners:t}))}var Os=null,Is=null;function Sb(e){Xx(e,0)}function sr(e){var t=ks(e);if(Qd(t))return e}function fu(e,t){if(e==="change")return t}var hu=!1;if(da){var ro;if(da){var io="oninput"in document;if(!io){var pu=document.createElement("div");pu.setAttribute("oninput","return;"),io=typeof pu.oninput=="function"}ro=io}else ro=!1;hu=ro&&(!document.documentMode||9<document.documentMode)}function bu(){Os&&(Os.detachEvent("onpropertychange",vu),Is=Os=null)}function vu(e){if(e.propertyName==="value"&&sr(Is)){var t=[];xu(t,Is,e,Ki(e)),tu(Sb,t)}}function wb(e,t,l){e==="focusin"?(bu(),Os=t,Is=l,Os.attachEvent("onpropertychange",vu)):e==="focusout"&&bu()}function Cb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sr(Is)}function Ab(e,t){if(e==="click")return sr(t)}function Mb(e,t){if(e==="input"||e==="change")return sr(t)}function Tb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:Tb;function _s(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var l=Object.keys(e),s=Object.keys(t);if(l.length!==s.length)return!1;for(s=0;s<l.length;s++){var n=l[s];if(!Ss.call(t,n)||!Tt(e[n],t[n]))return!1}return!0}function gu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function yu(e,t){var l=gu(e);e=0;for(var s;l;){if(l.nodeType===3){if(s=e+l.textContent.length,e<=t&&s>=t)return{node:l,offset:t-e};e=s}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=gu(l)}}function ju(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ju(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Nu(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Kn(e.document);t instanceof e.HTMLIFrameElement;){try{var l=typeof t.contentWindow.location.href=="string"}catch{l=!1}if(l)e=t.contentWindow;else break;t=Kn(e.document)}return t}function oo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var kb=da&&"documentMode"in document&&11>=document.documentMode,_l=null,co=null,qs=null,uo=!1;function Su(e,t,l){var s=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;uo||_l==null||_l!==Kn(s)||(s=_l,"selectionStart"in s&&oo(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),qs&&_s(qs,s)||(qs=s,s=Vr(co,"onSelect"),0<s.length&&(t=new ar("onSelect","select",null,t,l),e.push({event:t,listeners:s}),t.target=_l)))}function nl(e,t){var l={};return l[e.toLowerCase()]=t.toLowerCase(),l["Webkit"+e]="webkit"+t,l["Moz"+e]="moz"+t,l}var ql={animationend:nl("Animation","AnimationEnd"),animationiteration:nl("Animation","AnimationIteration"),animationstart:nl("Animation","AnimationStart"),transitionrun:nl("Transition","TransitionRun"),transitionstart:nl("Transition","TransitionStart"),transitioncancel:nl("Transition","TransitionCancel"),transitionend:nl("Transition","TransitionEnd")},mo={},wu={};da&&(wu=document.createElement("div").style,"AnimationEvent"in window||(delete ql.animationend.animation,delete ql.animationiteration.animation,delete ql.animationstart.animation),"TransitionEvent"in window||delete ql.transitionend.transition);function rl(e){if(mo[e])return mo[e];if(!ql[e])return e;var t=ql[e],l;for(l in t)if(t.hasOwnProperty(l)&&l in wu)return mo[e]=t[l];return e}var Cu=rl("animationend"),Au=rl("animationiteration"),Mu=rl("animationstart"),Eb=rl("transitionrun"),zb=rl("transitionstart"),Db=rl("transitioncancel"),Tu=rl("transitionend"),ku=new Map,xo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xo.push("scrollEnd");function Yt(e,t){ku.set(e,t),ll(t,[e])}var nr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qt=[],Hl=0,fo=0;function rr(){for(var e=Hl,t=fo=Hl=0;t<e;){var l=qt[t];qt[t++]=null;var s=qt[t];qt[t++]=null;var n=qt[t];qt[t++]=null;var i=qt[t];if(qt[t++]=null,s!==null&&n!==null){var m=s.pending;m===null?n.next=n:(n.next=m.next,m.next=n),s.pending=n}i!==0&&Eu(l,n,i)}}function ir(e,t,l,s){qt[Hl++]=e,qt[Hl++]=t,qt[Hl++]=l,qt[Hl++]=s,fo|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function ho(e,t,l,s){return ir(e,t,l,s),or(e)}function il(e,t){return ir(e,null,null,t),or(e)}function Eu(e,t,l){e.lanes|=l;var s=e.alternate;s!==null&&(s.lanes|=l);for(var n=!1,i=e.return;i!==null;)i.childLanes|=l,s=i.alternate,s!==null&&(s.childLanes|=l),i.tag===22&&(e=i.stateNode,e===null||e._visibility&1||(n=!0)),e=i,i=i.return;return e.tag===3?(i=e.stateNode,n&&t!==null&&(n=31-vt(l),e=i.hiddenUpdates,s=e[n],s===null?e[n]=[t]:s.push(t),t.lane=l|536870912),i):null}function or(e){if(50<rn)throw rn=0,wc=null,Error(c(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Bl={};function Rb(e,t,l,s){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kt(e,t,l,s){return new Rb(e,t,l,s)}function po(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ua(e,t){var l=e.alternate;return l===null?(l=kt(e.tag,t,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=t,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,t=e.dependencies,l.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function zu(e,t){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,t=l.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function cr(e,t,l,s,n,i){var m=0;if(s=e,typeof e=="function")po(e)&&(m=1);else if(typeof e=="string")m=qv(e,l,K.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case P:return e=kt(31,l,t,n),e.elementType=P,e.lanes=i,e;case g:return ol(l.children,n,i,t);case y:m=8,n|=24;break;case N:return e=kt(12,l,t,n|2),e.elementType=N,e.lanes=i,e;case ee:return e=kt(13,l,t,n),e.elementType=ee,e.lanes=i,e;case $:return e=kt(19,l,t,n),e.elementType=$,e.lanes=i,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case k:m=10;break e;case R:m=9;break e;case _:m=11;break e;case F:m=14;break e;case ce:m=16,s=null;break e}m=29,l=Error(c(130,e===null?"null":typeof e,"")),s=null}return t=kt(m,l,t,n),t.elementType=e,t.type=s,t.lanes=i,t}function ol(e,t,l,s){return e=kt(7,e,s,t),e.lanes=l,e}function bo(e,t,l){return e=kt(6,e,null,t),e.lanes=l,e}function Du(e){var t=kt(18,null,null,0);return t.stateNode=e,t}function vo(e,t,l){return t=kt(4,e.children!==null?e.children:[],e.key,t),t.lanes=l,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Ru=new WeakMap;function Ht(e,t){if(typeof e=="object"&&e!==null){var l=Ru.get(e);return l!==void 0?l:(t={value:e,source:t,stack:Bn(t)},Ru.set(e,t),t)}return{value:e,source:t,stack:Bn(t)}}var Ul=[],$l=0,dr=null,Hs=0,Bt=[],Ut=0,za=null,ea=1,ta="";function ma(e,t){Ul[$l++]=Hs,Ul[$l++]=dr,dr=e,Hs=t}function Lu(e,t,l){Bt[Ut++]=ea,Bt[Ut++]=ta,Bt[Ut++]=za,za=e;var s=ea;e=ta;var n=32-vt(s)-1;s&=~(1<<n),l+=1;var i=32-vt(t)+n;if(30<i){var m=n-n%5;i=(s&(1<<m)-1).toString(32),s>>=m,n-=m,ea=1<<32-vt(t)+n|l<<n|s,ta=i+e}else ea=1<<i|l<<n|s,ta=e}function go(e){e.return!==null&&(ma(e,1),Lu(e,1,0))}function yo(e){for(;e===dr;)dr=Ul[--$l],Ul[$l]=null,Hs=Ul[--$l],Ul[$l]=null;for(;e===za;)za=Bt[--Ut],Bt[Ut]=null,ta=Bt[--Ut],Bt[Ut]=null,ea=Bt[--Ut],Bt[Ut]=null}function Ou(e,t){Bt[Ut++]=ea,Bt[Ut++]=ta,Bt[Ut++]=za,ea=t.id,ta=t.overflow,za=e}var ot=null,Fe=null,De=!1,Da=null,$t=!1,jo=Error(c(519));function Ra(e){var t=Error(c(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bs(Ht(t,e)),jo}function Iu(e){var t=e.stateNode,l=e.type,s=e.memoizedProps;switch(t[it]=e,t[jt]=s,l){case"dialog":Te("cancel",t),Te("close",t);break;case"iframe":case"object":case"embed":Te("load",t);break;case"video":case"audio":for(l=0;l<cn.length;l++)Te(cn[l],t);break;case"source":Te("error",t);break;case"img":case"image":case"link":Te("error",t),Te("load",t);break;case"details":Te("toggle",t);break;case"input":Te("invalid",t),Xd(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":Te("invalid",t);break;case"textarea":Te("invalid",t),Kd(t,s.value,s.defaultValue,s.children)}l=s.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||t.textContent===""+l||s.suppressHydrationWarning===!0||Wx(t.textContent,l)?(s.popover!=null&&(Te("beforetoggle",t),Te("toggle",t)),s.onScroll!=null&&Te("scroll",t),s.onScrollEnd!=null&&Te("scrollend",t),s.onClick!=null&&(t.onclick=ca),t=!0):t=!1,t||Ra(e,!0)}function _u(e){for(ot=e.return;ot;)switch(ot.tag){case 5:case 31:case 13:$t=!1;return;case 27:case 3:$t=!0;return;default:ot=ot.return}}function Pl(e){if(e!==ot)return!1;if(!De)return _u(e),De=!0,!1;var t=e.tag,l;if((l=t!==3&&t!==27)&&((l=t===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||Hc(e.type,e.memoizedProps)),l=!l),l&&Fe&&Ra(e),_u(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Fe=cf(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(317));Fe=cf(e)}else t===27?(t=Fe,Ya(e.type)?(e=Fc,Fc=null,Fe=e):Fe=t):Fe=ot?Ft(e.stateNode.nextSibling):null;return!0}function cl(){Fe=ot=null,De=!1}function No(){var e=Da;return e!==null&&(At===null?At=e:At.push.apply(At,e),Da=null),e}function Bs(e){Da===null?Da=[e]:Da.push(e)}var So=T(null),dl=null,xa=null;function La(e,t,l){X(So,t._currentValue),t._currentValue=l}function fa(e){e._currentValue=So.current,H(So)}function wo(e,t,l){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===l)break;e=e.return}}function Co(e,t,l,s){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var i=n.dependencies;if(i!==null){var m=n.child;i=i.firstContext;e:for(;i!==null;){var C=i;i=n;for(var E=0;E<t.length;E++)if(C.context===t[E]){i.lanes|=l,C=i.alternate,C!==null&&(C.lanes|=l),wo(i.return,l,e),s||(m=null);break e}i=C.next}}else if(n.tag===18){if(m=n.return,m===null)throw Error(c(341));m.lanes|=l,i=m.alternate,i!==null&&(i.lanes|=l),wo(m,l,e),m=null}else m=n.child;if(m!==null)m.return=n;else for(m=n;m!==null;){if(m===e){m=null;break}if(n=m.sibling,n!==null){n.return=m.return,m=n;break}m=m.return}n=m}}function Fl(e,t,l,s){e=null;for(var n=t,i=!1;n!==null;){if(!i){if((n.flags&524288)!==0)i=!0;else if((n.flags&262144)!==0)break}if(n.tag===10){var m=n.alternate;if(m===null)throw Error(c(387));if(m=m.memoizedProps,m!==null){var C=n.type;Tt(n.pendingProps.value,m.value)||(e!==null?e.push(C):e=[C])}}else if(n===ue.current){if(m=n.alternate,m===null)throw Error(c(387));m.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(fn):e=[fn])}n=n.return}e!==null&&Co(t,e,l,s),t.flags|=262144}function ur(e){for(e=e.firstContext;e!==null;){if(!Tt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ul(e){dl=e,xa=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ct(e){return qu(dl,e)}function mr(e,t){return dl===null&&ul(e),qu(e,t)}function qu(e,t){var l=t._currentValue;if(t={context:t,memoizedValue:l,next:null},xa===null){if(e===null)throw Error(c(308));xa=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else xa=xa.next=t;return l}var Lb=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(l,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(l){return l()})}},Ob=r.unstable_scheduleCallback,Ib=r.unstable_NormalPriority,et={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ao(){return{controller:new Lb,data:new Map,refCount:0}}function Us(e){e.refCount--,e.refCount===0&&Ob(Ib,function(){e.controller.abort()})}var $s=null,Mo=0,Gl=0,Vl=null;function _b(e,t){if($s===null){var l=$s=[];Mo=0,Gl=Ec(),Vl={status:"pending",value:void 0,then:function(s){l.push(s)}}}return Mo++,t.then(Hu,Hu),t}function Hu(){if(--Mo===0&&$s!==null){Vl!==null&&(Vl.status="fulfilled");var e=$s;$s=null,Gl=0,Vl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function qb(e,t){var l=[],s={status:"pending",value:null,reason:null,then:function(n){l.push(n)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var n=0;n<l.length;n++)(0,l[n])(t)},function(n){for(s.status="rejected",s.reason=n,n=0;n<l.length;n++)(0,l[n])(void 0)}),s}var Bu=O.S;O.S=function(e,t){Sx=pt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&_b(e,t),Bu!==null&&Bu(e,t)};var ml=T(null);function To(){var e=ml.current;return e!==null?e:Pe.pooledCache}function xr(e,t){t===null?X(ml,ml.current):X(ml,t.pool)}function Uu(){var e=To();return e===null?null:{parent:et._currentValue,pool:e}}var Yl=Error(c(460)),ko=Error(c(474)),fr=Error(c(542)),hr={then:function(){}};function $u(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Pu(e,t,l){switch(l=e[l],l===void 0?e.push(t):l!==t&&(t.then(ca,ca),t=l),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Gu(e),e;default:if(typeof t.status=="string")t.then(ca,ca);else{if(e=Pe,e!==null&&100<e.shellSuspendCounter)throw Error(c(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=s}},function(s){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Gu(e),e}throw fl=t,Yl}}function xl(e){try{var t=e._init;return t(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(fl=l,Yl):l}}var fl=null;function Fu(){if(fl===null)throw Error(c(459));var e=fl;return fl=null,e}function Gu(e){if(e===Yl||e===fr)throw Error(c(483))}var Ql=null,Ps=0;function pr(e){var t=Ps;return Ps+=1,Ql===null&&(Ql=[]),Pu(Ql,e,t)}function Fs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function br(e,t){throw t.$$typeof===w?Error(c(525)):(e=Object.prototype.toString.call(t),Error(c(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Vu(e){function t(B,L){if(e){var G=B.deletions;G===null?(B.deletions=[L],B.flags|=16):G.push(L)}}function l(B,L){if(!e)return null;for(;L!==null;)t(B,L),L=L.sibling;return null}function s(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function n(B,L){return B=ua(B,L),B.index=0,B.sibling=null,B}function i(B,L,G){return B.index=G,e?(G=B.alternate,G!==null?(G=G.index,G<L?(B.flags|=67108866,L):G):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function m(B){return e&&B.alternate===null&&(B.flags|=67108866),B}function C(B,L,G,ae){return L===null||L.tag!==6?(L=bo(G,B.mode,ae),L.return=B,L):(L=n(L,G),L.return=B,L)}function E(B,L,G,ae){var ge=G.type;return ge===g?te(B,L,G.props.children,ae,G.key):L!==null&&(L.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ce&&xl(ge)===L.type)?(L=n(L,G.props),Fs(L,G),L.return=B,L):(L=cr(G.type,G.key,G.props,null,B.mode,ae),Fs(L,G),L.return=B,L)}function V(B,L,G,ae){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=vo(G,B.mode,ae),L.return=B,L):(L=n(L,G.children||[]),L.return=B,L)}function te(B,L,G,ae,ge){return L===null||L.tag!==7?(L=ol(G,B.mode,ae,ge),L.return=B,L):(L=n(L,G),L.return=B,L)}function se(B,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=bo(""+L,B.mode,G),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case M:return G=cr(L.type,L.key,L.props,null,B.mode,G),Fs(G,L),G.return=B,G;case p:return L=vo(L,B.mode,G),L.return=B,L;case ce:return L=xl(L),se(B,L,G)}if(q(L)||D(L))return L=ol(L,B.mode,G,null),L.return=B,L;if(typeof L.then=="function")return se(B,pr(L),G);if(L.$$typeof===k)return se(B,mr(B,L),G);br(B,L)}return null}function Y(B,L,G,ae){var ge=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return ge!==null?null:C(B,L,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case M:return G.key===ge?E(B,L,G,ae):null;case p:return G.key===ge?V(B,L,G,ae):null;case ce:return G=xl(G),Y(B,L,G,ae)}if(q(G)||D(G))return ge!==null?null:te(B,L,G,ae,null);if(typeof G.then=="function")return Y(B,L,pr(G),ae);if(G.$$typeof===k)return Y(B,L,mr(B,G),ae);br(B,G)}return null}function Z(B,L,G,ae,ge){if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return B=B.get(G)||null,C(L,B,""+ae,ge);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case M:return B=B.get(ae.key===null?G:ae.key)||null,E(L,B,ae,ge);case p:return B=B.get(ae.key===null?G:ae.key)||null,V(L,B,ae,ge);case ce:return ae=xl(ae),Z(B,L,G,ae,ge)}if(q(ae)||D(ae))return B=B.get(G)||null,te(L,B,ae,ge,null);if(typeof ae.then=="function")return Z(B,L,G,pr(ae),ge);if(ae.$$typeof===k)return Z(B,L,G,mr(L,ae),ge);br(L,ae)}return null}function fe(B,L,G,ae){for(var ge=null,Le=null,pe=L,we=L=0,ze=null;pe!==null&&we<G.length;we++){pe.index>we?(ze=pe,pe=null):ze=pe.sibling;var Oe=Y(B,pe,G[we],ae);if(Oe===null){pe===null&&(pe=ze);break}e&&pe&&Oe.alternate===null&&t(B,pe),L=i(Oe,L,we),Le===null?ge=Oe:Le.sibling=Oe,Le=Oe,pe=ze}if(we===G.length)return l(B,pe),De&&ma(B,we),ge;if(pe===null){for(;we<G.length;we++)pe=se(B,G[we],ae),pe!==null&&(L=i(pe,L,we),Le===null?ge=pe:Le.sibling=pe,Le=pe);return De&&ma(B,we),ge}for(pe=s(pe);we<G.length;we++)ze=Z(pe,B,we,G[we],ae),ze!==null&&(e&&ze.alternate!==null&&pe.delete(ze.key===null?we:ze.key),L=i(ze,L,we),Le===null?ge=ze:Le.sibling=ze,Le=ze);return e&&pe.forEach(function(Ja){return t(B,Ja)}),De&&ma(B,we),ge}function ye(B,L,G,ae){if(G==null)throw Error(c(151));for(var ge=null,Le=null,pe=L,we=L=0,ze=null,Oe=G.next();pe!==null&&!Oe.done;we++,Oe=G.next()){pe.index>we?(ze=pe,pe=null):ze=pe.sibling;var Ja=Y(B,pe,Oe.value,ae);if(Ja===null){pe===null&&(pe=ze);break}e&&pe&&Ja.alternate===null&&t(B,pe),L=i(Ja,L,we),Le===null?ge=Ja:Le.sibling=Ja,Le=Ja,pe=ze}if(Oe.done)return l(B,pe),De&&ma(B,we),ge;if(pe===null){for(;!Oe.done;we++,Oe=G.next())Oe=se(B,Oe.value,ae),Oe!==null&&(L=i(Oe,L,we),Le===null?ge=Oe:Le.sibling=Oe,Le=Oe);return De&&ma(B,we),ge}for(pe=s(pe);!Oe.done;we++,Oe=G.next())Oe=Z(pe,B,we,Oe.value,ae),Oe!==null&&(e&&Oe.alternate!==null&&pe.delete(Oe.key===null?we:Oe.key),L=i(Oe,L,we),Le===null?ge=Oe:Le.sibling=Oe,Le=Oe);return e&&pe.forEach(function(Xv){return t(B,Xv)}),De&&ma(B,we),ge}function $e(B,L,G,ae){if(typeof G=="object"&&G!==null&&G.type===g&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case M:e:{for(var ge=G.key;L!==null;){if(L.key===ge){if(ge=G.type,ge===g){if(L.tag===7){l(B,L.sibling),ae=n(L,G.props.children),ae.return=B,B=ae;break e}}else if(L.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===ce&&xl(ge)===L.type){l(B,L.sibling),ae=n(L,G.props),Fs(ae,G),ae.return=B,B=ae;break e}l(B,L);break}else t(B,L);L=L.sibling}G.type===g?(ae=ol(G.props.children,B.mode,ae,G.key),ae.return=B,B=ae):(ae=cr(G.type,G.key,G.props,null,B.mode,ae),Fs(ae,G),ae.return=B,B=ae)}return m(B);case p:e:{for(ge=G.key;L!==null;){if(L.key===ge)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){l(B,L.sibling),ae=n(L,G.children||[]),ae.return=B,B=ae;break e}else{l(B,L);break}else t(B,L);L=L.sibling}ae=vo(G,B.mode,ae),ae.return=B,B=ae}return m(B);case ce:return G=xl(G),$e(B,L,G,ae)}if(q(G))return fe(B,L,G,ae);if(D(G)){if(ge=D(G),typeof ge!="function")throw Error(c(150));return G=ge.call(G),ye(B,L,G,ae)}if(typeof G.then=="function")return $e(B,L,pr(G),ae);if(G.$$typeof===k)return $e(B,L,mr(B,G),ae);br(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(l(B,L.sibling),ae=n(L,G),ae.return=B,B=ae):(l(B,L),ae=bo(G,B.mode,ae),ae.return=B,B=ae),m(B)):l(B,L)}return function(B,L,G,ae){try{Ps=0;var ge=$e(B,L,G,ae);return Ql=null,ge}catch(pe){if(pe===Yl||pe===fr)throw pe;var Le=kt(29,pe,null,B.mode);return Le.lanes=ae,Le.return=B,Le}}}var hl=Vu(!0),Yu=Vu(!1),Oa=!1;function Eo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function zo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function _a(e,t,l){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(Ie&2)!==0){var n=s.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),s.pending=t,t=or(e),Eu(e,null,l),t}return ir(e,s,t,l),or(e)}function Gs(e,t,l){if(t=t.updateQueue,t!==null&&(t=t.shared,(l&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,Vn(e,l)}}function Do(e,t){var l=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,l===s)){var n=null,i=null;if(l=l.firstBaseUpdate,l!==null){do{var m={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};i===null?n=i=m:i=i.next=m,l=l.next}while(l!==null);i===null?n=i=t:i=i.next=t}else n=i=t;l={baseState:s.baseState,firstBaseUpdate:n,lastBaseUpdate:i,shared:s.shared,callbacks:s.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=t:e.next=t,l.lastBaseUpdate=t}var Ro=!1;function Vs(){if(Ro){var e=Vl;if(e!==null)throw e}}function Ys(e,t,l,s){Ro=!1;var n=e.updateQueue;Oa=!1;var i=n.firstBaseUpdate,m=n.lastBaseUpdate,C=n.shared.pending;if(C!==null){n.shared.pending=null;var E=C,V=E.next;E.next=null,m===null?i=V:m.next=V,m=E;var te=e.alternate;te!==null&&(te=te.updateQueue,C=te.lastBaseUpdate,C!==m&&(C===null?te.firstBaseUpdate=V:C.next=V,te.lastBaseUpdate=E))}if(i!==null){var se=n.baseState;m=0,te=V=E=null,C=i;do{var Y=C.lane&-536870913,Z=Y!==C.lane;if(Z?(Ee&Y)===Y:(s&Y)===Y){Y!==0&&Y===Gl&&(Ro=!0),te!==null&&(te=te.next={lane:0,tag:C.tag,payload:C.payload,callback:null,next:null});e:{var fe=e,ye=C;Y=t;var $e=l;switch(ye.tag){case 1:if(fe=ye.payload,typeof fe=="function"){se=fe.call($e,se,Y);break e}se=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ye.payload,Y=typeof fe=="function"?fe.call($e,se,Y):fe,Y==null)break e;se=A({},se,Y);break e;case 2:Oa=!0}}Y=C.callback,Y!==null&&(e.flags|=64,Z&&(e.flags|=8192),Z=n.callbacks,Z===null?n.callbacks=[Y]:Z.push(Y))}else Z={lane:Y,tag:C.tag,payload:C.payload,callback:C.callback,next:null},te===null?(V=te=Z,E=se):te=te.next=Z,m|=Y;if(C=C.next,C===null){if(C=n.shared.pending,C===null)break;Z=C,C=Z.next,Z.next=null,n.lastBaseUpdate=Z,n.shared.pending=null}}while(!0);te===null&&(E=se),n.baseState=E,n.firstBaseUpdate=V,n.lastBaseUpdate=te,i===null&&(n.shared.lanes=0),$a|=m,e.lanes=m,e.memoizedState=se}}function Qu(e,t){if(typeof e!="function")throw Error(c(191,e));e.call(t)}function Xu(e,t){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)Qu(l[e],t)}var Xl=T(null),vr=T(0);function Zu(e,t){e=Sa,X(vr,e),X(Xl,t),Sa=e|t.baseLanes}function Lo(){X(vr,Sa),X(Xl,Xl.current)}function Oo(){Sa=vr.current,H(Xl),H(vr)}var Et=T(null),Pt=null;function qa(e){var t=e.alternate;X(Ke,Ke.current&1),X(Et,e),Pt===null&&(t===null||Xl.current!==null||t.memoizedState!==null)&&(Pt=e)}function Io(e){X(Ke,Ke.current),X(Et,e),Pt===null&&(Pt=e)}function Ku(e){e.tag===22?(X(Ke,Ke.current),X(Et,e),Pt===null&&(Pt=e)):Ha()}function Ha(){X(Ke,Ke.current),X(Et,Et.current)}function zt(e){H(Et),Pt===e&&(Pt=null),H(Ke)}var Ke=T(0);function gr(e){for(var t=e;t!==null;){if(t.tag===13){var l=t.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||$c(l)||Pc(l)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ha=0,Se=null,Be=null,tt=null,yr=!1,Zl=!1,pl=!1,jr=0,Qs=0,Kl=null,Hb=0;function Xe(){throw Error(c(321))}function _o(e,t){if(t===null)return!1;for(var l=0;l<t.length&&l<e.length;l++)if(!Tt(e[l],t[l]))return!1;return!0}function qo(e,t,l,s,n,i){return ha=i,Se=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,O.H=e===null||e.memoizedState===null?Lm:Wo,pl=!1,i=l(s,n),pl=!1,Zl&&(i=Wu(t,l,s,n)),Ju(e),i}function Ju(e){O.H=Ks;var t=Be!==null&&Be.next!==null;if(ha=0,tt=Be=Se=null,yr=!1,Qs=0,Kl=null,t)throw Error(c(300));e===null||at||(e=e.dependencies,e!==null&&ur(e)&&(at=!0))}function Wu(e,t,l,s){Se=e;var n=0;do{if(Zl&&(Kl=null),Qs=0,Zl=!1,25<=n)throw Error(c(301));if(n+=1,tt=Be=null,e.updateQueue!=null){var i=e.updateQueue;i.lastEffect=null,i.events=null,i.stores=null,i.memoCache!=null&&(i.memoCache.index=0)}O.H=Om,i=t(l,s)}while(Zl);return i}function Bb(){var e=O.H,t=e.useState()[0];return t=typeof t.then=="function"?Xs(t):t,e=e.useState()[0],(Be!==null?Be.memoizedState:null)!==e&&(Se.flags|=1024),t}function Ho(){var e=jr!==0;return jr=0,e}function Bo(e,t,l){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~l}function Uo(e){if(yr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}yr=!1}ha=0,tt=Be=Se=null,Zl=!1,Qs=jr=0,Kl=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tt===null?Se.memoizedState=tt=e:tt=tt.next=e,tt}function Je(){if(Be===null){var e=Se.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var t=tt===null?Se.memoizedState:tt.next;if(t!==null)tt=t,Be=e;else{if(e===null)throw Se.alternate===null?Error(c(467)):Error(c(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},tt===null?Se.memoizedState=tt=e:tt=tt.next=e}return tt}function Nr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xs(e){var t=Qs;return Qs+=1,Kl===null&&(Kl=[]),e=Pu(Kl,e,t),t=Se,(tt===null?t.memoizedState:tt.next)===null&&(t=t.alternate,O.H=t===null||t.memoizedState===null?Lm:Wo),e}function Sr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xs(e);if(e.$$typeof===k)return ct(e)}throw Error(c(438,String(e)))}function $o(e){var t=null,l=Se.updateQueue;if(l!==null&&(t=l.memoCache),t==null){var s=Se.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),l===null&&(l=Nr(),Se.updateQueue=l),l.memoCache=t,l=t.data[t.index],l===void 0)for(l=t.data[t.index]=Array(e),s=0;s<e;s++)l[s]=le;return t.index++,l}function pa(e,t){return typeof t=="function"?t(e):t}function wr(e){var t=Je();return Po(t,Be,e)}function Po(e,t,l){var s=e.queue;if(s===null)throw Error(c(311));s.lastRenderedReducer=l;var n=e.baseQueue,i=s.pending;if(i!==null){if(n!==null){var m=n.next;n.next=i.next,i.next=m}t.baseQueue=n=i,s.pending=null}if(i=e.baseState,n===null)e.memoizedState=i;else{t=n.next;var C=m=null,E=null,V=t,te=!1;do{var se=V.lane&-536870913;if(se!==V.lane?(Ee&se)===se:(ha&se)===se){var Y=V.revertLane;if(Y===0)E!==null&&(E=E.next={lane:0,revertLane:0,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),se===Gl&&(te=!0);else if((ha&Y)===Y){V=V.next,Y===Gl&&(te=!0);continue}else se={lane:0,revertLane:V.revertLane,gesture:null,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},E===null?(C=E=se,m=i):E=E.next=se,Se.lanes|=Y,$a|=Y;se=V.action,pl&&l(i,se),i=V.hasEagerState?V.eagerState:l(i,se)}else Y={lane:se,revertLane:V.revertLane,gesture:V.gesture,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null},E===null?(C=E=Y,m=i):E=E.next=Y,Se.lanes|=se,$a|=se;V=V.next}while(V!==null&&V!==t);if(E===null?m=i:E.next=C,!Tt(i,e.memoizedState)&&(at=!0,te&&(l=Vl,l!==null)))throw l;e.memoizedState=i,e.baseState=m,e.baseQueue=E,s.lastRenderedState=i}return n===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function Fo(e){var t=Je(),l=t.queue;if(l===null)throw Error(c(311));l.lastRenderedReducer=e;var s=l.dispatch,n=l.pending,i=t.memoizedState;if(n!==null){l.pending=null;var m=n=n.next;do i=e(i,m.action),m=m.next;while(m!==n);Tt(i,t.memoizedState)||(at=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),l.lastRenderedState=i}return[i,s]}function em(e,t,l){var s=Se,n=Je(),i=De;if(i){if(l===void 0)throw Error(c(407));l=l()}else l=t();var m=!Tt((Be||n).memoizedState,l);if(m&&(n.memoizedState=l,at=!0),n=n.queue,Yo(lm.bind(null,s,n,e),[e]),n.getSnapshot!==t||m||tt!==null&&tt.memoizedState.tag&1){if(s.flags|=2048,Jl(9,{destroy:void 0},am.bind(null,s,n,l,t),null),Pe===null)throw Error(c(349));i||(ha&127)!==0||tm(s,t,l)}return l}function tm(e,t,l){e.flags|=16384,e={getSnapshot:t,value:l},t=Se.updateQueue,t===null?(t=Nr(),Se.updateQueue=t,t.stores=[e]):(l=t.stores,l===null?t.stores=[e]:l.push(e))}function am(e,t,l,s){t.value=l,t.getSnapshot=s,sm(t)&&nm(e)}function lm(e,t,l){return l(function(){sm(t)&&nm(e)})}function sm(e){var t=e.getSnapshot;e=e.value;try{var l=t();return!Tt(e,l)}catch{return!0}}function nm(e){var t=il(e,2);t!==null&&Mt(t,e,2)}function Go(e){var t=gt();if(typeof e=="function"){var l=e;if(e=l(),pl){Wt(!0);try{l()}finally{Wt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:e},t}function rm(e,t,l,s){return e.baseState=l,Po(e,Be,typeof s=="function"?s:pa)}function Ub(e,t,l,s,n){if(Mr(e))throw Error(c(485));if(e=t.action,e!==null){var i={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){i.listeners.push(m)}};O.T!==null?l(!0):i.isTransition=!1,s(i),l=t.pending,l===null?(i.next=t.pending=i,im(t,i)):(i.next=l.next,t.pending=l.next=i)}}function im(e,t){var l=t.action,s=t.payload,n=e.state;if(t.isTransition){var i=O.T,m={};O.T=m;try{var C=l(n,s),E=O.S;E!==null&&E(m,C),om(e,t,C)}catch(V){Vo(e,t,V)}finally{i!==null&&m.types!==null&&(i.types=m.types),O.T=i}}else try{i=l(n,s),om(e,t,i)}catch(V){Vo(e,t,V)}}function om(e,t,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(s){cm(e,t,s)},function(s){return Vo(e,t,s)}):cm(e,t,l)}function cm(e,t,l){t.status="fulfilled",t.value=l,dm(t),e.state=l,t=e.pending,t!==null&&(l=t.next,l===t?e.pending=null:(l=l.next,t.next=l,im(e,l)))}function Vo(e,t,l){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=l,dm(t),t=t.next;while(t!==s)}e.action=null}function dm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function um(e,t){return t}function mm(e,t){if(De){var l=Pe.formState;if(l!==null){e:{var s=Se;if(De){if(Fe){t:{for(var n=Fe,i=$t;n.nodeType!==8;){if(!i){n=null;break t}if(n=Ft(n.nextSibling),n===null){n=null;break t}}i=n.data,n=i==="F!"||i==="F"?n:null}if(n){Fe=Ft(n.nextSibling),s=n.data==="F!";break e}}Ra(s)}s=!1}s&&(t=l[0])}}return l=gt(),l.memoizedState=l.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:um,lastRenderedState:t},l.queue=s,l=zm.bind(null,Se,s),s.dispatch=l,s=Go(!1),i=Jo.bind(null,Se,!1,s.queue),s=gt(),n={state:t,dispatch:null,action:e,pending:null},s.queue=n,l=Ub.bind(null,Se,n,i,l),n.dispatch=l,s.memoizedState=e,[t,l,!1]}function xm(e){var t=Je();return fm(t,Be,e)}function fm(e,t,l){if(t=Po(e,t,um)[0],e=wr(pa)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=Xs(t)}catch(m){throw m===Yl?fr:m}else s=t;t=Je();var n=t.queue,i=n.dispatch;return l!==t.memoizedState&&(Se.flags|=2048,Jl(9,{destroy:void 0},$b.bind(null,n,l),null)),[s,i,e]}function $b(e,t){e.action=t}function hm(e){var t=Je(),l=Be;if(l!==null)return fm(t,l,e);Je(),t=t.memoizedState,l=Je();var s=l.queue.dispatch;return l.memoizedState=e,[t,s,!1]}function Jl(e,t,l,s){return e={tag:e,create:l,deps:s,inst:t,next:null},t=Se.updateQueue,t===null&&(t=Nr(),Se.updateQueue=t),l=t.lastEffect,l===null?t.lastEffect=e.next=e:(s=l.next,l.next=e,e.next=s,t.lastEffect=e),e}function pm(){return Je().memoizedState}function Cr(e,t,l,s){var n=gt();Se.flags|=e,n.memoizedState=Jl(1|t,{destroy:void 0},l,s===void 0?null:s)}function Ar(e,t,l,s){var n=Je();s=s===void 0?null:s;var i=n.memoizedState.inst;Be!==null&&s!==null&&_o(s,Be.memoizedState.deps)?n.memoizedState=Jl(t,i,l,s):(Se.flags|=e,n.memoizedState=Jl(1|t,i,l,s))}function bm(e,t){Cr(8390656,8,e,t)}function Yo(e,t){Ar(2048,8,e,t)}function Pb(e){Se.flags|=4;var t=Se.updateQueue;if(t===null)t=Nr(),Se.updateQueue=t,t.events=[e];else{var l=t.events;l===null?t.events=[e]:l.push(e)}}function vm(e){var t=Je().memoizedState;return Pb({ref:t,nextImpl:e}),function(){if((Ie&2)!==0)throw Error(c(440));return t.impl.apply(void 0,arguments)}}function gm(e,t){return Ar(4,2,e,t)}function ym(e,t){return Ar(4,4,e,t)}function jm(e,t){if(typeof t=="function"){e=e();var l=t(e);return function(){typeof l=="function"?l():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nm(e,t,l){l=l!=null?l.concat([e]):null,Ar(4,4,jm.bind(null,t,e),l)}function Qo(){}function Sm(e,t){var l=Je();t=t===void 0?null:t;var s=l.memoizedState;return t!==null&&_o(t,s[1])?s[0]:(l.memoizedState=[e,t],e)}function wm(e,t){var l=Je();t=t===void 0?null:t;var s=l.memoizedState;if(t!==null&&_o(t,s[1]))return s[0];if(s=e(),pl){Wt(!0);try{e()}finally{Wt(!1)}}return l.memoizedState=[s,t],s}function Xo(e,t,l){return l===void 0||(ha&1073741824)!==0&&(Ee&261930)===0?e.memoizedState=t:(e.memoizedState=l,e=Cx(),Se.lanes|=e,$a|=e,l)}function Cm(e,t,l,s){return Tt(l,t)?l:Xl.current!==null?(e=Xo(e,l,s),Tt(e,t)||(at=!0),e):(ha&42)===0||(ha&1073741824)!==0&&(Ee&261930)===0?(at=!0,e.memoizedState=l):(e=Cx(),Se.lanes|=e,$a|=e,t)}function Am(e,t,l,s,n){var i=ne.p;ne.p=i!==0&&8>i?i:8;var m=O.T,C={};O.T=C,Jo(e,!1,t,l);try{var E=n(),V=O.S;if(V!==null&&V(C,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var te=qb(E,s);Zs(e,t,te,Lt(e))}else Zs(e,t,s,Lt(e))}catch(se){Zs(e,t,{then:function(){},status:"rejected",reason:se},Lt())}finally{ne.p=i,m!==null&&C.types!==null&&(m.types=C.types),O.T=m}}function Fb(){}function Zo(e,t,l,s){if(e.tag!==5)throw Error(c(476));var n=Mm(e).queue;Am(e,n,t,Q,l===null?Fb:function(){return Tm(e),l(s)})}function Mm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Q,baseState:Q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:Q},next:null};var l={};return t.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:pa,lastRenderedState:l},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Tm(e){var t=Mm(e);t.next===null&&(t=e.alternate.memoizedState),Zs(e,t.next.queue,{},Lt())}function Ko(){return ct(fn)}function km(){return Je().memoizedState}function Em(){return Je().memoizedState}function Gb(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var l=Lt();e=Ia(l);var s=_a(t,e,l);s!==null&&(Mt(s,t,l),Gs(s,t,l)),t={cache:Ao()},e.payload=t;return}t=t.return}}function Vb(e,t,l){var s=Lt();l={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Mr(e)?Dm(t,l):(l=ho(e,t,l,s),l!==null&&(Mt(l,e,s),Rm(l,t,s)))}function zm(e,t,l){var s=Lt();Zs(e,t,l,s)}function Zs(e,t,l,s){var n={lane:s,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(Mr(e))Dm(t,n);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var m=t.lastRenderedState,C=i(m,l);if(n.hasEagerState=!0,n.eagerState=C,Tt(C,m))return ir(e,t,n,0),Pe===null&&rr(),!1}catch{}if(l=ho(e,t,n,s),l!==null)return Mt(l,e,s),Rm(l,t,s),!0}return!1}function Jo(e,t,l,s){if(s={lane:2,revertLane:Ec(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Mr(e)){if(t)throw Error(c(479))}else t=ho(e,l,s,2),t!==null&&Mt(t,e,2)}function Mr(e){var t=e.alternate;return e===Se||t!==null&&t===Se}function Dm(e,t){Zl=yr=!0;var l=e.pending;l===null?t.next=t:(t.next=l.next,l.next=t),e.pending=t}function Rm(e,t,l){if((l&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,l|=s,t.lanes=l,Vn(e,l)}}var Ks={readContext:ct,use:Sr,useCallback:Xe,useContext:Xe,useEffect:Xe,useImperativeHandle:Xe,useLayoutEffect:Xe,useInsertionEffect:Xe,useMemo:Xe,useReducer:Xe,useRef:Xe,useState:Xe,useDebugValue:Xe,useDeferredValue:Xe,useTransition:Xe,useSyncExternalStore:Xe,useId:Xe,useHostTransitionStatus:Xe,useFormState:Xe,useActionState:Xe,useOptimistic:Xe,useMemoCache:Xe,useCacheRefresh:Xe};Ks.useEffectEvent=Xe;var Lm={readContext:ct,use:Sr,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:ct,useEffect:bm,useImperativeHandle:function(e,t,l){l=l!=null?l.concat([e]):null,Cr(4194308,4,jm.bind(null,t,e),l)},useLayoutEffect:function(e,t){return Cr(4194308,4,e,t)},useInsertionEffect:function(e,t){Cr(4,2,e,t)},useMemo:function(e,t){var l=gt();t=t===void 0?null:t;var s=e();if(pl){Wt(!0);try{e()}finally{Wt(!1)}}return l.memoizedState=[s,t],s},useReducer:function(e,t,l){var s=gt();if(l!==void 0){var n=l(t);if(pl){Wt(!0);try{l(t)}finally{Wt(!1)}}}else n=t;return s.memoizedState=s.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},s.queue=e,e=e.dispatch=Vb.bind(null,Se,e),[s.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:function(e){e=Go(e);var t=e.queue,l=zm.bind(null,Se,t);return t.dispatch=l,[e.memoizedState,l]},useDebugValue:Qo,useDeferredValue:function(e,t){var l=gt();return Xo(l,e,t)},useTransition:function(){var e=Go(!1);return e=Am.bind(null,Se,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,l){var s=Se,n=gt();if(De){if(l===void 0)throw Error(c(407));l=l()}else{if(l=t(),Pe===null)throw Error(c(349));(Ee&127)!==0||tm(s,t,l)}n.memoizedState=l;var i={value:l,getSnapshot:t};return n.queue=i,bm(lm.bind(null,s,i,e),[e]),s.flags|=2048,Jl(9,{destroy:void 0},am.bind(null,s,i,l,t),null),l},useId:function(){var e=gt(),t=Pe.identifierPrefix;if(De){var l=ta,s=ea;l=(s&~(1<<32-vt(s)-1)).toString(32)+l,t="_"+t+"R_"+l,l=jr++,0<l&&(t+="H"+l.toString(32)),t+="_"}else l=Hb++,t="_"+t+"r_"+l.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Ko,useFormState:mm,useActionState:mm,useOptimistic:function(e){var t=gt();t.memoizedState=t.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=l,t=Jo.bind(null,Se,!0,l),l.dispatch=t,[e,t]},useMemoCache:$o,useCacheRefresh:function(){return gt().memoizedState=Gb.bind(null,Se)},useEffectEvent:function(e){var t=gt(),l={impl:e};return t.memoizedState=l,function(){if((Ie&2)!==0)throw Error(c(440));return l.impl.apply(void 0,arguments)}}},Wo={readContext:ct,use:Sr,useCallback:Sm,useContext:ct,useEffect:Yo,useImperativeHandle:Nm,useInsertionEffect:gm,useLayoutEffect:ym,useMemo:wm,useReducer:wr,useRef:pm,useState:function(){return wr(pa)},useDebugValue:Qo,useDeferredValue:function(e,t){var l=Je();return Cm(l,Be.memoizedState,e,t)},useTransition:function(){var e=wr(pa)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:Xs(e),t]},useSyncExternalStore:em,useId:km,useHostTransitionStatus:Ko,useFormState:xm,useActionState:xm,useOptimistic:function(e,t){var l=Je();return rm(l,Be,e,t)},useMemoCache:$o,useCacheRefresh:Em};Wo.useEffectEvent=vm;var Om={readContext:ct,use:Sr,useCallback:Sm,useContext:ct,useEffect:Yo,useImperativeHandle:Nm,useInsertionEffect:gm,useLayoutEffect:ym,useMemo:wm,useReducer:Fo,useRef:pm,useState:function(){return Fo(pa)},useDebugValue:Qo,useDeferredValue:function(e,t){var l=Je();return Be===null?Xo(l,e,t):Cm(l,Be.memoizedState,e,t)},useTransition:function(){var e=Fo(pa)[0],t=Je().memoizedState;return[typeof e=="boolean"?e:Xs(e),t]},useSyncExternalStore:em,useId:km,useHostTransitionStatus:Ko,useFormState:hm,useActionState:hm,useOptimistic:function(e,t){var l=Je();return Be!==null?rm(l,Be,e,t):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:$o,useCacheRefresh:Em};Om.useEffectEvent=vm;function ec(e,t,l,s){t=e.memoizedState,l=l(s,t),l=l==null?t:A({},t,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var tc={enqueueSetState:function(e,t,l){e=e._reactInternals;var s=Lt(),n=Ia(s);n.payload=t,l!=null&&(n.callback=l),t=_a(e,n,s),t!==null&&(Mt(t,e,s),Gs(t,e,s))},enqueueReplaceState:function(e,t,l){e=e._reactInternals;var s=Lt(),n=Ia(s);n.tag=1,n.payload=t,l!=null&&(n.callback=l),t=_a(e,n,s),t!==null&&(Mt(t,e,s),Gs(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var l=Lt(),s=Ia(l);s.tag=2,t!=null&&(s.callback=t),t=_a(e,s,l),t!==null&&(Mt(t,e,l),Gs(t,e,l))}};function Im(e,t,l,s,n,i,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,i,m):t.prototype&&t.prototype.isPureReactComponent?!_s(l,s)||!_s(n,i):!0}function _m(e,t,l,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(l,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(l,s),t.state!==e&&tc.enqueueReplaceState(t,t.state,null)}function bl(e,t){var l=t;if("ref"in t){l={};for(var s in t)s!=="ref"&&(l[s]=t[s])}if(e=e.defaultProps){l===t&&(l=A({},l));for(var n in e)l[n]===void 0&&(l[n]=e[n])}return l}function qm(e){nr(e)}function Hm(e){console.error(e)}function Bm(e){nr(e)}function Tr(e,t){try{var l=e.onUncaughtError;l(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Um(e,t,l){try{var s=e.onCaughtError;s(l.value,{componentStack:l.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function ac(e,t,l){return l=Ia(l),l.tag=3,l.payload={element:null},l.callback=function(){Tr(e,t)},l}function $m(e){return e=Ia(e),e.tag=3,e}function Pm(e,t,l,s){var n=l.type.getDerivedStateFromError;if(typeof n=="function"){var i=s.value;e.payload=function(){return n(i)},e.callback=function(){Um(t,l,s)}}var m=l.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){Um(t,l,s),typeof n!="function"&&(Pa===null?Pa=new Set([this]):Pa.add(this));var C=s.stack;this.componentDidCatch(s.value,{componentStack:C!==null?C:""})})}function Yb(e,t,l,s,n){if(l.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=l.alternate,t!==null&&Fl(t,l,n,!0),l=Et.current,l!==null){switch(l.tag){case 31:case 13:return Pt===null?Br():l.alternate===null&&Ze===0&&(Ze=3),l.flags&=-257,l.flags|=65536,l.lanes=n,s===hr?l.flags|=16384:(t=l.updateQueue,t===null?l.updateQueue=new Set([s]):t.add(s),Mc(e,s,n)),!1;case 22:return l.flags|=65536,s===hr?l.flags|=16384:(t=l.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},l.updateQueue=t):(l=t.retryQueue,l===null?t.retryQueue=new Set([s]):l.add(s)),Mc(e,s,n)),!1}throw Error(c(435,l.tag))}return Mc(e,s,n),Br(),!1}if(De)return t=Et.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=n,s!==jo&&(e=Error(c(422),{cause:s}),Bs(Ht(e,l)))):(s!==jo&&(t=Error(c(423),{cause:s}),Bs(Ht(t,l))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,s=Ht(s,l),n=ac(e.stateNode,s,n),Do(e,n),Ze!==4&&(Ze=2)),!1;var i=Error(c(520),{cause:s});if(i=Ht(i,l),nn===null?nn=[i]:nn.push(i),Ze!==4&&(Ze=2),t===null)return!0;s=Ht(s,l),l=t;do{switch(l.tag){case 3:return l.flags|=65536,e=n&-n,l.lanes|=e,e=ac(l.stateNode,s,e),Do(l,e),!1;case 1:if(t=l.type,i=l.stateNode,(l.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||i!==null&&typeof i.componentDidCatch=="function"&&(Pa===null||!Pa.has(i))))return l.flags|=65536,n&=-n,l.lanes|=n,n=$m(n),Pm(n,e,l,s),Do(l,n),!1}l=l.return}while(l!==null);return!1}var lc=Error(c(461)),at=!1;function dt(e,t,l,s){t.child=e===null?Yu(t,null,l,s):hl(t,e.child,l,s)}function Fm(e,t,l,s,n){l=l.render;var i=t.ref;if("ref"in s){var m={};for(var C in s)C!=="ref"&&(m[C]=s[C])}else m=s;return ul(t),s=qo(e,t,l,m,i,n),C=Ho(),e!==null&&!at?(Bo(e,t,n),ba(e,t,n)):(De&&C&&go(t),t.flags|=1,dt(e,t,s,n),t.child)}function Gm(e,t,l,s,n){if(e===null){var i=l.type;return typeof i=="function"&&!po(i)&&i.defaultProps===void 0&&l.compare===null?(t.tag=15,t.type=i,Vm(e,t,i,s,n)):(e=cr(l.type,null,s,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!uc(e,n)){var m=i.memoizedProps;if(l=l.compare,l=l!==null?l:_s,l(m,s)&&e.ref===t.ref)return ba(e,t,n)}return t.flags|=1,e=ua(i,s),e.ref=t.ref,e.return=t,t.child=e}function Vm(e,t,l,s,n){if(e!==null){var i=e.memoizedProps;if(_s(i,s)&&e.ref===t.ref)if(at=!1,t.pendingProps=s=i,uc(e,n))(e.flags&131072)!==0&&(at=!0);else return t.lanes=e.lanes,ba(e,t,n)}return sc(e,t,l,s,n)}function Ym(e,t,l,s){var n=s.children,i=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(i=i!==null?i.baseLanes|l:l,e!==null){for(s=t.child=e.child,n=0;s!==null;)n=n|s.lanes|s.childLanes,s=s.sibling;s=n&~i}else s=0,t.child=null;return Qm(e,t,i,l,s)}if((l&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&xr(t,i!==null?i.cachePool:null),i!==null?Zu(t,i):Lo(),Ku(t);else return s=t.lanes=536870912,Qm(e,t,i!==null?i.baseLanes|l:l,l,s)}else i!==null?(xr(t,i.cachePool),Zu(t,i),Ha(),t.memoizedState=null):(e!==null&&xr(t,null),Lo(),Ha());return dt(e,t,n,l),t.child}function Js(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Qm(e,t,l,s,n){var i=To();return i=i===null?null:{parent:et._currentValue,pool:i},t.memoizedState={baseLanes:l,cachePool:i},e!==null&&xr(t,null),Lo(),Ku(t),e!==null&&Fl(e,t,s,!0),t.childLanes=n,null}function kr(e,t){return t=zr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Xm(e,t,l){return hl(t,e.child,null,l),e=kr(t,t.pendingProps),e.flags|=2,zt(t),t.memoizedState=null,e}function Qb(e,t,l){var s=t.pendingProps,n=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(De){if(s.mode==="hidden")return e=kr(t,s),t.lanes=536870912,Js(null,e);if(Io(t),(e=Fe)?(e=of(e,$t),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},l=Du(e),l.return=t,t.child=l,ot=t,Fe=null)):e=null,e===null)throw Ra(t);return t.lanes=536870912,null}return kr(t,s)}var i=e.memoizedState;if(i!==null){var m=i.dehydrated;if(Io(t),n)if(t.flags&256)t.flags&=-257,t=Xm(e,t,l);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(c(558));else if(at||Fl(e,t,l,!1),n=(l&e.childLanes)!==0,at||n){if(s=Pe,s!==null&&(m=Yn(s,l),m!==0&&m!==i.retryLane))throw i.retryLane=m,il(e,m),Mt(s,e,m),lc;Br(),t=Xm(e,t,l)}else e=i.treeContext,Fe=Ft(m.nextSibling),ot=t,De=!0,Da=null,$t=!1,e!==null&&Ou(t,e),t=kr(t,s),t.flags|=4096;return t}return e=ua(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Er(e,t){var l=t.ref;if(l===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(c(284));(e===null||e.ref!==l)&&(t.flags|=4194816)}}function sc(e,t,l,s,n){return ul(t),l=qo(e,t,l,s,void 0,n),s=Ho(),e!==null&&!at?(Bo(e,t,n),ba(e,t,n)):(De&&s&&go(t),t.flags|=1,dt(e,t,l,n),t.child)}function Zm(e,t,l,s,n,i){return ul(t),t.updateQueue=null,l=Wu(t,s,l,n),Ju(e),s=Ho(),e!==null&&!at?(Bo(e,t,i),ba(e,t,i)):(De&&s&&go(t),t.flags|=1,dt(e,t,l,i),t.child)}function Km(e,t,l,s,n){if(ul(t),t.stateNode===null){var i=Bl,m=l.contextType;typeof m=="object"&&m!==null&&(i=ct(m)),i=new l(s,i),t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=tc,t.stateNode=i,i._reactInternals=t,i=t.stateNode,i.props=s,i.state=t.memoizedState,i.refs={},Eo(t),m=l.contextType,i.context=typeof m=="object"&&m!==null?ct(m):Bl,i.state=t.memoizedState,m=l.getDerivedStateFromProps,typeof m=="function"&&(ec(t,l,m,s),i.state=t.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(m=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),m!==i.state&&tc.enqueueReplaceState(i,i.state,null),Ys(t,s,i,n),Vs(),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){i=t.stateNode;var C=t.memoizedProps,E=bl(l,C);i.props=E;var V=i.context,te=l.contextType;m=Bl,typeof te=="object"&&te!==null&&(m=ct(te));var se=l.getDerivedStateFromProps;te=typeof se=="function"||typeof i.getSnapshotBeforeUpdate=="function",C=t.pendingProps!==C,te||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(C||V!==m)&&_m(t,i,s,m),Oa=!1;var Y=t.memoizedState;i.state=Y,Ys(t,s,i,n),Vs(),V=t.memoizedState,C||Y!==V||Oa?(typeof se=="function"&&(ec(t,l,se,s),V=t.memoizedState),(E=Oa||Im(t,l,E,s,Y,V,m))?(te||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=V),i.props=s,i.state=V,i.context=m,s=E):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{i=t.stateNode,zo(e,t),m=t.memoizedProps,te=bl(l,m),i.props=te,se=t.pendingProps,Y=i.context,V=l.contextType,E=Bl,typeof V=="object"&&V!==null&&(E=ct(V)),C=l.getDerivedStateFromProps,(V=typeof C=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(m!==se||Y!==E)&&_m(t,i,s,E),Oa=!1,Y=t.memoizedState,i.state=Y,Ys(t,s,i,n),Vs();var Z=t.memoizedState;m!==se||Y!==Z||Oa||e!==null&&e.dependencies!==null&&ur(e.dependencies)?(typeof C=="function"&&(ec(t,l,C,s),Z=t.memoizedState),(te=Oa||Im(t,l,te,s,Y,Z,E)||e!==null&&e.dependencies!==null&&ur(e.dependencies))?(V||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(s,Z,E),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(s,Z,E)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||m===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=Z),i.props=s,i.state=Z,i.context=E,s=te):(typeof i.componentDidUpdate!="function"||m===e.memoizedProps&&Y===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&Y===e.memoizedState||(t.flags|=1024),s=!1)}return i=s,Er(e,t),s=(t.flags&128)!==0,i||s?(i=t.stateNode,l=s&&typeof l.getDerivedStateFromError!="function"?null:i.render(),t.flags|=1,e!==null&&s?(t.child=hl(t,e.child,null,n),t.child=hl(t,null,l,n)):dt(e,t,l,n),t.memoizedState=i.state,e=t.child):e=ba(e,t,n),e}function Jm(e,t,l,s){return cl(),t.flags|=256,dt(e,t,l,s),t.child}var nc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rc(e){return{baseLanes:e,cachePool:Uu()}}function ic(e,t,l){return e=e!==null?e.childLanes&~l:0,t&&(e|=Rt),e}function Wm(e,t,l){var s=t.pendingProps,n=!1,i=(t.flags&128)!==0,m;if((m=i)||(m=e!==null&&e.memoizedState===null?!1:(Ke.current&2)!==0),m&&(n=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(De){if(n?qa(t):Ha(),(e=Fe)?(e=of(e,$t),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:za!==null?{id:ea,overflow:ta}:null,retryLane:536870912,hydrationErrors:null},l=Du(e),l.return=t,t.child=l,ot=t,Fe=null)):e=null,e===null)throw Ra(t);return Pc(e)?t.lanes=32:t.lanes=536870912,null}var C=s.children;return s=s.fallback,n?(Ha(),n=t.mode,C=zr({mode:"hidden",children:C},n),s=ol(s,n,l,null),C.return=t,s.return=t,C.sibling=s,t.child=C,s=t.child,s.memoizedState=rc(l),s.childLanes=ic(e,m,l),t.memoizedState=nc,Js(null,s)):(qa(t),oc(t,C))}var E=e.memoizedState;if(E!==null&&(C=E.dehydrated,C!==null)){if(i)t.flags&256?(qa(t),t.flags&=-257,t=cc(e,t,l)):t.memoizedState!==null?(Ha(),t.child=e.child,t.flags|=128,t=null):(Ha(),C=s.fallback,n=t.mode,s=zr({mode:"visible",children:s.children},n),C=ol(C,n,l,null),C.flags|=2,s.return=t,C.return=t,s.sibling=C,t.child=s,hl(t,e.child,null,l),s=t.child,s.memoizedState=rc(l),s.childLanes=ic(e,m,l),t.memoizedState=nc,t=Js(null,s));else if(qa(t),Pc(C)){if(m=C.nextSibling&&C.nextSibling.dataset,m)var V=m.dgst;m=V,s=Error(c(419)),s.stack="",s.digest=m,Bs({value:s,source:null,stack:null}),t=cc(e,t,l)}else if(at||Fl(e,t,l,!1),m=(l&e.childLanes)!==0,at||m){if(m=Pe,m!==null&&(s=Yn(m,l),s!==0&&s!==E.retryLane))throw E.retryLane=s,il(e,s),Mt(m,e,s),lc;$c(C)||Br(),t=cc(e,t,l)}else $c(C)?(t.flags|=192,t.child=e.child,t=null):(e=E.treeContext,Fe=Ft(C.nextSibling),ot=t,De=!0,Da=null,$t=!1,e!==null&&Ou(t,e),t=oc(t,s.children),t.flags|=4096);return t}return n?(Ha(),C=s.fallback,n=t.mode,E=e.child,V=E.sibling,s=ua(E,{mode:"hidden",children:s.children}),s.subtreeFlags=E.subtreeFlags&65011712,V!==null?C=ua(V,C):(C=ol(C,n,l,null),C.flags|=2),C.return=t,s.return=t,s.sibling=C,t.child=s,Js(null,s),s=t.child,C=e.child.memoizedState,C===null?C=rc(l):(n=C.cachePool,n!==null?(E=et._currentValue,n=n.parent!==E?{parent:E,pool:E}:n):n=Uu(),C={baseLanes:C.baseLanes|l,cachePool:n}),s.memoizedState=C,s.childLanes=ic(e,m,l),t.memoizedState=nc,Js(e.child,s)):(qa(t),l=e.child,e=l.sibling,l=ua(l,{mode:"visible",children:s.children}),l.return=t,l.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=l,t.memoizedState=null,l)}function oc(e,t){return t=zr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function zr(e,t){return e=kt(22,e,null,t),e.lanes=0,e}function cc(e,t,l){return hl(t,e.child,null,l),e=oc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function ex(e,t,l){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),wo(e.return,t,l)}function dc(e,t,l,s,n,i){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:l,tailMode:n,treeForkCount:i}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=s,m.tail=l,m.tailMode=n,m.treeForkCount=i)}function tx(e,t,l){var s=t.pendingProps,n=s.revealOrder,i=s.tail;s=s.children;var m=Ke.current,C=(m&2)!==0;if(C?(m=m&1|2,t.flags|=128):m&=1,X(Ke,m),dt(e,t,s,l),s=De?Hs:0,!C&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ex(e,l,t);else if(e.tag===19)ex(e,l,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(n){case"forwards":for(l=t.child,n=null;l!==null;)e=l.alternate,e!==null&&gr(e)===null&&(n=l),l=l.sibling;l=n,l===null?(n=t.child,t.child=null):(n=l.sibling,l.sibling=null),dc(t,!1,n,l,i,s);break;case"backwards":case"unstable_legacy-backwards":for(l=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&gr(e)===null){t.child=n;break}e=n.sibling,n.sibling=l,l=n,n=e}dc(t,!0,l,null,i,s);break;case"together":dc(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function ba(e,t,l){if(e!==null&&(t.dependencies=e.dependencies),$a|=t.lanes,(l&t.childLanes)===0)if(e!==null){if(Fl(e,t,l,!1),(l&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(c(153));if(t.child!==null){for(e=t.child,l=ua(e,e.pendingProps),t.child=l,l.return=t;e.sibling!==null;)e=e.sibling,l=l.sibling=ua(e,e.pendingProps),l.return=t;l.sibling=null}return t.child}function uc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&ur(e)))}function Xb(e,t,l){switch(t.tag){case 3:Ae(t,t.stateNode.containerInfo),La(t,et,e.memoizedState.cache),cl();break;case 27:case 5:Re(t);break;case 4:Ae(t,t.stateNode.containerInfo);break;case 10:La(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Io(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(qa(t),t.flags|=128,null):(l&t.child.childLanes)!==0?Wm(e,t,l):(qa(t),e=ba(e,t,l),e!==null?e.sibling:null);qa(t);break;case 19:var n=(e.flags&128)!==0;if(s=(l&t.childLanes)!==0,s||(Fl(e,t,l,!1),s=(l&t.childLanes)!==0),n){if(s)return tx(e,t,l);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),X(Ke,Ke.current),s)break;return null;case 22:return t.lanes=0,Ym(e,t,l,t.pendingProps);case 24:La(t,et,e.memoizedState.cache)}return ba(e,t,l)}function ax(e,t,l){if(e!==null)if(e.memoizedProps!==t.pendingProps)at=!0;else{if(!uc(e,l)&&(t.flags&128)===0)return at=!1,Xb(e,t,l);at=(e.flags&131072)!==0}else at=!1,De&&(t.flags&1048576)!==0&&Lu(t,Hs,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=xl(t.elementType),t.type=e,typeof e=="function")po(e)?(s=bl(e,s),t.tag=1,t=Km(null,t,e,s,l)):(t.tag=0,t=sc(null,t,e,s,l));else{if(e!=null){var n=e.$$typeof;if(n===_){t.tag=11,t=Fm(null,t,e,s,l);break e}else if(n===F){t.tag=14,t=Gm(null,t,e,s,l);break e}}throw t=ie(e)||e,Error(c(306,t,""))}}return t;case 0:return sc(e,t,t.type,t.pendingProps,l);case 1:return s=t.type,n=bl(s,t.pendingProps),Km(e,t,s,n,l);case 3:e:{if(Ae(t,t.stateNode.containerInfo),e===null)throw Error(c(387));s=t.pendingProps;var i=t.memoizedState;n=i.element,zo(e,t),Ys(t,s,null,l);var m=t.memoizedState;if(s=m.cache,La(t,et,s),s!==i.cache&&Co(t,[et],l,!0),Vs(),s=m.element,i.isDehydrated)if(i={element:s,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){t=Jm(e,t,s,l);break e}else if(s!==n){n=Ht(Error(c(424)),t),Bs(n),t=Jm(e,t,s,l);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Fe=Ft(e.firstChild),ot=t,De=!0,Da=null,$t=!0,l=Yu(t,null,s,l),t.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(cl(),s===n){t=ba(e,t,l);break e}dt(e,t,s,l)}t=t.child}return t;case 26:return Er(e,t),e===null?(l=ff(t.type,null,t.pendingProps,null))?t.memoizedState=l:De||(l=t.type,e=t.pendingProps,s=Yr(oe.current).createElement(l),s[it]=t,s[jt]=e,ut(s,l,e),nt(s),t.stateNode=s):t.memoizedState=ff(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return Re(t),e===null&&De&&(s=t.stateNode=uf(t.type,t.pendingProps,oe.current),ot=t,$t=!0,n=Fe,Ya(t.type)?(Fc=n,Fe=Ft(s.firstChild)):Fe=n),dt(e,t,t.pendingProps.children,l),Er(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&De&&((n=s=Fe)&&(s=Cv(s,t.type,t.pendingProps,$t),s!==null?(t.stateNode=s,ot=t,Fe=Ft(s.firstChild),$t=!1,n=!0):n=!1),n||Ra(t)),Re(t),n=t.type,i=t.pendingProps,m=e!==null?e.memoizedProps:null,s=i.children,Hc(n,i)?s=null:m!==null&&Hc(n,m)&&(t.flags|=32),t.memoizedState!==null&&(n=qo(e,t,Bb,null,null,l),fn._currentValue=n),Er(e,t),dt(e,t,s,l),t.child;case 6:return e===null&&De&&((e=l=Fe)&&(l=Av(l,t.pendingProps,$t),l!==null?(t.stateNode=l,ot=t,Fe=null,e=!0):e=!1),e||Ra(t)),null;case 13:return Wm(e,t,l);case 4:return Ae(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=hl(t,null,s,l):dt(e,t,s,l),t.child;case 11:return Fm(e,t,t.type,t.pendingProps,l);case 7:return dt(e,t,t.pendingProps,l),t.child;case 8:return dt(e,t,t.pendingProps.children,l),t.child;case 12:return dt(e,t,t.pendingProps.children,l),t.child;case 10:return s=t.pendingProps,La(t,t.type,s.value),dt(e,t,s.children,l),t.child;case 9:return n=t.type._context,s=t.pendingProps.children,ul(t),n=ct(n),s=s(n),t.flags|=1,dt(e,t,s,l),t.child;case 14:return Gm(e,t,t.type,t.pendingProps,l);case 15:return Vm(e,t,t.type,t.pendingProps,l);case 19:return tx(e,t,l);case 31:return Qb(e,t,l);case 22:return Ym(e,t,l,t.pendingProps);case 24:return ul(t),s=ct(et),e===null?(n=To(),n===null&&(n=Pe,i=Ao(),n.pooledCache=i,i.refCount++,i!==null&&(n.pooledCacheLanes|=l),n=i),t.memoizedState={parent:s,cache:n},Eo(t),La(t,et,n)):((e.lanes&l)!==0&&(zo(e,t),Ys(t,null,null,l),Vs()),n=e.memoizedState,i=t.memoizedState,n.parent!==s?(n={parent:s,cache:s},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),La(t,et,s)):(s=i.cache,La(t,et,s),s!==n.cache&&Co(t,[et],l,!0))),dt(e,t,t.pendingProps.children,l),t.child;case 29:throw t.pendingProps}throw Error(c(156,t.tag))}function va(e){e.flags|=4}function mc(e,t,l,s,n){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(n&335544128)===n)if(e.stateNode.complete)e.flags|=8192;else if(kx())e.flags|=8192;else throw fl=hr,ko}else e.flags&=-16777217}function lx(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!gf(t))if(kx())e.flags|=8192;else throw fl=hr,ko}function Dr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Fn():536870912,e.lanes|=t,as|=t)}function Ws(e,t){if(!De)switch(e.tailMode){case"hidden":t=e.tail;for(var l=null;t!==null;)t.alternate!==null&&(l=t),t=t.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var s=null;l!==null;)l.alternate!==null&&(s=l),l=l.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Ge(e){var t=e.alternate!==null&&e.alternate.child===e.child,l=0,s=0;if(t)for(var n=e.child;n!==null;)l|=n.lanes|n.childLanes,s|=n.subtreeFlags&65011712,s|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)l|=n.lanes|n.childLanes,s|=n.subtreeFlags,s|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=s,e.childLanes=l,t}function Zb(e,t,l){var s=t.pendingProps;switch(yo(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ge(t),null;case 1:return Ge(t),null;case 3:return l=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),fa(et),Ce(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Pl(t)?va(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,No())),Ge(t),null;case 26:var n=t.type,i=t.memoizedState;return e===null?(va(t),i!==null?(Ge(t),lx(t,i)):(Ge(t),mc(t,n,null,s,l))):i?i!==e.memoizedState?(va(t),Ge(t),lx(t,i)):(Ge(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&va(t),Ge(t),mc(t,n,e,s,l)),null;case 27:if(_e(t),l=oe.current,n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&va(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return Ge(t),null}e=K.current,Pl(t)?Iu(t):(e=uf(n,s,l),t.stateNode=e,va(t))}return Ge(t),null;case 5:if(_e(t),n=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&va(t);else{if(!s){if(t.stateNode===null)throw Error(c(166));return Ge(t),null}if(i=K.current,Pl(t))Iu(t);else{var m=Yr(oe.current);switch(i){case 1:i=m.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:i=m.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":i=m.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":i=m.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":i=m.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof s.is=="string"?m.createElement("select",{is:s.is}):m.createElement("select"),s.multiple?i.multiple=!0:s.size&&(i.size=s.size);break;default:i=typeof s.is=="string"?m.createElement(n,{is:s.is}):m.createElement(n)}}i[it]=t,i[jt]=s;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)i.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=i;e:switch(ut(i,n,s),n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&va(t)}}return Ge(t),mc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,l),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&va(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(c(166));if(e=oe.current,Pl(t)){if(e=t.stateNode,l=t.memoizedProps,s=null,n=ot,n!==null)switch(n.tag){case 27:case 5:s=n.memoizedProps}e[it]=t,e=!!(e.nodeValue===l||s!==null&&s.suppressHydrationWarning===!0||Wx(e.nodeValue,l)),e||Ra(t,!0)}else e=Yr(e).createTextNode(s),e[it]=t,t.stateNode=e}return Ge(t),null;case 31:if(l=t.memoizedState,e===null||e.memoizedState!==null){if(s=Pl(t),l!==null){if(e===null){if(!s)throw Error(c(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(c(557));e[it]=t}else cl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),e=!1}else l=No(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return t.flags&256?(zt(t),t):(zt(t),null);if((t.flags&128)!==0)throw Error(c(558))}return Ge(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Pl(t),s!==null&&s.dehydrated!==null){if(e===null){if(!n)throw Error(c(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(c(317));n[it]=t}else cl(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ge(t),n=!1}else n=No(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(zt(t),t):(zt(t),null)}return zt(t),(t.flags&128)!==0?(t.lanes=l,t):(l=s!==null,e=e!==null&&e.memoizedState!==null,l&&(s=t.child,n=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(n=s.alternate.memoizedState.cachePool.pool),i=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(i=s.memoizedState.cachePool.pool),i!==n&&(s.flags|=2048)),l!==e&&l&&(t.child.flags|=8192),Dr(t,t.updateQueue),Ge(t),null);case 4:return Ce(),e===null&&Lc(t.stateNode.containerInfo),Ge(t),null;case 10:return fa(t.type),Ge(t),null;case 19:if(H(Ke),s=t.memoizedState,s===null)return Ge(t),null;if(n=(t.flags&128)!==0,i=s.rendering,i===null)if(n)Ws(s,!1);else{if(Ze!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(i=gr(e),i!==null){for(t.flags|=128,Ws(s,!1),e=i.updateQueue,t.updateQueue=e,Dr(t,e),t.subtreeFlags=0,e=l,l=t.child;l!==null;)zu(l,e),l=l.sibling;return X(Ke,Ke.current&1|2),De&&ma(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&pt()>_r&&(t.flags|=128,n=!0,Ws(s,!1),t.lanes=4194304)}else{if(!n)if(e=gr(i),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,Dr(t,e),Ws(s,!0),s.tail===null&&s.tailMode==="hidden"&&!i.alternate&&!De)return Ge(t),null}else 2*pt()-s.renderingStartTime>_r&&l!==536870912&&(t.flags|=128,n=!0,Ws(s,!1),t.lanes=4194304);s.isBackwards?(i.sibling=t.child,t.child=i):(e=s.last,e!==null?e.sibling=i:t.child=i,s.last=i)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=pt(),e.sibling=null,l=Ke.current,X(Ke,n?l&1|2:l&1),De&&ma(t,s.treeForkCount),e):(Ge(t),null);case 22:case 23:return zt(t),Oo(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(l&536870912)!==0&&(t.flags&128)===0&&(Ge(t),t.subtreeFlags&6&&(t.flags|=8192)):Ge(t),l=t.updateQueue,l!==null&&Dr(t,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==l&&(t.flags|=2048),e!==null&&H(ml),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),fa(et),Ge(t),null;case 25:return null;case 30:return null}throw Error(c(156,t.tag))}function Kb(e,t){switch(yo(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fa(et),Ce(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return _e(t),null;case 31:if(t.memoizedState!==null){if(zt(t),t.alternate===null)throw Error(c(340));cl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(zt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(c(340));cl()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return H(Ke),null;case 4:return Ce(),null;case 10:return fa(t.type),null;case 22:case 23:return zt(t),Oo(),e!==null&&H(ml),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return fa(et),null;case 25:return null;default:return null}}function sx(e,t){switch(yo(t),t.tag){case 3:fa(et),Ce();break;case 26:case 27:case 5:_e(t);break;case 4:Ce();break;case 31:t.memoizedState!==null&&zt(t);break;case 13:zt(t);break;case 19:H(Ke);break;case 10:fa(t.type);break;case 22:case 23:zt(t),Oo(),e!==null&&H(ml);break;case 24:fa(et)}}function en(e,t){try{var l=t.updateQueue,s=l!==null?l.lastEffect:null;if(s!==null){var n=s.next;l=n;do{if((l.tag&e)===e){s=void 0;var i=l.create,m=l.inst;s=i(),m.destroy=s}l=l.next}while(l!==n)}}catch(C){He(t,t.return,C)}}function Ba(e,t,l){try{var s=t.updateQueue,n=s!==null?s.lastEffect:null;if(n!==null){var i=n.next;s=i;do{if((s.tag&e)===e){var m=s.inst,C=m.destroy;if(C!==void 0){m.destroy=void 0,n=t;var E=l,V=C;try{V()}catch(te){He(n,E,te)}}}s=s.next}while(s!==i)}}catch(te){He(t,t.return,te)}}function nx(e){var t=e.updateQueue;if(t!==null){var l=e.stateNode;try{Xu(t,l)}catch(s){He(e,e.return,s)}}}function rx(e,t,l){l.props=bl(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(s){He(e,t,s)}}function tn(e,t){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof l=="function"?e.refCleanup=l(s):l.current=s}}catch(n){He(e,t,n)}}function aa(e,t){var l=e.ref,s=e.refCleanup;if(l!==null)if(typeof s=="function")try{s()}catch(n){He(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(n){He(e,t,n)}else l.current=null}function ix(e){var t=e.type,l=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":l.autoFocus&&s.focus();break e;case"img":l.src?s.src=l.src:l.srcSet&&(s.srcset=l.srcSet)}}catch(n){He(e,e.return,n)}}function xc(e,t,l){try{var s=e.stateNode;gv(s,e.type,l,t),s[jt]=t}catch(n){He(e,e.return,n)}}function ox(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ya(e.type)||e.tag===4}function fc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ox(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ya(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function hc(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,t):(t=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,t.appendChild(e),l=l._reactRootContainer,l!=null||t.onclick!==null||(t.onclick=ca));else if(s!==4&&(s===27&&Ya(e.type)&&(l=e.stateNode,t=null),e=e.child,e!==null))for(hc(e,t,l),e=e.sibling;e!==null;)hc(e,t,l),e=e.sibling}function Rr(e,t,l){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?l.insertBefore(e,t):l.appendChild(e);else if(s!==4&&(s===27&&Ya(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(Rr(e,t,l),e=e.sibling;e!==null;)Rr(e,t,l),e=e.sibling}function cx(e){var t=e.stateNode,l=e.memoizedProps;try{for(var s=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);ut(t,s,l),t[it]=e,t[jt]=l}catch(i){He(e,e.return,i)}}var ga=!1,lt=!1,pc=!1,dx=typeof WeakSet=="function"?WeakSet:Set,rt=null;function Jb(e,t){if(e=e.containerInfo,_c=ei,e=Nu(e),oo(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var s=l.getSelection&&l.getSelection();if(s&&s.rangeCount!==0){l=s.anchorNode;var n=s.anchorOffset,i=s.focusNode;s=s.focusOffset;try{l.nodeType,i.nodeType}catch{l=null;break e}var m=0,C=-1,E=-1,V=0,te=0,se=e,Y=null;t:for(;;){for(var Z;se!==l||n!==0&&se.nodeType!==3||(C=m+n),se!==i||s!==0&&se.nodeType!==3||(E=m+s),se.nodeType===3&&(m+=se.nodeValue.length),(Z=se.firstChild)!==null;)Y=se,se=Z;for(;;){if(se===e)break t;if(Y===l&&++V===n&&(C=m),Y===i&&++te===s&&(E=m),(Z=se.nextSibling)!==null)break;se=Y,Y=se.parentNode}se=Z}l=C===-1||E===-1?null:{start:C,end:E}}else l=null}l=l||{start:0,end:0}}else l=null;for(qc={focusedElem:e,selectionRange:l},ei=!1,rt=t;rt!==null;)if(t=rt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,rt=e;else for(;rt!==null;){switch(t=rt,i=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)n=e[l],n.ref.impl=n.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&i!==null){e=void 0,l=t,n=i.memoizedProps,i=i.memoizedState,s=l.stateNode;try{var fe=bl(l.type,n);e=s.getSnapshotBeforeUpdate(fe,i),s.__reactInternalSnapshotBeforeUpdate=e}catch(ye){He(l,l.return,ye)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,l=e.nodeType,l===9)Uc(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Uc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(c(163))}if(e=t.sibling,e!==null){e.return=t.return,rt=e;break}rt=t.return}}function ux(e,t,l){var s=l.flags;switch(l.tag){case 0:case 11:case 15:ja(e,l),s&4&&en(5,l);break;case 1:if(ja(e,l),s&4)if(e=l.stateNode,t===null)try{e.componentDidMount()}catch(m){He(l,l.return,m)}else{var n=bl(l.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){He(l,l.return,m)}}s&64&&nx(l),s&512&&tn(l,l.return);break;case 3:if(ja(e,l),s&64&&(e=l.updateQueue,e!==null)){if(t=null,l.child!==null)switch(l.child.tag){case 27:case 5:t=l.child.stateNode;break;case 1:t=l.child.stateNode}try{Xu(e,t)}catch(m){He(l,l.return,m)}}break;case 27:t===null&&s&4&&cx(l);case 26:case 5:ja(e,l),t===null&&s&4&&ix(l),s&512&&tn(l,l.return);break;case 12:ja(e,l);break;case 31:ja(e,l),s&4&&fx(e,l);break;case 13:ja(e,l),s&4&&hx(e,l),s&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=iv.bind(null,l),Mv(e,l))));break;case 22:if(s=l.memoizedState!==null||ga,!s){t=t!==null&&t.memoizedState!==null||lt,n=ga;var i=lt;ga=s,(lt=t)&&!i?Na(e,l,(l.subtreeFlags&8772)!==0):ja(e,l),ga=n,lt=i}break;case 30:break;default:ja(e,l)}}function mx(e){var t=e.alternate;t!==null&&(e.alternate=null,mx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Gi(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ve=null,St=!1;function ya(e,t,l){for(l=l.child;l!==null;)xx(e,t,l),l=l.sibling}function xx(e,t,l){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(el,l)}catch{}switch(l.tag){case 26:lt||aa(l,t),ya(e,t,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:lt||aa(l,t);var s=Ve,n=St;Ya(l.type)&&(Ve=l.stateNode,St=!1),ya(e,t,l),un(l.stateNode),Ve=s,St=n;break;case 5:lt||aa(l,t);case 6:if(s=Ve,n=St,Ve=null,ya(e,t,l),Ve=s,St=n,Ve!==null)if(St)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(l.stateNode)}catch(i){He(l,t,i)}else try{Ve.removeChild(l.stateNode)}catch(i){He(l,t,i)}break;case 18:Ve!==null&&(St?(e=Ve,nf(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),ds(e)):nf(Ve,l.stateNode));break;case 4:s=Ve,n=St,Ve=l.stateNode.containerInfo,St=!0,ya(e,t,l),Ve=s,St=n;break;case 0:case 11:case 14:case 15:Ba(2,l,t),lt||Ba(4,l,t),ya(e,t,l);break;case 1:lt||(aa(l,t),s=l.stateNode,typeof s.componentWillUnmount=="function"&&rx(l,t,s)),ya(e,t,l);break;case 21:ya(e,t,l);break;case 22:lt=(s=lt)||l.memoizedState!==null,ya(e,t,l),lt=s;break;default:ya(e,t,l)}}function fx(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ds(e)}catch(l){He(t,t.return,l)}}}function hx(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ds(e)}catch(l){He(t,t.return,l)}}function Wb(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new dx),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new dx),t;default:throw Error(c(435,e.tag))}}function Lr(e,t){var l=Wb(e);t.forEach(function(s){if(!l.has(s)){l.add(s);var n=ov.bind(null,e,s);s.then(n,n)}})}function wt(e,t){var l=t.deletions;if(l!==null)for(var s=0;s<l.length;s++){var n=l[s],i=e,m=t,C=m;e:for(;C!==null;){switch(C.tag){case 27:if(Ya(C.type)){Ve=C.stateNode,St=!1;break e}break;case 5:Ve=C.stateNode,St=!1;break e;case 3:case 4:Ve=C.stateNode.containerInfo,St=!0;break e}C=C.return}if(Ve===null)throw Error(c(160));xx(i,m,n),Ve=null,St=!1,i=n.alternate,i!==null&&(i.return=null),n.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)px(t,e),t=t.sibling}var Qt=null;function px(e,t){var l=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:wt(t,e),Ct(e),s&4&&(Ba(3,e,e.return),en(3,e),Ba(5,e,e.return));break;case 1:wt(t,e),Ct(e),s&512&&(lt||l===null||aa(l,l.return)),s&64&&ga&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?s:l.concat(s))));break;case 26:var n=Qt;if(wt(t,e),Ct(e),s&512&&(lt||l===null||aa(l,l.return)),s&4){var i=l!==null?l.memoizedState:null;if(s=e.memoizedState,l===null)if(s===null)if(e.stateNode===null){e:{s=e.type,l=e.memoizedProps,n=n.ownerDocument||n;t:switch(s){case"title":i=n.getElementsByTagName("title")[0],(!i||i[Ts]||i[it]||i.namespaceURI==="http://www.w3.org/2000/svg"||i.hasAttribute("itemprop"))&&(i=n.createElement(s),n.head.insertBefore(i,n.querySelector("head > title"))),ut(i,s,l),i[it]=e,nt(i),s=i;break e;case"link":var m=bf("link","href",n).get(s+(l.href||""));if(m){for(var C=0;C<m.length;C++)if(i=m[C],i.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&i.getAttribute("rel")===(l.rel==null?null:l.rel)&&i.getAttribute("title")===(l.title==null?null:l.title)&&i.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){m.splice(C,1);break t}}i=n.createElement(s),ut(i,s,l),n.head.appendChild(i);break;case"meta":if(m=bf("meta","content",n).get(s+(l.content||""))){for(C=0;C<m.length;C++)if(i=m[C],i.getAttribute("content")===(l.content==null?null:""+l.content)&&i.getAttribute("name")===(l.name==null?null:l.name)&&i.getAttribute("property")===(l.property==null?null:l.property)&&i.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&i.getAttribute("charset")===(l.charSet==null?null:l.charSet)){m.splice(C,1);break t}}i=n.createElement(s),ut(i,s,l),n.head.appendChild(i);break;default:throw Error(c(468,s))}i[it]=e,nt(i),s=i}e.stateNode=s}else vf(n,e.type,e.stateNode);else e.stateNode=pf(n,s,e.memoizedProps);else i!==s?(i===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):i.count--,s===null?vf(n,e.type,e.stateNode):pf(n,s,e.memoizedProps)):s===null&&e.stateNode!==null&&xc(e,e.memoizedProps,l.memoizedProps)}break;case 27:wt(t,e),Ct(e),s&512&&(lt||l===null||aa(l,l.return)),l!==null&&s&4&&xc(e,e.memoizedProps,l.memoizedProps);break;case 5:if(wt(t,e),Ct(e),s&512&&(lt||l===null||aa(l,l.return)),e.flags&32){n=e.stateNode;try{Rl(n,"")}catch(fe){He(e,e.return,fe)}}s&4&&e.stateNode!=null&&(n=e.memoizedProps,xc(e,n,l!==null?l.memoizedProps:n)),s&1024&&(pc=!0);break;case 6:if(wt(t,e),Ct(e),s&4){if(e.stateNode===null)throw Error(c(162));s=e.memoizedProps,l=e.stateNode;try{l.nodeValue=s}catch(fe){He(e,e.return,fe)}}break;case 3:if(Zr=null,n=Qt,Qt=Qr(t.containerInfo),wt(t,e),Qt=n,Ct(e),s&4&&l!==null&&l.memoizedState.isDehydrated)try{ds(t.containerInfo)}catch(fe){He(e,e.return,fe)}pc&&(pc=!1,bx(e));break;case 4:s=Qt,Qt=Qr(e.stateNode.containerInfo),wt(t,e),Ct(e),Qt=s;break;case 12:wt(t,e),Ct(e);break;case 31:wt(t,e),Ct(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Lr(e,s)));break;case 13:wt(t,e),Ct(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ir=pt()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Lr(e,s)));break;case 22:n=e.memoizedState!==null;var E=l!==null&&l.memoizedState!==null,V=ga,te=lt;if(ga=V||n,lt=te||E,wt(t,e),lt=te,ga=V,Ct(e),s&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(l===null||E||ga||lt||vl(e)),l=null,t=e;;){if(t.tag===5||t.tag===26){if(l===null){E=l=t;try{if(i=E.stateNode,n)m=i.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{C=E.stateNode;var se=E.memoizedProps.style,Y=se!=null&&se.hasOwnProperty("display")?se.display:null;C.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(fe){He(E,E.return,fe)}}}else if(t.tag===6){if(l===null){E=t;try{E.stateNode.nodeValue=n?"":E.memoizedProps}catch(fe){He(E,E.return,fe)}}}else if(t.tag===18){if(l===null){E=t;try{var Z=E.stateNode;n?rf(Z,!0):rf(E.stateNode,!1)}catch(fe){He(E,E.return,fe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;l===t&&(l=null),t=t.return}l===t&&(l=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(l=s.retryQueue,l!==null&&(s.retryQueue=null,Lr(e,l))));break;case 19:wt(t,e),Ct(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Lr(e,s)));break;case 30:break;case 21:break;default:wt(t,e),Ct(e)}}function Ct(e){var t=e.flags;if(t&2){try{for(var l,s=e.return;s!==null;){if(ox(s)){l=s;break}s=s.return}if(l==null)throw Error(c(160));switch(l.tag){case 27:var n=l.stateNode,i=fc(e);Rr(e,i,n);break;case 5:var m=l.stateNode;l.flags&32&&(Rl(m,""),l.flags&=-33);var C=fc(e);Rr(e,C,m);break;case 3:case 4:var E=l.stateNode.containerInfo,V=fc(e);hc(e,V,E);break;default:throw Error(c(161))}}catch(te){He(e,e.return,te)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bx(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;bx(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ja(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)ux(e,t.alternate,t),t=t.sibling}function vl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ba(4,t,t.return),vl(t);break;case 1:aa(t,t.return);var l=t.stateNode;typeof l.componentWillUnmount=="function"&&rx(t,t.return,l),vl(t);break;case 27:un(t.stateNode);case 26:case 5:aa(t,t.return),vl(t);break;case 22:t.memoizedState===null&&vl(t);break;case 30:vl(t);break;default:vl(t)}e=e.sibling}}function Na(e,t,l){for(l=l&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,n=e,i=t,m=i.flags;switch(i.tag){case 0:case 11:case 15:Na(n,i,l),en(4,i);break;case 1:if(Na(n,i,l),s=i,n=s.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(V){He(s,s.return,V)}if(s=i,n=s.updateQueue,n!==null){var C=s.stateNode;try{var E=n.shared.hiddenCallbacks;if(E!==null)for(n.shared.hiddenCallbacks=null,n=0;n<E.length;n++)Qu(E[n],C)}catch(V){He(s,s.return,V)}}l&&m&64&&nx(i),tn(i,i.return);break;case 27:cx(i);case 26:case 5:Na(n,i,l),l&&s===null&&m&4&&ix(i),tn(i,i.return);break;case 12:Na(n,i,l);break;case 31:Na(n,i,l),l&&m&4&&fx(n,i);break;case 13:Na(n,i,l),l&&m&4&&hx(n,i);break;case 22:i.memoizedState===null&&Na(n,i,l),tn(i,i.return);break;case 30:break;default:Na(n,i,l)}t=t.sibling}}function bc(e,t){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Us(l))}function vc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Us(e))}function Xt(e,t,l,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)vx(e,t,l,s),t=t.sibling}function vx(e,t,l,s){var n=t.flags;switch(t.tag){case 0:case 11:case 15:Xt(e,t,l,s),n&2048&&en(9,t);break;case 1:Xt(e,t,l,s);break;case 3:Xt(e,t,l,s),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Us(e)));break;case 12:if(n&2048){Xt(e,t,l,s),e=t.stateNode;try{var i=t.memoizedProps,m=i.id,C=i.onPostCommit;typeof C=="function"&&C(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(E){He(t,t.return,E)}}else Xt(e,t,l,s);break;case 31:Xt(e,t,l,s);break;case 13:Xt(e,t,l,s);break;case 23:break;case 22:i=t.stateNode,m=t.alternate,t.memoizedState!==null?i._visibility&2?Xt(e,t,l,s):an(e,t):i._visibility&2?Xt(e,t,l,s):(i._visibility|=2,Wl(e,t,l,s,(t.subtreeFlags&10256)!==0||!1)),n&2048&&bc(m,t);break;case 24:Xt(e,t,l,s),n&2048&&vc(t.alternate,t);break;default:Xt(e,t,l,s)}}function Wl(e,t,l,s,n){for(n=n&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var i=e,m=t,C=l,E=s,V=m.flags;switch(m.tag){case 0:case 11:case 15:Wl(i,m,C,E,n),en(8,m);break;case 23:break;case 22:var te=m.stateNode;m.memoizedState!==null?te._visibility&2?Wl(i,m,C,E,n):an(i,m):(te._visibility|=2,Wl(i,m,C,E,n)),n&&V&2048&&bc(m.alternate,m);break;case 24:Wl(i,m,C,E,n),n&&V&2048&&vc(m.alternate,m);break;default:Wl(i,m,C,E,n)}t=t.sibling}}function an(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var l=e,s=t,n=s.flags;switch(s.tag){case 22:an(l,s),n&2048&&bc(s.alternate,s);break;case 24:an(l,s),n&2048&&vc(s.alternate,s);break;default:an(l,s)}t=t.sibling}}var ln=8192;function es(e,t,l){if(e.subtreeFlags&ln)for(e=e.child;e!==null;)gx(e,t,l),e=e.sibling}function gx(e,t,l){switch(e.tag){case 26:es(e,t,l),e.flags&ln&&e.memoizedState!==null&&Hv(l,Qt,e.memoizedState,e.memoizedProps);break;case 5:es(e,t,l);break;case 3:case 4:var s=Qt;Qt=Qr(e.stateNode.containerInfo),es(e,t,l),Qt=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=ln,ln=16777216,es(e,t,l),ln=s):es(e,t,l));break;default:es(e,t,l)}}function yx(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function sn(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];rt=s,Nx(s,e)}yx(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jx(e),e=e.sibling}function jx(e){switch(e.tag){case 0:case 11:case 15:sn(e),e.flags&2048&&Ba(9,e,e.return);break;case 3:sn(e);break;case 12:sn(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Or(e)):sn(e);break;default:sn(e)}}function Or(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var l=0;l<t.length;l++){var s=t[l];rt=s,Nx(s,e)}yx(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ba(8,t,t.return),Or(t);break;case 22:l=t.stateNode,l._visibility&2&&(l._visibility&=-3,Or(t));break;default:Or(t)}e=e.sibling}}function Nx(e,t){for(;rt!==null;){var l=rt;switch(l.tag){case 0:case 11:case 15:Ba(8,l,t);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var s=l.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Us(l.memoizedState.cache)}if(s=l.child,s!==null)s.return=l,rt=s;else e:for(l=e;rt!==null;){s=rt;var n=s.sibling,i=s.return;if(mx(s),s===l){rt=null;break e}if(n!==null){n.return=i,rt=n;break e}rt=i}}}var ev={getCacheForType:function(e){var t=ct(et),l=t.data.get(e);return l===void 0&&(l=e(),t.data.set(e,l)),l},cacheSignal:function(){return ct(et).controller.signal}},tv=typeof WeakMap=="function"?WeakMap:Map,Ie=0,Pe=null,Me=null,Ee=0,qe=0,Dt=null,Ua=!1,ts=!1,gc=!1,Sa=0,Ze=0,$a=0,gl=0,yc=0,Rt=0,as=0,nn=null,At=null,jc=!1,Ir=0,Sx=0,_r=1/0,qr=null,Pa=null,st=0,Fa=null,ls=null,wa=0,Nc=0,Sc=null,wx=null,rn=0,wc=null;function Lt(){return(Ie&2)!==0&&Ee!==0?Ee&-Ee:O.T!==null?Ec():ve()}function Cx(){if(Rt===0)if((Ee&536870912)===0||De){var e=wl;wl<<=1,(wl&3932160)===0&&(wl=262144),Rt=e}else Rt=536870912;return e=Et.current,e!==null&&(e.flags|=32),Rt}function Mt(e,t,l){(e===Pe&&(qe===2||qe===9)||e.cancelPendingCommit!==null)&&(ss(e,0),Ga(e,Ee,Rt,!1)),al(e,l),((Ie&2)===0||e!==Pe)&&(e===Pe&&((Ie&2)===0&&(gl|=l),Ze===4&&Ga(e,Ee,Rt,!1)),la(e))}function Ax(e,t,l){if((Ie&6)!==0)throw Error(c(327));var s=!l&&(t&127)===0&&(t&e.expiredLanes)===0||tl(e,t),n=s?sv(e,t):Ac(e,t,!0),i=s;do{if(n===0){ts&&!s&&Ga(e,t,0,!1);break}else{if(l=e.current.alternate,i&&!av(l)){n=Ac(e,t,!1),i=!1;continue}if(n===2){if(i=t,e.errorRecoveryDisabledLanes&i)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var C=e;n=nn;var E=C.current.memoizedState.isDehydrated;if(E&&(ss(C,m).flags|=256),m=Ac(C,m,!1),m!==2){if(gc&&!E){C.errorRecoveryDisabledLanes|=i,gl|=i,n=4;break e}i=At,At=n,i!==null&&(At===null?At=i:At.push.apply(At,i))}n=m}if(i=!1,n!==2)continue}}if(n===1){ss(e,0),Ga(e,t,0,!0);break}e:{switch(s=e,i=n,i){case 0:case 1:throw Error(c(345));case 4:if((t&4194048)!==t)break;case 6:Ga(s,t,Rt,!Ua);break e;case 2:At=null;break;case 3:case 5:break;default:throw Error(c(329))}if((t&62914560)===t&&(n=Ir+300-pt(),10<n)){if(Ga(s,t,Rt,!Ua),Al(s,0,!0)!==0)break e;wa=t,s.timeoutHandle=lf(Mx.bind(null,s,l,At,qr,jc,t,Rt,gl,as,Ua,i,"Throttled",-0,0),n);break e}Mx(s,l,At,qr,jc,t,Rt,gl,as,Ua,i,null,-0,0)}}break}while(!0);la(e)}function Mx(e,t,l,s,n,i,m,C,E,V,te,se,Y,Z){if(e.timeoutHandle=-1,se=t.subtreeFlags,se&8192||(se&16785408)===16785408){se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ca},gx(t,i,se);var fe=(i&62914560)===i?Ir-pt():(i&4194048)===i?Sx-pt():0;if(fe=Bv(se,fe),fe!==null){wa=i,e.cancelPendingCommit=fe(Ox.bind(null,e,t,i,l,s,n,m,C,E,te,se,null,Y,Z)),Ga(e,i,m,!V);return}}Ox(e,t,i,l,s,n,m,C,E)}function av(e){for(var t=e;;){var l=t.tag;if((l===0||l===11||l===15)&&t.flags&16384&&(l=t.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var s=0;s<l.length;s++){var n=l[s],i=n.getSnapshot;n=n.value;try{if(!Tt(i(),n))return!1}catch{return!1}}if(l=t.child,t.subtreeFlags&16384&&l!==null)l.return=t,t=l;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ga(e,t,l,s){t&=~yc,t&=~gl,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var n=t;0<n;){var i=31-vt(n),m=1<<i;s[i]=-1,n&=~m}l!==0&&Gn(e,l,t)}function Hr(){return(Ie&6)===0?(on(0),!1):!0}function Cc(){if(Me!==null){if(qe===0)var e=Me.return;else e=Me,xa=dl=null,Uo(e),Ql=null,Ps=0,e=Me;for(;e!==null;)sx(e.alternate,e),e=e.return;Me=null}}function ss(e,t){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,Nv(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),wa=0,Cc(),Pe=e,Me=l=ua(e.current,null),Ee=t,qe=0,Dt=null,Ua=!1,ts=tl(e,t),gc=!1,as=Rt=yc=gl=$a=Ze=0,At=nn=null,jc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var n=31-vt(s),i=1<<n;t|=e[n],s&=~i}return Sa=t,rr(),l}function Tx(e,t){Se=null,O.H=Ks,t===Yl||t===fr?(t=Fu(),qe=3):t===ko?(t=Fu(),qe=4):qe=t===lc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Dt=t,Me===null&&(Ze=1,Tr(e,Ht(t,e.current)))}function kx(){var e=Et.current;return e===null?!0:(Ee&4194048)===Ee?Pt===null:(Ee&62914560)===Ee||(Ee&536870912)!==0?e===Pt:!1}function Ex(){var e=O.H;return O.H=Ks,e===null?Ks:e}function zx(){var e=O.A;return O.A=ev,e}function Br(){Ze=4,Ua||(Ee&4194048)!==Ee&&Et.current!==null||(ts=!0),($a&134217727)===0&&(gl&134217727)===0||Pe===null||Ga(Pe,Ee,Rt,!1)}function Ac(e,t,l){var s=Ie;Ie|=2;var n=Ex(),i=zx();(Pe!==e||Ee!==t)&&(qr=null,ss(e,t)),t=!1;var m=Ze;e:do try{if(qe!==0&&Me!==null){var C=Me,E=Dt;switch(qe){case 8:Cc(),m=6;break e;case 3:case 2:case 9:case 6:Et.current===null&&(t=!0);var V=qe;if(qe=0,Dt=null,ns(e,C,E,V),l&&ts){m=0;break e}break;default:V=qe,qe=0,Dt=null,ns(e,C,E,V)}}lv(),m=Ze;break}catch(te){Tx(e,te)}while(!0);return t&&e.shellSuspendCounter++,xa=dl=null,Ie=s,O.H=n,O.A=i,Me===null&&(Pe=null,Ee=0,rr()),m}function lv(){for(;Me!==null;)Dx(Me)}function sv(e,t){var l=Ie;Ie|=2;var s=Ex(),n=zx();Pe!==e||Ee!==t?(qr=null,_r=pt()+500,ss(e,t)):ts=tl(e,t);e:do try{if(qe!==0&&Me!==null){t=Me;var i=Dt;t:switch(qe){case 1:qe=0,Dt=null,ns(e,t,i,1);break;case 2:case 9:if($u(i)){qe=0,Dt=null,Rx(t);break}t=function(){qe!==2&&qe!==9||Pe!==e||(qe=7),la(e)},i.then(t,t);break e;case 3:qe=7;break e;case 4:qe=5;break e;case 7:$u(i)?(qe=0,Dt=null,Rx(t)):(qe=0,Dt=null,ns(e,t,i,7));break;case 5:var m=null;switch(Me.tag){case 26:m=Me.memoizedState;case 5:case 27:var C=Me;if(m?gf(m):C.stateNode.complete){qe=0,Dt=null;var E=C.sibling;if(E!==null)Me=E;else{var V=C.return;V!==null?(Me=V,Ur(V)):Me=null}break t}}qe=0,Dt=null,ns(e,t,i,5);break;case 6:qe=0,Dt=null,ns(e,t,i,6);break;case 8:Cc(),Ze=6;break e;default:throw Error(c(462))}}nv();break}catch(te){Tx(e,te)}while(!0);return xa=dl=null,O.H=s,O.A=n,Ie=l,Me!==null?0:(Pe=null,Ee=0,rr(),Ze)}function nv(){for(;Me!==null&&!Ri();)Dx(Me)}function Dx(e){var t=ax(e.alternate,e,Sa);e.memoizedProps=e.pendingProps,t===null?Ur(e):Me=t}function Rx(e){var t=e,l=t.alternate;switch(t.tag){case 15:case 0:t=Zm(l,t,t.pendingProps,t.type,void 0,Ee);break;case 11:t=Zm(l,t,t.pendingProps,t.type.render,t.ref,Ee);break;case 5:Uo(t);default:sx(l,t),t=Me=zu(t,Sa),t=ax(l,t,Sa)}e.memoizedProps=e.pendingProps,t===null?Ur(e):Me=t}function ns(e,t,l,s){xa=dl=null,Uo(t),Ql=null,Ps=0;var n=t.return;try{if(Yb(e,n,t,l,Ee)){Ze=1,Tr(e,Ht(l,e.current)),Me=null;return}}catch(i){if(n!==null)throw Me=n,i;Ze=1,Tr(e,Ht(l,e.current)),Me=null;return}t.flags&32768?(De||s===1?e=!0:ts||(Ee&536870912)!==0?e=!1:(Ua=e=!0,(s===2||s===9||s===3||s===6)&&(s=Et.current,s!==null&&s.tag===13&&(s.flags|=16384))),Lx(t,e)):Ur(t)}function Ur(e){var t=e;do{if((t.flags&32768)!==0){Lx(t,Ua);return}e=t.return;var l=Zb(t.alternate,t,Sa);if(l!==null){Me=l;return}if(t=t.sibling,t!==null){Me=t;return}Me=t=e}while(t!==null);Ze===0&&(Ze=5)}function Lx(e,t){do{var l=Kb(e.alternate,e);if(l!==null){l.flags&=32767,Me=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!t&&(e=e.sibling,e!==null)){Me=e;return}Me=e=l}while(e!==null);Ze=6,Me=null}function Ox(e,t,l,s,n,i,m,C,E){e.cancelPendingCommit=null;do $r();while(st!==0);if((Ie&6)!==0)throw Error(c(327));if(t!==null){if(t===e.current)throw Error(c(177));if(i=t.lanes|t.childLanes,i|=fo,Pi(e,l,i,m,C,E),e===Pe&&(Me=Pe=null,Ee=0),ls=t,Fa=e,wa=l,Nc=i,Sc=n,wx=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,cv(Nl,function(){return Bx(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=O.T,O.T=null,n=ne.p,ne.p=2,m=Ie,Ie|=4;try{Jb(e,t,l)}finally{Ie=m,ne.p=n,O.T=s}}st=1,Ix(),_x(),qx()}}function Ix(){if(st===1){st=0;var e=Fa,t=ls,l=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||l){l=O.T,O.T=null;var s=ne.p;ne.p=2;var n=Ie;Ie|=4;try{px(t,e);var i=qc,m=Nu(e.containerInfo),C=i.focusedElem,E=i.selectionRange;if(m!==C&&C&&C.ownerDocument&&ju(C.ownerDocument.documentElement,C)){if(E!==null&&oo(C)){var V=E.start,te=E.end;if(te===void 0&&(te=V),"selectionStart"in C)C.selectionStart=V,C.selectionEnd=Math.min(te,C.value.length);else{var se=C.ownerDocument||document,Y=se&&se.defaultView||window;if(Y.getSelection){var Z=Y.getSelection(),fe=C.textContent.length,ye=Math.min(E.start,fe),$e=E.end===void 0?ye:Math.min(E.end,fe);!Z.extend&&ye>$e&&(m=$e,$e=ye,ye=m);var B=yu(C,ye),L=yu(C,$e);if(B&&L&&(Z.rangeCount!==1||Z.anchorNode!==B.node||Z.anchorOffset!==B.offset||Z.focusNode!==L.node||Z.focusOffset!==L.offset)){var G=se.createRange();G.setStart(B.node,B.offset),Z.removeAllRanges(),ye>$e?(Z.addRange(G),Z.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),Z.addRange(G))}}}}for(se=[],Z=C;Z=Z.parentNode;)Z.nodeType===1&&se.push({element:Z,left:Z.scrollLeft,top:Z.scrollTop});for(typeof C.focus=="function"&&C.focus(),C=0;C<se.length;C++){var ae=se[C];ae.element.scrollLeft=ae.left,ae.element.scrollTop=ae.top}}ei=!!_c,qc=_c=null}finally{Ie=n,ne.p=s,O.T=l}}e.current=t,st=2}}function _x(){if(st===2){st=0;var e=Fa,t=ls,l=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||l){l=O.T,O.T=null;var s=ne.p;ne.p=2;var n=Ie;Ie|=4;try{ux(e,t.alternate,t)}finally{Ie=n,ne.p=s,O.T=l}}st=3}}function qx(){if(st===4||st===3){st=0,Li();var e=Fa,t=ls,l=wa,s=wx;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?st=5:(st=0,ls=Fa=null,Hx(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(Pa=null),W(l),t=t.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(el,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=O.T,n=ne.p,ne.p=2,O.T=null;try{for(var i=e.onRecoverableError,m=0;m<s.length;m++){var C=s[m];i(C.value,{componentStack:C.stack})}}finally{O.T=t,ne.p=n}}(wa&3)!==0&&$r(),la(e),n=e.pendingLanes,(l&261930)!==0&&(n&42)!==0?e===wc?rn++:(rn=0,wc=e):rn=0,on(0)}}function Hx(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Us(t)))}function $r(){return Ix(),_x(),qx(),Bx()}function Bx(){if(st!==5)return!1;var e=Fa,t=Nc;Nc=0;var l=W(wa),s=O.T,n=ne.p;try{ne.p=32>l?32:l,O.T=null,l=Sc,Sc=null;var i=Fa,m=wa;if(st=0,ls=Fa=null,wa=0,(Ie&6)!==0)throw Error(c(331));var C=Ie;if(Ie|=4,jx(i.current),vx(i,i.current,m,l),Ie=C,on(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(el,i)}catch{}return!0}finally{ne.p=n,O.T=s,Hx(e,t)}}function Ux(e,t,l){t=Ht(l,t),t=ac(e.stateNode,t,2),e=_a(e,t,2),e!==null&&(al(e,2),la(e))}function He(e,t,l){if(e.tag===3)Ux(e,e,l);else for(;t!==null;){if(t.tag===3){Ux(t,e,l);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Pa===null||!Pa.has(s))){e=Ht(l,e),l=$m(2),s=_a(t,l,2),s!==null&&(Pm(l,s,t,e),al(s,2),la(s));break}}t=t.return}}function Mc(e,t,l){var s=e.pingCache;if(s===null){s=e.pingCache=new tv;var n=new Set;s.set(t,n)}else n=s.get(t),n===void 0&&(n=new Set,s.set(t,n));n.has(l)||(gc=!0,n.add(l),e=rv.bind(null,e,t,l),t.then(e,e))}function rv(e,t,l){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,Pe===e&&(Ee&l)===l&&(Ze===4||Ze===3&&(Ee&62914560)===Ee&&300>pt()-Ir?(Ie&2)===0&&ss(e,0):yc|=l,as===Ee&&(as=0)),la(e)}function $x(e,t){t===0&&(t=Fn()),e=il(e,t),e!==null&&(al(e,t),la(e))}function iv(e){var t=e.memoizedState,l=0;t!==null&&(l=t.retryLane),$x(e,l)}function ov(e,t){var l=0;switch(e.tag){case 31:case 13:var s=e.stateNode,n=e.memoizedState;n!==null&&(l=n.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(c(314))}s!==null&&s.delete(t),$x(e,l)}function cv(e,t){return ws(e,t)}var Pr=null,rs=null,Tc=!1,Fr=!1,kc=!1,Va=0;function la(e){e!==rs&&e.next===null&&(rs===null?Pr=rs=e:rs=rs.next=e),Fr=!0,Tc||(Tc=!0,uv())}function on(e,t){if(!kc&&Fr){kc=!0;do for(var l=!1,s=Pr;s!==null;){if(e!==0){var n=s.pendingLanes;if(n===0)var i=0;else{var m=s.suspendedLanes,C=s.pingedLanes;i=(1<<31-vt(42|e)+1)-1,i&=n&~(m&~C),i=i&201326741?i&201326741|1:i?i|2:0}i!==0&&(l=!0,Vx(s,i))}else i=Ee,i=Al(s,s===Pe?i:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(i&3)===0||tl(s,i)||(l=!0,Vx(s,i));s=s.next}while(l);kc=!1}}function dv(){Px()}function Px(){Fr=Tc=!1;var e=0;Va!==0&&jv()&&(e=Va);for(var t=pt(),l=null,s=Pr;s!==null;){var n=s.next,i=Fx(s,t);i===0?(s.next=null,l===null?Pr=n:l.next=n,n===null&&(rs=l)):(l=s,(e!==0||(i&3)!==0)&&(Fr=!0)),s=n}st!==0&&st!==5||on(e),Va!==0&&(Va=0)}function Fx(e,t){for(var l=e.suspendedLanes,s=e.pingedLanes,n=e.expirationTimes,i=e.pendingLanes&-62914561;0<i;){var m=31-vt(i),C=1<<m,E=n[m];E===-1?((C&l)===0||(C&s)!==0)&&(n[m]=$i(C,t)):E<=t&&(e.expiredLanes|=C),i&=~C}if(t=Pe,l=Ee,l=Al(e,e===t?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,l===0||e===t&&(qe===2||qe===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Cs(s),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||tl(e,l)){if(t=l&-l,t===e.callbackPriority)return t;switch(s!==null&&Cs(s),W(l)){case 2:case 8:l=$n;break;case 32:l=Nl;break;case 268435456:l=Pn;break;default:l=Nl}return s=Gx.bind(null,e),l=ws(l,s),e.callbackPriority=t,e.callbackNode=l,t}return s!==null&&s!==null&&Cs(s),e.callbackPriority=2,e.callbackNode=null,2}function Gx(e,t){if(st!==0&&st!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if($r()&&e.callbackNode!==l)return null;var s=Ee;return s=Al(e,e===Pe?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Ax(e,s,t),Fx(e,pt()),e.callbackNode!=null&&e.callbackNode===l?Gx.bind(null,e):null)}function Vx(e,t){if($r())return null;Ax(e,t,!0)}function uv(){Sv(function(){(Ie&6)!==0?ws(Un,dv):Px()})}function Ec(){if(Va===0){var e=Gl;e===0&&(e=Sl,Sl<<=1,(Sl&261888)===0&&(Sl=256)),Va=e}return Va}function Yx(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Jn(""+e)}function Qx(e,t){var l=t.ownerDocument.createElement("input");return l.name=t.name,l.value=t.value,e.id&&l.setAttribute("form",e.id),t.parentNode.insertBefore(l,t),e=new FormData(e),l.parentNode.removeChild(l),e}function mv(e,t,l,s,n){if(t==="submit"&&l&&l.stateNode===n){var i=Yx((n[jt]||null).action),m=s.submitter;m&&(t=(t=m[jt]||null)?Yx(t.formAction):m.getAttribute("formAction"),t!==null&&(i=t,m=null));var C=new ar("action","action",null,s,n);e.push({event:C,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(Va!==0){var E=m?Qx(n,m):new FormData(n);Zo(l,{pending:!0,data:E,method:n.method,action:i},null,E)}}else typeof i=="function"&&(C.preventDefault(),E=m?Qx(n,m):new FormData(n),Zo(l,{pending:!0,data:E,method:n.method,action:i},i,E))},currentTarget:n}]})}}for(var zc=0;zc<xo.length;zc++){var Dc=xo[zc],xv=Dc.toLowerCase(),fv=Dc[0].toUpperCase()+Dc.slice(1);Yt(xv,"on"+fv)}Yt(Cu,"onAnimationEnd"),Yt(Au,"onAnimationIteration"),Yt(Mu,"onAnimationStart"),Yt("dblclick","onDoubleClick"),Yt("focusin","onFocus"),Yt("focusout","onBlur"),Yt(Eb,"onTransitionRun"),Yt(zb,"onTransitionStart"),Yt(Db,"onTransitionCancel"),Yt(Tu,"onTransitionEnd"),zl("onMouseEnter",["mouseout","mouseover"]),zl("onMouseLeave",["mouseout","mouseover"]),zl("onPointerEnter",["pointerout","pointerover"]),zl("onPointerLeave",["pointerout","pointerover"]),ll("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ll("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ll("onBeforeInput",["compositionend","keypress","textInput","paste"]),ll("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ll("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ll("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cn));function Xx(e,t){t=(t&4)!==0;for(var l=0;l<e.length;l++){var s=e[l],n=s.event;s=s.listeners;e:{var i=void 0;if(t)for(var m=s.length-1;0<=m;m--){var C=s[m],E=C.instance,V=C.currentTarget;if(C=C.listener,E!==i&&n.isPropagationStopped())break e;i=C,n.currentTarget=V;try{i(n)}catch(te){nr(te)}n.currentTarget=null,i=E}else for(m=0;m<s.length;m++){if(C=s[m],E=C.instance,V=C.currentTarget,C=C.listener,E!==i&&n.isPropagationStopped())break e;i=C,n.currentTarget=V;try{i(n)}catch(te){nr(te)}n.currentTarget=null,i=E}}}}function Te(e,t){var l=t[Fi];l===void 0&&(l=t[Fi]=new Set);var s=e+"__bubble";l.has(s)||(Zx(t,e,2,!1),l.add(s))}function Rc(e,t,l){var s=0;t&&(s|=4),Zx(l,e,s,t)}var Gr="_reactListening"+Math.random().toString(36).slice(2);function Lc(e){if(!e[Gr]){e[Gr]=!0,Pd.forEach(function(l){l!=="selectionchange"&&(hv.has(l)||Rc(l,!1,e),Rc(l,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Gr]||(t[Gr]=!0,Rc("selectionchange",!1,t))}}function Zx(e,t,l,s){switch(Af(t)){case 2:var n=Pv;break;case 8:n=Fv;break;default:n=Xc}l=n.bind(null,t,l,e),n=void 0,!Wi||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),s?n!==void 0?e.addEventListener(t,l,{capture:!0,passive:n}):e.addEventListener(t,l,!0):n!==void 0?e.addEventListener(t,l,{passive:n}):e.addEventListener(t,l,!1)}function Oc(e,t,l,s,n){var i=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var m=s.tag;if(m===3||m===4){var C=s.stateNode.containerInfo;if(C===n)break;if(m===4)for(m=s.return;m!==null;){var E=m.tag;if((E===3||E===4)&&m.stateNode.containerInfo===n)return;m=m.return}for(;C!==null;){if(m=Tl(C),m===null)return;if(E=m.tag,E===5||E===6||E===26||E===27){s=i=m;continue e}C=C.parentNode}}s=s.return}tu(function(){var V=i,te=Ki(l),se=[];e:{var Y=ku.get(e);if(Y!==void 0){var Z=ar,fe=e;switch(e){case"keypress":if(er(l)===0)break e;case"keydown":case"keyup":Z=ob;break;case"focusin":fe="focus",Z=lo;break;case"focusout":fe="blur",Z=lo;break;case"beforeblur":case"afterblur":Z=lo;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Z=su;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Z=Zp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Z=ub;break;case Cu:case Au:case Mu:Z=Wp;break;case Tu:Z=xb;break;case"scroll":case"scrollend":Z=Qp;break;case"wheel":Z=hb;break;case"copy":case"cut":case"paste":Z=tb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Z=ru;break;case"toggle":case"beforetoggle":Z=bb}var ye=(t&4)!==0,$e=!ye&&(e==="scroll"||e==="scrollend"),B=ye?Y!==null?Y+"Capture":null:Y;ye=[];for(var L=V,G;L!==null;){var ae=L;if(G=ae.stateNode,ae=ae.tag,ae!==5&&ae!==26&&ae!==27||G===null||B===null||(ae=Es(L,B),ae!=null&&ye.push(dn(L,ae,G))),$e)break;L=L.return}0<ye.length&&(Y=new Z(Y,fe,null,l,te),se.push({event:Y,listeners:ye}))}}if((t&7)===0){e:{if(Y=e==="mouseover"||e==="pointerover",Z=e==="mouseout"||e==="pointerout",Y&&l!==Zi&&(fe=l.relatedTarget||l.fromElement)&&(Tl(fe)||fe[Ml]))break e;if((Z||Y)&&(Y=te.window===te?te:(Y=te.ownerDocument)?Y.defaultView||Y.parentWindow:window,Z?(fe=l.relatedTarget||l.toElement,Z=V,fe=fe?Tl(fe):null,fe!==null&&($e=f(fe),ye=fe.tag,fe!==$e||ye!==5&&ye!==27&&ye!==6)&&(fe=null)):(Z=null,fe=V),Z!==fe)){if(ye=su,ae="onMouseLeave",B="onMouseEnter",L="mouse",(e==="pointerout"||e==="pointerover")&&(ye=ru,ae="onPointerLeave",B="onPointerEnter",L="pointer"),$e=Z==null?Y:ks(Z),G=fe==null?Y:ks(fe),Y=new ye(ae,L+"leave",Z,l,te),Y.target=$e,Y.relatedTarget=G,ae=null,Tl(te)===V&&(ye=new ye(B,L+"enter",fe,l,te),ye.target=G,ye.relatedTarget=$e,ae=ye),$e=ae,Z&&fe)t:{for(ye=pv,B=Z,L=fe,G=0,ae=B;ae;ae=ye(ae))G++;ae=0;for(var ge=L;ge;ge=ye(ge))ae++;for(;0<G-ae;)B=ye(B),G--;for(;0<ae-G;)L=ye(L),ae--;for(;G--;){if(B===L||L!==null&&B===L.alternate){ye=B;break t}B=ye(B),L=ye(L)}ye=null}else ye=null;Z!==null&&Kx(se,Y,Z,ye,!1),fe!==null&&$e!==null&&Kx(se,$e,fe,ye,!0)}}e:{if(Y=V?ks(V):window,Z=Y.nodeName&&Y.nodeName.toLowerCase(),Z==="select"||Z==="input"&&Y.type==="file")var Le=fu;else if(mu(Y))if(hu)Le=Mb;else{Le=Cb;var pe=wb}else Z=Y.nodeName,!Z||Z.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?V&&Xi(V.elementType)&&(Le=fu):Le=Ab;if(Le&&(Le=Le(e,V))){xu(se,Le,l,te);break e}pe&&pe(e,Y,V),e==="focusout"&&V&&Y.type==="number"&&V.memoizedProps.value!=null&&Qi(Y,"number",Y.value)}switch(pe=V?ks(V):window,e){case"focusin":(mu(pe)||pe.contentEditable==="true")&&(_l=pe,co=V,qs=null);break;case"focusout":qs=co=_l=null;break;case"mousedown":uo=!0;break;case"contextmenu":case"mouseup":case"dragend":uo=!1,Su(se,l,te);break;case"selectionchange":if(kb)break;case"keydown":case"keyup":Su(se,l,te)}var we;if(no)e:{switch(e){case"compositionstart":var ze="onCompositionStart";break e;case"compositionend":ze="onCompositionEnd";break e;case"compositionupdate":ze="onCompositionUpdate";break e}ze=void 0}else Il?du(e,l)&&(ze="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ze="onCompositionStart");ze&&(iu&&l.locale!=="ko"&&(Il||ze!=="onCompositionStart"?ze==="onCompositionEnd"&&Il&&(we=au()):(Ea=te,eo="value"in Ea?Ea.value:Ea.textContent,Il=!0)),pe=Vr(V,ze),0<pe.length&&(ze=new nu(ze,e,null,l,te),se.push({event:ze,listeners:pe}),we?ze.data=we:(we=uu(l),we!==null&&(ze.data=we)))),(we=gb?yb(e,l):jb(e,l))&&(ze=Vr(V,"onBeforeInput"),0<ze.length&&(pe=new nu("onBeforeInput","beforeinput",null,l,te),se.push({event:pe,listeners:ze}),pe.data=we)),mv(se,e,V,l,te)}Xx(se,t)})}function dn(e,t,l){return{instance:e,listener:t,currentTarget:l}}function Vr(e,t){for(var l=t+"Capture",s=[];e!==null;){var n=e,i=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||i===null||(n=Es(e,l),n!=null&&s.unshift(dn(e,n,i)),n=Es(e,t),n!=null&&s.push(dn(e,n,i))),e.tag===3)return s;e=e.return}return[]}function pv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Kx(e,t,l,s,n){for(var i=t._reactName,m=[];l!==null&&l!==s;){var C=l,E=C.alternate,V=C.stateNode;if(C=C.tag,E!==null&&E===s)break;C!==5&&C!==26&&C!==27||V===null||(E=V,n?(V=Es(l,i),V!=null&&m.unshift(dn(l,V,E))):n||(V=Es(l,i),V!=null&&m.push(dn(l,V,E)))),l=l.return}m.length!==0&&e.push({event:t,listeners:m})}var bv=/\r\n?/g,vv=/\u0000|\uFFFD/g;function Jx(e){return(typeof e=="string"?e:""+e).replace(bv,`
`).replace(vv,"")}function Wx(e,t){return t=Jx(t),Jx(e)===t}function Ue(e,t,l,s,n,i){switch(l){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Rl(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Rl(e,""+s);break;case"className":Zn(e,"class",s);break;case"tabIndex":Zn(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Zn(e,l,s);break;case"style":Wd(e,s,i);break;case"data":if(t!=="object"){Zn(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||l!=="href")){e.removeAttribute(l);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Jn(""+s),e.setAttribute(l,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof i=="function"&&(l==="formAction"?(t!=="input"&&Ue(e,t,"name",n.name,n,null),Ue(e,t,"formEncType",n.formEncType,n,null),Ue(e,t,"formMethod",n.formMethod,n,null),Ue(e,t,"formTarget",n.formTarget,n,null)):(Ue(e,t,"encType",n.encType,n,null),Ue(e,t,"method",n.method,n,null),Ue(e,t,"target",n.target,n,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(l);break}s=Jn(""+s),e.setAttribute(l,s);break;case"onClick":s!=null&&(e.onclick=ca);break;case"onScroll":s!=null&&Te("scroll",e);break;case"onScrollEnd":s!=null&&Te("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(l=s.__html,l!=null){if(n.children!=null)throw Error(c(60));e.innerHTML=l}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}l=Jn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""+s):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":s===!0?e.setAttribute(l,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(l,s):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(l,s):e.removeAttribute(l);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(l):e.setAttribute(l,s);break;case"popover":Te("beforetoggle",e),Te("toggle",e),Xn(e,"popover",s);break;case"xlinkActuate":oa(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":oa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":oa(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":oa(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":oa(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":oa(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":oa(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":oa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":oa(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Xn(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Vp.get(l)||l,Xn(e,l,s))}}function Ic(e,t,l,s,n,i){switch(l){case"style":Wd(e,s,i);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(c(61));if(l=s.__html,l!=null){if(n.children!=null)throw Error(c(60));e.innerHTML=l}}break;case"children":typeof s=="string"?Rl(e,s):(typeof s=="number"||typeof s=="bigint")&&Rl(e,""+s);break;case"onScroll":s!=null&&Te("scroll",e);break;case"onScrollEnd":s!=null&&Te("scrollend",e);break;case"onClick":s!=null&&(e.onclick=ca);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fd.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(n=l.endsWith("Capture"),t=l.slice(2,n?l.length-7:void 0),i=e[jt]||null,i=i!=null?i[l]:null,typeof i=="function"&&e.removeEventListener(t,i,n),typeof s=="function")){typeof i!="function"&&i!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(t,s,n);break e}l in e?e[l]=s:s===!0?e.setAttribute(l,""):Xn(e,l,s)}}}function ut(e,t,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Te("error",e),Te("load",e);var s=!1,n=!1,i;for(i in l)if(l.hasOwnProperty(i)){var m=l[i];if(m!=null)switch(i){case"src":s=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ue(e,t,i,m,l,null)}}n&&Ue(e,t,"srcSet",l.srcSet,l,null),s&&Ue(e,t,"src",l.src,l,null);return;case"input":Te("invalid",e);var C=i=m=n=null,E=null,V=null;for(s in l)if(l.hasOwnProperty(s)){var te=l[s];if(te!=null)switch(s){case"name":n=te;break;case"type":m=te;break;case"checked":E=te;break;case"defaultChecked":V=te;break;case"value":i=te;break;case"defaultValue":C=te;break;case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(c(137,t));break;default:Ue(e,t,s,te,l,null)}}Xd(e,i,C,E,V,m,n,!1);return;case"select":Te("invalid",e),s=m=i=null;for(n in l)if(l.hasOwnProperty(n)&&(C=l[n],C!=null))switch(n){case"value":i=C;break;case"defaultValue":m=C;break;case"multiple":s=C;default:Ue(e,t,n,C,l,null)}t=i,l=m,e.multiple=!!s,t!=null?Dl(e,!!s,t,!1):l!=null&&Dl(e,!!s,l,!0);return;case"textarea":Te("invalid",e),i=n=s=null;for(m in l)if(l.hasOwnProperty(m)&&(C=l[m],C!=null))switch(m){case"value":s=C;break;case"defaultValue":n=C;break;case"children":i=C;break;case"dangerouslySetInnerHTML":if(C!=null)throw Error(c(91));break;default:Ue(e,t,m,C,l,null)}Kd(e,s,n,i);return;case"option":for(E in l)l.hasOwnProperty(E)&&(s=l[E],s!=null)&&(E==="selected"?e.selected=s&&typeof s!="function"&&typeof s!="symbol":Ue(e,t,E,s,l,null));return;case"dialog":Te("beforetoggle",e),Te("toggle",e),Te("cancel",e),Te("close",e);break;case"iframe":case"object":Te("load",e);break;case"video":case"audio":for(s=0;s<cn.length;s++)Te(cn[s],e);break;case"image":Te("error",e),Te("load",e);break;case"details":Te("toggle",e);break;case"embed":case"source":case"link":Te("error",e),Te("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(V in l)if(l.hasOwnProperty(V)&&(s=l[V],s!=null))switch(V){case"children":case"dangerouslySetInnerHTML":throw Error(c(137,t));default:Ue(e,t,V,s,l,null)}return;default:if(Xi(t)){for(te in l)l.hasOwnProperty(te)&&(s=l[te],s!==void 0&&Ic(e,t,te,s,l,void 0));return}}for(C in l)l.hasOwnProperty(C)&&(s=l[C],s!=null&&Ue(e,t,C,s,l,null))}function gv(e,t,l,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,i=null,m=null,C=null,E=null,V=null,te=null;for(Z in l){var se=l[Z];if(l.hasOwnProperty(Z)&&se!=null)switch(Z){case"checked":break;case"value":break;case"defaultValue":E=se;default:s.hasOwnProperty(Z)||Ue(e,t,Z,null,s,se)}}for(var Y in s){var Z=s[Y];if(se=l[Y],s.hasOwnProperty(Y)&&(Z!=null||se!=null))switch(Y){case"type":i=Z;break;case"name":n=Z;break;case"checked":V=Z;break;case"defaultChecked":te=Z;break;case"value":m=Z;break;case"defaultValue":C=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(c(137,t));break;default:Z!==se&&Ue(e,t,Y,Z,s,se)}}Yi(e,m,C,E,V,te,i,n);return;case"select":Z=m=C=Y=null;for(i in l)if(E=l[i],l.hasOwnProperty(i)&&E!=null)switch(i){case"value":break;case"multiple":Z=E;default:s.hasOwnProperty(i)||Ue(e,t,i,null,s,E)}for(n in s)if(i=s[n],E=l[n],s.hasOwnProperty(n)&&(i!=null||E!=null))switch(n){case"value":Y=i;break;case"defaultValue":C=i;break;case"multiple":m=i;default:i!==E&&Ue(e,t,n,i,s,E)}t=C,l=m,s=Z,Y!=null?Dl(e,!!l,Y,!1):!!s!=!!l&&(t!=null?Dl(e,!!l,t,!0):Dl(e,!!l,l?[]:"",!1));return;case"textarea":Z=Y=null;for(C in l)if(n=l[C],l.hasOwnProperty(C)&&n!=null&&!s.hasOwnProperty(C))switch(C){case"value":break;case"children":break;default:Ue(e,t,C,null,s,n)}for(m in s)if(n=s[m],i=l[m],s.hasOwnProperty(m)&&(n!=null||i!=null))switch(m){case"value":Y=n;break;case"defaultValue":Z=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(c(91));break;default:n!==i&&Ue(e,t,m,n,s,i)}Zd(e,Y,Z);return;case"option":for(var fe in l)Y=l[fe],l.hasOwnProperty(fe)&&Y!=null&&!s.hasOwnProperty(fe)&&(fe==="selected"?e.selected=!1:Ue(e,t,fe,null,s,Y));for(E in s)Y=s[E],Z=l[E],s.hasOwnProperty(E)&&Y!==Z&&(Y!=null||Z!=null)&&(E==="selected"?e.selected=Y&&typeof Y!="function"&&typeof Y!="symbol":Ue(e,t,E,Y,s,Z));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in l)Y=l[ye],l.hasOwnProperty(ye)&&Y!=null&&!s.hasOwnProperty(ye)&&Ue(e,t,ye,null,s,Y);for(V in s)if(Y=s[V],Z=l[V],s.hasOwnProperty(V)&&Y!==Z&&(Y!=null||Z!=null))switch(V){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(c(137,t));break;default:Ue(e,t,V,Y,s,Z)}return;default:if(Xi(t)){for(var $e in l)Y=l[$e],l.hasOwnProperty($e)&&Y!==void 0&&!s.hasOwnProperty($e)&&Ic(e,t,$e,void 0,s,Y);for(te in s)Y=s[te],Z=l[te],!s.hasOwnProperty(te)||Y===Z||Y===void 0&&Z===void 0||Ic(e,t,te,Y,s,Z);return}}for(var B in l)Y=l[B],l.hasOwnProperty(B)&&Y!=null&&!s.hasOwnProperty(B)&&Ue(e,t,B,null,s,Y);for(se in s)Y=s[se],Z=l[se],!s.hasOwnProperty(se)||Y===Z||Y==null&&Z==null||Ue(e,t,se,Y,s,Z)}function ef(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,l=performance.getEntriesByType("resource"),s=0;s<l.length;s++){var n=l[s],i=n.transferSize,m=n.initiatorType,C=n.duration;if(i&&C&&ef(m)){for(m=0,C=n.responseEnd,s+=1;s<l.length;s++){var E=l[s],V=E.startTime;if(V>C)break;var te=E.transferSize,se=E.initiatorType;te&&ef(se)&&(E=E.responseEnd,m+=te*(E<C?1:(C-V)/(E-V)))}if(--s,t+=8*(i+m)/(n.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _c=null,qc=null;function Yr(e){return e.nodeType===9?e:e.ownerDocument}function tf(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function af(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Hc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Bc=null;function jv(){var e=window.event;return e&&e.type==="popstate"?e===Bc?!1:(Bc=e,!0):(Bc=null,!1)}var lf=typeof setTimeout=="function"?setTimeout:void 0,Nv=typeof clearTimeout=="function"?clearTimeout:void 0,sf=typeof Promise=="function"?Promise:void 0,Sv=typeof queueMicrotask=="function"?queueMicrotask:typeof sf<"u"?function(e){return sf.resolve(null).then(e).catch(wv)}:lf;function wv(e){setTimeout(function(){throw e})}function Ya(e){return e==="head"}function nf(e,t){var l=t,s=0;do{var n=l.nextSibling;if(e.removeChild(l),n&&n.nodeType===8)if(l=n.data,l==="/$"||l==="/&"){if(s===0){e.removeChild(n),ds(t);return}s--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")s++;else if(l==="html")un(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,un(l);for(var i=l.firstChild;i;){var m=i.nextSibling,C=i.nodeName;i[Ts]||C==="SCRIPT"||C==="STYLE"||C==="LINK"&&i.rel.toLowerCase()==="stylesheet"||l.removeChild(i),i=m}}else l==="body"&&un(e.ownerDocument.body);l=n}while(l);ds(t)}function rf(e,t){var l=e;e=0;do{var s=l.nextSibling;if(l.nodeType===1?t?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(t?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),s&&s.nodeType===8)if(l=s.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=s}while(l)}function Uc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var l=t;switch(t=t.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":Uc(l),Gi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function Cv(e,t,l,s){for(;e.nodeType===1;){var n=l;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[Ts])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(i=e.getAttribute("rel"),i==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(i!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(i=e.getAttribute("src"),(i!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&i&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var i=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===i)return e}else return e;if(e=Ft(e.nextSibling),e===null)break}return null}function Av(e,t,l){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=Ft(e.nextSibling),e===null))return null;return e}function of(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Ft(e.nextSibling),e===null))return null;return e}function $c(e){return e.data==="$?"||e.data==="$~"}function Pc(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Mv(e,t){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||l.readyState!=="loading")t();else{var s=function(){t(),l.removeEventListener("DOMContentLoaded",s)};l.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Fc=null;function cf(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(t===0)return Ft(e.nextSibling);t--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||t++}e=e.nextSibling}return null}function df(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(t===0)return e;t--}else l!=="/$"&&l!=="/&"||t++}e=e.previousSibling}return null}function uf(e,t,l){switch(t=Yr(l),e){case"html":if(e=t.documentElement,!e)throw Error(c(452));return e;case"head":if(e=t.head,!e)throw Error(c(453));return e;case"body":if(e=t.body,!e)throw Error(c(454));return e;default:throw Error(c(451))}}function un(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Gi(e)}var Gt=new Map,mf=new Set;function Qr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ca=ne.d;ne.d={f:Tv,r:kv,D:Ev,C:zv,L:Dv,m:Rv,X:Ov,S:Lv,M:Iv};function Tv(){var e=Ca.f(),t=Hr();return e||t}function kv(e){var t=kl(e);t!==null&&t.tag===5&&t.type==="form"?Tm(t):Ca.r(e)}var is=typeof document>"u"?null:document;function xf(e,t,l){var s=is;if(s&&typeof t=="string"&&t){var n=_t(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof l=="string"&&(n+='[crossorigin="'+l+'"]'),mf.has(n)||(mf.add(n),e={rel:e,crossOrigin:l,href:t},s.querySelector(n)===null&&(t=s.createElement("link"),ut(t,"link",e),nt(t),s.head.appendChild(t)))}}function Ev(e){Ca.D(e),xf("dns-prefetch",e,null)}function zv(e,t){Ca.C(e,t),xf("preconnect",e,t)}function Dv(e,t,l){Ca.L(e,t,l);var s=is;if(s&&e&&t){var n='link[rel="preload"][as="'+_t(t)+'"]';t==="image"&&l&&l.imageSrcSet?(n+='[imagesrcset="'+_t(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(n+='[imagesizes="'+_t(l.imageSizes)+'"]')):n+='[href="'+_t(e)+'"]';var i=n;switch(t){case"style":i=os(e);break;case"script":i=cs(e)}Gt.has(i)||(e=A({rel:"preload",href:t==="image"&&l&&l.imageSrcSet?void 0:e,as:t},l),Gt.set(i,e),s.querySelector(n)!==null||t==="style"&&s.querySelector(mn(i))||t==="script"&&s.querySelector(xn(i))||(t=s.createElement("link"),ut(t,"link",e),nt(t),s.head.appendChild(t)))}}function Rv(e,t){Ca.m(e,t);var l=is;if(l&&e){var s=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+_t(s)+'"][href="'+_t(e)+'"]',i=n;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":i=cs(e)}if(!Gt.has(i)&&(e=A({rel:"modulepreload",href:e},t),Gt.set(i,e),l.querySelector(n)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(xn(i)))return}s=l.createElement("link"),ut(s,"link",e),nt(s),l.head.appendChild(s)}}}function Lv(e,t,l){Ca.S(e,t,l);var s=is;if(s&&e){var n=El(s).hoistableStyles,i=os(e);t=t||"default";var m=n.get(i);if(!m){var C={loading:0,preload:null};if(m=s.querySelector(mn(i)))C.loading=5;else{e=A({rel:"stylesheet",href:e,"data-precedence":t},l),(l=Gt.get(i))&&Gc(e,l);var E=m=s.createElement("link");nt(E),ut(E,"link",e),E._p=new Promise(function(V,te){E.onload=V,E.onerror=te}),E.addEventListener("load",function(){C.loading|=1}),E.addEventListener("error",function(){C.loading|=2}),C.loading|=4,Xr(m,t,s)}m={type:"stylesheet",instance:m,count:1,state:C},n.set(i,m)}}}function Ov(e,t){Ca.X(e,t);var l=is;if(l&&e){var s=El(l).hoistableScripts,n=cs(e),i=s.get(n);i||(i=l.querySelector(xn(n)),i||(e=A({src:e,async:!0},t),(t=Gt.get(n))&&Vc(e,t),i=l.createElement("script"),nt(i),ut(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(n,i))}}function Iv(e,t){Ca.M(e,t);var l=is;if(l&&e){var s=El(l).hoistableScripts,n=cs(e),i=s.get(n);i||(i=l.querySelector(xn(n)),i||(e=A({src:e,async:!0,type:"module"},t),(t=Gt.get(n))&&Vc(e,t),i=l.createElement("script"),nt(i),ut(i,"link",e),l.head.appendChild(i)),i={type:"script",instance:i,count:1,state:null},s.set(n,i))}}function ff(e,t,l,s){var n=(n=oe.current)?Qr(n):null;if(!n)throw Error(c(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(t=os(l.href),l=El(n).hoistableStyles,s=l.get(t),s||(s={type:"style",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=os(l.href);var i=El(n).hoistableStyles,m=i.get(e);if(m||(n=n.ownerDocument||n,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},i.set(e,m),(i=n.querySelector(mn(e)))&&!i._p&&(m.instance=i,m.state.loading=5),Gt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Gt.set(e,l),i||_v(n,e,l,m.state))),t&&s===null)throw Error(c(528,""));return m}if(t&&s!==null)throw Error(c(529,""));return null;case"script":return t=l.async,l=l.src,typeof l=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=cs(l),l=El(n).hoistableScripts,s=l.get(t),s||(s={type:"script",instance:null,count:0,state:null},l.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(c(444,e))}}function os(e){return'href="'+_t(e)+'"'}function mn(e){return'link[rel="stylesheet"]['+e+"]"}function hf(e){return A({},e,{"data-precedence":e.precedence,precedence:null})}function _v(e,t,l,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),ut(t,"link",l),nt(t),e.head.appendChild(t))}function cs(e){return'[src="'+_t(e)+'"]'}function xn(e){return"script[async]"+e}function pf(e,t,l){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+_t(l.href)+'"]');if(s)return t.instance=s,nt(s),s;var n=A({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),nt(s),ut(s,"style",n),Xr(s,l.precedence,e),t.instance=s;case"stylesheet":n=os(l.href);var i=e.querySelector(mn(n));if(i)return t.state.loading|=4,t.instance=i,nt(i),i;s=hf(l),(n=Gt.get(n))&&Gc(s,n),i=(e.ownerDocument||e).createElement("link"),nt(i);var m=i;return m._p=new Promise(function(C,E){m.onload=C,m.onerror=E}),ut(i,"link",s),t.state.loading|=4,Xr(i,l.precedence,e),t.instance=i;case"script":return i=cs(l.src),(n=e.querySelector(xn(i)))?(t.instance=n,nt(n),n):(s=l,(n=Gt.get(i))&&(s=A({},l),Vc(s,n)),e=e.ownerDocument||e,n=e.createElement("script"),nt(n),ut(n,"link",s),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(c(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,Xr(s,l.precedence,e));return t.instance}function Xr(e,t,l){for(var s=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=s.length?s[s.length-1]:null,i=n,m=0;m<s.length;m++){var C=s[m];if(C.dataset.precedence===t)i=C;else if(i!==n)break}i?i.parentNode.insertBefore(e,i.nextSibling):(t=l.nodeType===9?l.head:l,t.insertBefore(e,t.firstChild))}function Gc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Vc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Zr=null;function bf(e,t,l){if(Zr===null){var s=new Map,n=Zr=new Map;n.set(l,s)}else n=Zr,s=n.get(l),s||(s=new Map,n.set(l,s));if(s.has(e))return s;for(s.set(e,null),l=l.getElementsByTagName(e),n=0;n<l.length;n++){var i=l[n];if(!(i[Ts]||i[it]||e==="link"&&i.getAttribute("rel")==="stylesheet")&&i.namespaceURI!=="http://www.w3.org/2000/svg"){var m=i.getAttribute(t)||"";m=e+m;var C=s.get(m);C?C.push(i):s.set(m,[i])}}return s}function vf(e,t,l){e=e.ownerDocument||e,e.head.insertBefore(l,t==="title"?e.querySelector("head > title"):null)}function qv(e,t,l){if(l===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function gf(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Hv(e,t,l,s){if(l.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var n=os(s.href),i=t.querySelector(mn(n));if(i){t=i._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Kr.bind(e),t.then(e,e)),l.state.loading|=4,l.instance=i,nt(i);return}i=t.ownerDocument||t,s=hf(s),(n=Gt.get(n))&&Gc(s,n),i=i.createElement("link"),nt(i);var m=i;m._p=new Promise(function(C,E){m.onload=C,m.onerror=E}),ut(i,"link",s),l.instance=i}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,t),(t=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Kr.bind(e),t.addEventListener("load",l),t.addEventListener("error",l))}}var Yc=0;function Bv(e,t){return e.stylesheets&&e.count===0&&Wr(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var s=setTimeout(function(){if(e.stylesheets&&Wr(e,e.stylesheets),e.unsuspend){var i=e.unsuspend;e.unsuspend=null,i()}},6e4+t);0<e.imgBytes&&Yc===0&&(Yc=62500*yv());var n=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Wr(e,e.stylesheets),e.unsuspend)){var i=e.unsuspend;e.unsuspend=null,i()}},(e.imgBytes>Yc?50:800)+t);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(n)}}:null}function Kr(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wr(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Jr=null;function Wr(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Jr=new Map,t.forEach(Uv,e),Jr=null,Kr.call(e))}function Uv(e,t){if(!(t.state.loading&4)){var l=Jr.get(e);if(l)var s=l.get(null);else{l=new Map,Jr.set(e,l);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),i=0;i<n.length;i++){var m=n[i];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(l.set(m.dataset.precedence,m),s=m)}s&&l.set(null,s)}n=t.instance,m=n.getAttribute("data-precedence"),i=l.get(m)||s,i===s&&l.set(null,n),l.set(m,n),this.count++,s=Kr.bind(this),n.addEventListener("load",s),n.addEventListener("error",s),i?i.parentNode.insertBefore(n,i.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var fn={$$typeof:k,Provider:null,Consumer:null,_currentValue:Q,_currentValue2:Q,_threadCount:0};function $v(e,t,l,s,n,i,m,C,E){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=As(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=As(0),this.hiddenUpdates=As(null),this.identifierPrefix=s,this.onUncaughtError=n,this.onCaughtError=i,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function yf(e,t,l,s,n,i,m,C,E,V,te,se){return e=new $v(e,t,l,m,E,V,te,se,C),t=1,i===!0&&(t|=24),i=kt(3,null,null,t),e.current=i,i.stateNode=e,t=Ao(),t.refCount++,e.pooledCache=t,t.refCount++,i.memoizedState={element:s,isDehydrated:l,cache:t},Eo(i),e}function jf(e){return e?(e=Bl,e):Bl}function Nf(e,t,l,s,n,i){n=jf(n),s.context===null?s.context=n:s.pendingContext=n,s=Ia(t),s.payload={element:l},i=i===void 0?null:i,i!==null&&(s.callback=i),l=_a(e,s,t),l!==null&&(Mt(l,e,t),Gs(l,e,t))}function Sf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<t?l:t}}function Qc(e,t){Sf(e,t),(e=e.alternate)&&Sf(e,t)}function wf(e){if(e.tag===13||e.tag===31){var t=il(e,67108864);t!==null&&Mt(t,e,67108864),Qc(e,67108864)}}function Cf(e){if(e.tag===13||e.tag===31){var t=Lt();t=Ms(t);var l=il(e,t);l!==null&&Mt(l,e,t),Qc(e,t)}}var ei=!0;function Pv(e,t,l,s){var n=O.T;O.T=null;var i=ne.p;try{ne.p=2,Xc(e,t,l,s)}finally{ne.p=i,O.T=n}}function Fv(e,t,l,s){var n=O.T;O.T=null;var i=ne.p;try{ne.p=8,Xc(e,t,l,s)}finally{ne.p=i,O.T=n}}function Xc(e,t,l,s){if(ei){var n=Zc(s);if(n===null)Oc(e,t,s,ti,l),Mf(e,s);else if(Vv(n,e,t,l,s))s.stopPropagation();else if(Mf(e,s),t&4&&-1<Gv.indexOf(e)){for(;n!==null;){var i=kl(n);if(i!==null)switch(i.tag){case 3:if(i=i.stateNode,i.current.memoizedState.isDehydrated){var m=ia(i.pendingLanes);if(m!==0){var C=i;for(C.pendingLanes|=2,C.entangledLanes|=2;m;){var E=1<<31-vt(m);C.entanglements[1]|=E,m&=~E}la(i),(Ie&6)===0&&(_r=pt()+500,on(0))}}break;case 31:case 13:C=il(i,2),C!==null&&Mt(C,i,2),Hr(),Qc(i,2)}if(i=Zc(s),i===null&&Oc(e,t,s,ti,l),i===n)break;n=i}n!==null&&s.stopPropagation()}else Oc(e,t,s,null,l)}}function Zc(e){return e=Ki(e),Kc(e)}var ti=null;function Kc(e){if(ti=null,e=Tl(e),e!==null){var t=f(e);if(t===null)e=null;else{var l=t.tag;if(l===13){if(e=h(t),e!==null)return e;e=null}else if(l===31){if(e=d(t),e!==null)return e;e=null}else if(l===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ti=e,null}function Af(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Oi()){case Un:return 2;case $n:return 8;case Nl:case Ii:return 32;case Pn:return 268435456;default:return 32}default:return 32}}var Jc=!1,Qa=null,Xa=null,Za=null,hn=new Map,pn=new Map,Ka=[],Gv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mf(e,t){switch(e){case"focusin":case"focusout":Qa=null;break;case"dragenter":case"dragleave":Xa=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":hn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":pn.delete(t.pointerId)}}function bn(e,t,l,s,n,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:l,eventSystemFlags:s,nativeEvent:i,targetContainers:[n]},t!==null&&(t=kl(t),t!==null&&wf(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function Vv(e,t,l,s,n){switch(t){case"focusin":return Qa=bn(Qa,e,t,l,s,n),!0;case"dragenter":return Xa=bn(Xa,e,t,l,s,n),!0;case"mouseover":return Za=bn(Za,e,t,l,s,n),!0;case"pointerover":var i=n.pointerId;return hn.set(i,bn(hn.get(i)||null,e,t,l,s,n)),!0;case"gotpointercapture":return i=n.pointerId,pn.set(i,bn(pn.get(i)||null,e,t,l,s,n)),!0}return!1}function Tf(e){var t=Tl(e.target);if(t!==null){var l=f(t);if(l!==null){if(t=l.tag,t===13){if(t=h(l),t!==null){e.blockedOn=t,Qn(e.priority,function(){Cf(l)});return}}else if(t===31){if(t=d(l),t!==null){e.blockedOn=t,Qn(e.priority,function(){Cf(l)});return}}else if(t===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ai(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var l=Zc(e.nativeEvent);if(l===null){l=e.nativeEvent;var s=new l.constructor(l.type,l);Zi=s,l.target.dispatchEvent(s),Zi=null}else return t=kl(l),t!==null&&wf(t),e.blockedOn=l,!1;t.shift()}return!0}function kf(e,t,l){ai(e)&&l.delete(t)}function Yv(){Jc=!1,Qa!==null&&ai(Qa)&&(Qa=null),Xa!==null&&ai(Xa)&&(Xa=null),Za!==null&&ai(Za)&&(Za=null),hn.forEach(kf),pn.forEach(kf)}function li(e,t){e.blockedOn===t&&(e.blockedOn=null,Jc||(Jc=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Yv)))}var si=null;function Ef(e){si!==e&&(si=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){si===e&&(si=null);for(var t=0;t<e.length;t+=3){var l=e[t],s=e[t+1],n=e[t+2];if(typeof s!="function"){if(Kc(s||l)===null)continue;break}var i=kl(l);i!==null&&(e.splice(t,3),t-=3,Zo(i,{pending:!0,data:n,method:l.method,action:s},s,n))}}))}function ds(e){function t(E){return li(E,e)}Qa!==null&&li(Qa,e),Xa!==null&&li(Xa,e),Za!==null&&li(Za,e),hn.forEach(t),pn.forEach(t);for(var l=0;l<Ka.length;l++){var s=Ka[l];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Ka.length&&(l=Ka[0],l.blockedOn===null);)Tf(l),l.blockedOn===null&&Ka.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(s=0;s<l.length;s+=3){var n=l[s],i=l[s+1],m=n[jt]||null;if(typeof i=="function")m||Ef(l);else if(m){var C=null;if(i&&i.hasAttribute("formAction")){if(n=i,m=i[jt]||null)C=m.formAction;else if(Kc(n)!==null)continue}else C=m.action;typeof C=="function"?l[s+1]=C:(l.splice(s,3),s-=3),Ef(l)}}}function zf(){function e(i){i.canIntercept&&i.info==="react-transition"&&i.intercept({handler:function(){return new Promise(function(m){return n=m})},focusReset:"manual",scroll:"manual"})}function t(){n!==null&&(n(),n=null),s||setTimeout(l,20)}function l(){if(!s&&!navigation.transition){var i=navigation.currentEntry;i&&i.url!=null&&navigation.navigate(i.url,{state:i.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,n=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(l,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),n!==null&&(n(),n=null)}}}function Wc(e){this._internalRoot=e}ni.prototype.render=Wc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(c(409));var l=t.current,s=Lt();Nf(l,s,e,t,null,null)},ni.prototype.unmount=Wc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nf(e.current,2,null,e,null,null),Hr(),t[Ml]=null}};function ni(e){this._internalRoot=e}ni.prototype.unstable_scheduleHydration=function(e){if(e){var t=ve();e={blockedOn:null,target:e,priority:t};for(var l=0;l<Ka.length&&t!==0&&t<Ka[l].priority;l++);Ka.splice(l,0,e),l===0&&Tf(e)}};var Df=o.version;if(Df!=="19.2.4")throw Error(c(527,Df,"19.2.4"));ne.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(c(188)):(e=Object.keys(e).join(","),Error(c(268,e)));return e=x(t),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var Qv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:O,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ri.isDisabled&&ri.supportsFiber)try{el=ri.inject(Qv),bt=ri}catch{}}return gn.createRoot=function(e,t){if(!v(e))throw Error(c(299));var l=!1,s="",n=qm,i=Hm,m=Bm;return t!=null&&(t.unstable_strictMode===!0&&(l=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(i=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=yf(e,1,!1,null,null,l,s,null,n,i,m,zf),e[Ml]=t.current,Lc(e),new Wc(t)},gn.hydrateRoot=function(e,t,l){if(!v(e))throw Error(c(299));var s=!1,n="",i=qm,m=Hm,C=Bm,E=null;return l!=null&&(l.unstable_strictMode===!0&&(s=!0),l.identifierPrefix!==void 0&&(n=l.identifierPrefix),l.onUncaughtError!==void 0&&(i=l.onUncaughtError),l.onCaughtError!==void 0&&(m=l.onCaughtError),l.onRecoverableError!==void 0&&(C=l.onRecoverableError),l.formState!==void 0&&(E=l.formState)),t=yf(e,1,!0,t,l??null,s,n,E,i,m,C,zf),t.context=jf(null),l=t.current,s=Lt(),s=Ms(s),n=Ia(s),n.callback=null,_a(l,n,s),l=s,t.current.lanes=l,al(t,l),la(t),e[Ml]=t.current,Lc(e),new ni(t)},gn.version="19.2.4",gn}var $f;function s0(){if($f)return td.exports;$f=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(o){console.error(o)}}return r(),td.exports=l0(),td.exports}var n0=s0(),j=Sd();var Pf="popstate";function r0(r={}){function o(c,v){let{pathname:f,search:h,hash:d}=c.location;return vd("",{pathname:f,search:h,hash:d},v.state&&v.state.usr||null,v.state&&v.state.key||"default")}function u(c,v){return typeof v=="string"?v:Dn(v)}return o0(o,u,null,r)}function Qe(r,o){if(r===!1||r===null||typeof r>"u")throw new Error(o)}function Zt(r,o){if(!r){typeof console<"u"&&console.warn(o);try{throw new Error(o)}catch{}}}function i0(){return Math.random().toString(36).substring(2,10)}function Ff(r,o){return{usr:r.state,key:r.key,idx:o}}function vd(r,o,u=null,c){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof o=="string"?ps(o):o,state:u,key:o&&o.key||c||i0()}}function Dn({pathname:r="/",search:o="",hash:u=""}){return o&&o!=="?"&&(r+=o.charAt(0)==="?"?o:"?"+o),u&&u!=="#"&&(r+=u.charAt(0)==="#"?u:"#"+u),r}function ps(r){let o={};if(r){let u=r.indexOf("#");u>=0&&(o.hash=r.substring(u),r=r.substring(0,u));let c=r.indexOf("?");c>=0&&(o.search=r.substring(c),r=r.substring(0,c)),r&&(o.pathname=r)}return o}function o0(r,o,u,c={}){let{window:v=document.defaultView,v5Compat:f=!1}=c,h=v.history,d="POP",b=null,x=S();x==null&&(x=0,h.replaceState({...h.state,idx:x},""));function S(){return(h.state||{idx:null}).idx}function A(){d="POP";let y=S(),N=y==null?null:y-x;x=y,b&&b({action:d,location:g.location,delta:N})}function w(y,N){d="PUSH";let R=vd(g.location,y,N);x=S()+1;let k=Ff(R,x),_=g.createHref(R);try{h.pushState(k,"",_)}catch(ee){if(ee instanceof DOMException&&ee.name==="DataCloneError")throw ee;v.location.assign(_)}f&&b&&b({action:d,location:g.location,delta:1})}function M(y,N){d="REPLACE";let R=vd(g.location,y,N);x=S();let k=Ff(R,x),_=g.createHref(R);h.replaceState(k,"",_),f&&b&&b({action:d,location:g.location,delta:0})}function p(y){return c0(y)}let g={get action(){return d},get location(){return r(v,h)},listen(y){if(b)throw new Error("A history only accepts one active listener");return v.addEventListener(Pf,A),b=y,()=>{v.removeEventListener(Pf,A),b=null}},createHref(y){return o(v,y)},createURL:p,encodeLocation(y){let N=p(y);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:w,replace:M,go(y){return h.go(y)}};return g}function c0(r,o=!1){let u="http://localhost";typeof window<"u"&&(u=window.location.origin!=="null"?window.location.origin:window.location.href),Qe(u,"No window.location.(origin|href) available to create URL");let c=typeof r=="string"?r:Dn(r);return c=c.replace(/ $/,"%20"),!o&&c.startsWith("//")&&(c=u+c),new URL(c,u)}function Ch(r,o,u="/"){return d0(r,o,u,!1)}function d0(r,o,u,c){let v=typeof o=="string"?ps(o):o,f=Ma(v.pathname||"/",u);if(f==null)return null;let h=Ah(r);u0(h);let d=null;for(let b=0;d==null&&b<h.length;++b){let x=N0(f);d=y0(h[b],x,c)}return d}function Ah(r,o=[],u=[],c="",v=!1){let f=(h,d,b=v,x)=>{let S={relativePath:x===void 0?h.path||"":x,caseSensitive:h.caseSensitive===!0,childrenIndex:d,route:h};if(S.relativePath.startsWith("/")){if(!S.relativePath.startsWith(c)&&b)return;Qe(S.relativePath.startsWith(c),`Absolute route path "${S.relativePath}" nested under path "${c}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),S.relativePath=S.relativePath.slice(c.length)}let A=Aa([c,S.relativePath]),w=u.concat(S);h.children&&h.children.length>0&&(Qe(h.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${A}".`),Ah(h.children,o,w,A,b)),!(h.path==null&&!h.index)&&o.push({path:A,score:v0(A,h.index),routesMeta:w})};return r.forEach((h,d)=>{if(h.path===""||!h.path?.includes("?"))f(h,d);else for(let b of Mh(h.path))f(h,d,!0,b)}),o}function Mh(r){let o=r.split("/");if(o.length===0)return[];let[u,...c]=o,v=u.endsWith("?"),f=u.replace(/\?$/,"");if(c.length===0)return v?[f,""]:[f];let h=Mh(c.join("/")),d=[];return d.push(...h.map(b=>b===""?f:[f,b].join("/"))),v&&d.push(...h),d.map(b=>r.startsWith("/")&&b===""?"/":b)}function u0(r){r.sort((o,u)=>o.score!==u.score?u.score-o.score:g0(o.routesMeta.map(c=>c.childrenIndex),u.routesMeta.map(c=>c.childrenIndex)))}var m0=/^:[\w-]+$/,x0=3,f0=2,h0=1,p0=10,b0=-2,Gf=r=>r==="*";function v0(r,o){let u=r.split("/"),c=u.length;return u.some(Gf)&&(c+=b0),o&&(c+=f0),u.filter(v=>!Gf(v)).reduce((v,f)=>v+(m0.test(f)?x0:f===""?h0:p0),c)}function g0(r,o){return r.length===o.length&&r.slice(0,-1).every((c,v)=>c===o[v])?r[r.length-1]-o[o.length-1]:0}function y0(r,o,u=!1){let{routesMeta:c}=r,v={},f="/",h=[];for(let d=0;d<c.length;++d){let b=c[d],x=d===c.length-1,S=f==="/"?o:o.slice(f.length)||"/",A=Ni({path:b.relativePath,caseSensitive:b.caseSensitive,end:x},S),w=b.route;if(!A&&x&&u&&!c[c.length-1].route.index&&(A=Ni({path:b.relativePath,caseSensitive:b.caseSensitive,end:!1},S)),!A)return null;Object.assign(v,A.params),h.push({params:v,pathname:Aa([f,A.pathname]),pathnameBase:A0(Aa([f,A.pathnameBase])),route:w}),A.pathnameBase!=="/"&&(f=Aa([f,A.pathnameBase]))}return h}function Ni(r,o){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[u,c]=j0(r.path,r.caseSensitive,r.end),v=o.match(u);if(!v)return null;let f=v[0],h=f.replace(/(.)\/+$/,"$1"),d=v.slice(1);return{params:c.reduce((x,{paramName:S,isOptional:A},w)=>{if(S==="*"){let p=d[w]||"";h=f.slice(0,f.length-p.length).replace(/(.)\/+$/,"$1")}const M=d[w];return A&&!M?x[S]=void 0:x[S]=(M||"").replace(/%2F/g,"/"),x},{}),pathname:f,pathnameBase:h,pattern:r}}function j0(r,o=!1,u=!0){Zt(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let c=[],v="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,b)=>(c.push({paramName:d,isOptional:b!=null}),b?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(c.push({paramName:"*"}),v+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):u?v+="\\/*$":r!==""&&r!=="/"&&(v+="(?:(?=\\/|$))"),[new RegExp(v,o?void 0:"i"),c]}function N0(r){try{return r.split("/").map(o=>decodeURIComponent(o).replace(/\//g,"%2F")).join("/")}catch(o){return Zt(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${o}).`),r}}function Ma(r,o){if(o==="/")return r;if(!r.toLowerCase().startsWith(o.toLowerCase()))return null;let u=o.endsWith("/")?o.length-1:o.length,c=r.charAt(u);return c&&c!=="/"?null:r.slice(u)||"/"}var S0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function w0(r,o="/"){let{pathname:u,search:c="",hash:v=""}=typeof r=="string"?ps(r):r,f;return u?(u=u.replace(/\/\/+/g,"/"),u.startsWith("/")?f=Vf(u.substring(1),"/"):f=Vf(u,o)):f=o,{pathname:f,search:M0(c),hash:T0(v)}}function Vf(r,o){let u=o.replace(/\/+$/,"").split("/");return r.split("/").forEach(v=>{v===".."?u.length>1&&u.pop():v!=="."&&u.push(v)}),u.length>1?u.join("/"):"/"}function rd(r,o,u,c){return`Cannot include a '${r}' character in a manually specified \`to.${o}\` field [${JSON.stringify(c)}].  Please separate it out to the \`to.${u}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function C0(r){return r.filter((o,u)=>u===0||o.route.path&&o.route.path.length>0)}function wd(r){let o=C0(r);return o.map((u,c)=>c===o.length-1?u.pathname:u.pathnameBase)}function Cd(r,o,u,c=!1){let v;typeof r=="string"?v=ps(r):(v={...r},Qe(!v.pathname||!v.pathname.includes("?"),rd("?","pathname","search",v)),Qe(!v.pathname||!v.pathname.includes("#"),rd("#","pathname","hash",v)),Qe(!v.search||!v.search.includes("#"),rd("#","search","hash",v)));let f=r===""||v.pathname==="",h=f?"/":v.pathname,d;if(h==null)d=u;else{let A=o.length-1;if(!c&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),A-=1;v.pathname=w.join("/")}d=A>=0?o[A]:"/"}let b=w0(v,d),x=h&&h!=="/"&&h.endsWith("/"),S=(f||h===".")&&u.endsWith("/");return!b.pathname.endsWith("/")&&(x||S)&&(b.pathname+="/"),b}var Aa=r=>r.join("/").replace(/\/\/+/g,"/"),A0=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),M0=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,T0=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r,k0=class{constructor(r,o,u,c=!1){this.status=r,this.statusText=o||"",this.internal=c,u instanceof Error?(this.data=u.toString(),this.error=u):this.data=u}};function E0(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}function z0(r){return r.map(o=>o.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var Th=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function kh(r,o){let u=r;if(typeof u!="string"||!S0.test(u))return{absoluteURL:void 0,isExternal:!1,to:u};let c=u,v=!1;if(Th)try{let f=new URL(window.location.href),h=u.startsWith("//")?new URL(f.protocol+u):new URL(u),d=Ma(h.pathname,o);h.origin===f.origin&&d!=null?u=d+h.search+h.hash:v=!0}catch{Zt(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:c,isExternal:v,to:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Eh=["POST","PUT","PATCH","DELETE"];new Set(Eh);var D0=["GET",...Eh];new Set(D0);var bs=j.createContext(null);bs.displayName="DataRouter";var Ti=j.createContext(null);Ti.displayName="DataRouterState";var R0=j.createContext(!1),zh=j.createContext({isTransitioning:!1});zh.displayName="ViewTransition";var L0=j.createContext(new Map);L0.displayName="Fetchers";var O0=j.createContext(null);O0.displayName="Await";var Ot=j.createContext(null);Ot.displayName="Navigation";var In=j.createContext(null);In.displayName="Location";var Kt=j.createContext({outlet:null,matches:[],isDataRoute:!1});Kt.displayName="Route";var Ad=j.createContext(null);Ad.displayName="RouteError";var Dh="REACT_ROUTER_ERROR",I0="REDIRECT",_0="ROUTE_ERROR_RESPONSE";function q0(r){if(r.startsWith(`${Dh}:${I0}:{`))try{let o=JSON.parse(r.slice(28));if(typeof o=="object"&&o&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.location=="string"&&typeof o.reloadDocument=="boolean"&&typeof o.replace=="boolean")return o}catch{}}function H0(r){if(r.startsWith(`${Dh}:${_0}:{`))try{let o=JSON.parse(r.slice(40));if(typeof o=="object"&&o&&typeof o.status=="number"&&typeof o.statusText=="string")return new k0(o.status,o.statusText,o.data)}catch{}}function B0(r,{relative:o}={}){Qe(vs(),"useHref() may be used only in the context of a <Router> component.");let{basename:u,navigator:c}=j.useContext(Ot),{hash:v,pathname:f,search:h}=qn(r,{relative:o}),d=f;return u!=="/"&&(d=f==="/"?u:Aa([u,f])),c.createHref({pathname:d,search:h,hash:v})}function vs(){return j.useContext(In)!=null}function Jt(){return Qe(vs(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(In).location}var Rh="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Lh(r){j.useContext(Ot).static||j.useLayoutEffect(r)}function _n(){let{isDataRoute:r}=j.useContext(Kt);return r?tg():U0()}function U0(){Qe(vs(),"useNavigate() may be used only in the context of a <Router> component.");let r=j.useContext(bs),{basename:o,navigator:u}=j.useContext(Ot),{matches:c}=j.useContext(Kt),{pathname:v}=Jt(),f=JSON.stringify(wd(c)),h=j.useRef(!1);return Lh(()=>{h.current=!0}),j.useCallback((b,x={})=>{if(Zt(h.current,Rh),!h.current)return;if(typeof b=="number"){u.go(b);return}let S=Cd(b,JSON.parse(f),v,x.relative==="path");r==null&&o!=="/"&&(S.pathname=S.pathname==="/"?o:Aa([o,S.pathname])),(x.replace?u.replace:u.push)(S,x.state,x)},[o,u,f,v,r])}var $0=j.createContext(null);function P0(r){let o=j.useContext(Kt).outlet;return j.useMemo(()=>o&&j.createElement($0.Provider,{value:r},o),[o,r])}function qn(r,{relative:o}={}){let{matches:u}=j.useContext(Kt),{pathname:c}=Jt(),v=JSON.stringify(wd(u));return j.useMemo(()=>Cd(r,JSON.parse(v),c,o==="path"),[r,v,c,o])}function F0(r,o){return Oh(r,o)}function Oh(r,o,u,c,v){Qe(vs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:f}=j.useContext(Ot),{matches:h}=j.useContext(Kt),d=h[h.length-1],b=d?d.params:{},x=d?d.pathname:"/",S=d?d.pathnameBase:"/",A=d&&d.route;{let R=A&&A.path||"";_h(x,!A||R.endsWith("*")||R.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${x}" (under <Route path="${R}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${R}"> to <Route path="${R==="/"?"*":`${R}/*`}">.`)}let w=Jt(),M;if(o){let R=typeof o=="string"?ps(o):o;Qe(S==="/"||R.pathname?.startsWith(S),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${S}" but pathname "${R.pathname}" was given in the \`location\` prop.`),M=R}else M=w;let p=M.pathname||"/",g=p;if(S!=="/"){let R=S.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(R.length).join("/")}let y=Ch(r,{pathname:g});Zt(A||y!=null,`No routes matched location "${M.pathname}${M.search}${M.hash}" `),Zt(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${M.pathname}${M.search}${M.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=X0(y&&y.map(R=>Object.assign({},R,{params:Object.assign({},b,R.params),pathname:Aa([S,f.encodeLocation?f.encodeLocation(R.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?S:Aa([S,f.encodeLocation?f.encodeLocation(R.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:R.pathnameBase])})),h,u,c,v);return o&&N?j.createElement(In.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...M},navigationType:"POP"}},N):N}function G0(){let r=eg(),o=E0(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),u=r instanceof Error?r.stack:null,c="rgba(200,200,200, 0.5)",v={padding:"0.5rem",backgroundColor:c},f={padding:"2px 4px",backgroundColor:c},h=null;return console.error("Error handled by React Router default ErrorBoundary:",r),h=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:f},"ErrorBoundary")," or"," ",j.createElement("code",{style:f},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},o),u?j.createElement("pre",{style:v},u):null,h)}var V0=j.createElement(G0,null),Ih=class extends j.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,o){return o.location!==r.location||o.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:o.error,location:o.location,revalidation:r.revalidation||o.revalidation}}componentDidCatch(r,o){this.props.onError?this.props.onError(r,o):console.error("React Router caught the following error during render",r)}render(){let r=this.state.error;if(this.context&&typeof r=="object"&&r&&"digest"in r&&typeof r.digest=="string"){const u=H0(r.digest);u&&(r=u)}let o=r!==void 0?j.createElement(Kt.Provider,{value:this.props.routeContext},j.createElement(Ad.Provider,{value:r,children:this.props.component})):this.props.children;return this.context?j.createElement(Y0,{error:r},o):o}};Ih.contextType=R0;var id=new WeakMap;function Y0({children:r,error:o}){let{basename:u}=j.useContext(Ot);if(typeof o=="object"&&o&&"digest"in o&&typeof o.digest=="string"){let c=q0(o.digest);if(c){let v=id.get(o);if(v)throw v;let f=kh(c.location,u);if(Th&&!id.get(o))if(f.isExternal||c.reloadDocument)window.location.href=f.absoluteURL||f.to;else{const h=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(f.to,{replace:c.replace}));throw id.set(o,h),h}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${f.absoluteURL||f.to}`})}}return r}function Q0({routeContext:r,match:o,children:u}){let c=j.useContext(bs);return c&&c.static&&c.staticContext&&(o.route.errorElement||o.route.ErrorBoundary)&&(c.staticContext._deepestRenderedBoundaryId=o.route.id),j.createElement(Kt.Provider,{value:r},u)}function X0(r,o=[],u=null,c=null,v=null){if(r==null){if(!u)return null;if(u.errors)r=u.matches;else if(o.length===0&&!u.initialized&&u.matches.length>0)r=u.matches;else return null}let f=r,h=u?.errors;if(h!=null){let S=f.findIndex(A=>A.route.id&&h?.[A.route.id]!==void 0);Qe(S>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(h).join(",")}`),f=f.slice(0,Math.min(f.length,S+1))}let d=!1,b=-1;if(u)for(let S=0;S<f.length;S++){let A=f[S];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(b=S),A.route.id){let{loaderData:w,errors:M}=u,p=A.route.loader&&!w.hasOwnProperty(A.route.id)&&(!M||M[A.route.id]===void 0);if(A.route.lazy||p){d=!0,b>=0?f=f.slice(0,b+1):f=[f[0]];break}}}let x=u&&c?(S,A)=>{c(S,{location:u.location,params:u.matches?.[0]?.params??{},unstable_pattern:z0(u.matches),errorInfo:A})}:void 0;return f.reduceRight((S,A,w)=>{let M,p=!1,g=null,y=null;u&&(M=h&&A.route.id?h[A.route.id]:void 0,g=A.route.errorElement||V0,d&&(b<0&&w===0?(_h("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,y=null):b===w&&(p=!0,y=A.route.hydrateFallbackElement||null)));let N=o.concat(f.slice(0,w+1)),R=()=>{let k;return M?k=g:p?k=y:A.route.Component?k=j.createElement(A.route.Component,null):A.route.element?k=A.route.element:k=S,j.createElement(Q0,{match:A,routeContext:{outlet:S,matches:N,isDataRoute:u!=null},children:k})};return u&&(A.route.ErrorBoundary||A.route.errorElement||w===0)?j.createElement(Ih,{location:u.location,revalidation:u.revalidation,component:g,error:M,children:R(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:x}):R()},null)}function Md(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Z0(r){let o=j.useContext(bs);return Qe(o,Md(r)),o}function K0(r){let o=j.useContext(Ti);return Qe(o,Md(r)),o}function J0(r){let o=j.useContext(Kt);return Qe(o,Md(r)),o}function Td(r){let o=J0(r),u=o.matches[o.matches.length-1];return Qe(u.route.id,`${r} can only be used on routes that contain a unique "id"`),u.route.id}function W0(){return Td("useRouteId")}function eg(){let r=j.useContext(Ad),o=K0("useRouteError"),u=Td("useRouteError");return r!==void 0?r:o.errors?.[u]}function tg(){let{router:r}=Z0("useNavigate"),o=Td("useNavigate"),u=j.useRef(!1);return Lh(()=>{u.current=!0}),j.useCallback(async(v,f={})=>{Zt(u.current,Rh),u.current&&(typeof v=="number"?await r.navigate(v):await r.navigate(v,{fromRouteId:o,...f}))},[r,o])}var Yf={};function _h(r,o,u){!o&&!Yf[r]&&(Yf[r]=!0,Zt(!1,u))}j.memo(ag);function ag({routes:r,future:o,state:u,onError:c}){return Oh(r,void 0,u,c,o)}function qh({to:r,replace:o,state:u,relative:c}){Qe(vs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:v}=j.useContext(Ot);Zt(!v,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:f}=j.useContext(Kt),{pathname:h}=Jt(),d=_n(),b=Cd(r,wd(f),h,c==="path"),x=JSON.stringify(b);return j.useEffect(()=>{d(JSON.parse(x),{replace:o,state:u,relative:c})},[d,x,c,o,u]),null}function Hh(r){return P0(r.context)}function Ye(r){Qe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lg({basename:r="/",children:o=null,location:u,navigationType:c="POP",navigator:v,static:f=!1,unstable_useTransitions:h}){Qe(!vs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=r.replace(/^\/*/,"/"),b=j.useMemo(()=>({basename:d,navigator:v,static:f,unstable_useTransitions:h,future:{}}),[d,v,f,h]);typeof u=="string"&&(u=ps(u));let{pathname:x="/",search:S="",hash:A="",state:w=null,key:M="default"}=u,p=j.useMemo(()=>{let g=Ma(x,d);return g==null?null:{location:{pathname:g,search:S,hash:A,state:w,key:M},navigationType:c}},[d,x,S,A,w,M,c]);return Zt(p!=null,`<Router basename="${d}"> is not able to match the URL "${x}${S}${A}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:j.createElement(Ot.Provider,{value:b},j.createElement(In.Provider,{children:o,value:p}))}function sg({children:r,location:o}){return F0(gd(r),o)}function gd(r,o=[]){let u=[];return j.Children.forEach(r,(c,v)=>{if(!j.isValidElement(c))return;let f=[...o,v];if(c.type===j.Fragment){u.push.apply(u,gd(c.props.children,f));return}Qe(c.type===Ye,`[${typeof c.type=="string"?c.type:c.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Qe(!c.props.index||!c.props.children,"An index route cannot have child routes.");let h={id:c.props.id||f.join("-"),caseSensitive:c.props.caseSensitive,element:c.props.element,Component:c.props.Component,index:c.props.index,path:c.props.path,middleware:c.props.middleware,loader:c.props.loader,action:c.props.action,hydrateFallbackElement:c.props.hydrateFallbackElement,HydrateFallback:c.props.HydrateFallback,errorElement:c.props.errorElement,ErrorBoundary:c.props.ErrorBoundary,hasErrorBoundary:c.props.hasErrorBoundary===!0||c.props.ErrorBoundary!=null||c.props.errorElement!=null,shouldRevalidate:c.props.shouldRevalidate,handle:c.props.handle,lazy:c.props.lazy};c.props.children&&(h.children=gd(c.props.children,f)),u.push(h)}),u}var gi="get",yi="application/x-www-form-urlencoded";function ki(r){return typeof HTMLElement<"u"&&r instanceof HTMLElement}function ng(r){return ki(r)&&r.tagName.toLowerCase()==="button"}function rg(r){return ki(r)&&r.tagName.toLowerCase()==="form"}function ig(r){return ki(r)&&r.tagName.toLowerCase()==="input"}function og(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function cg(r,o){return r.button===0&&(!o||o==="_self")&&!og(r)}var ii=null;function dg(){if(ii===null)try{new FormData(document.createElement("form"),0),ii=!1}catch{ii=!0}return ii}var ug=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function od(r){return r!=null&&!ug.has(r)?(Zt(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yi}"`),null):r}function mg(r,o){let u,c,v,f,h;if(rg(r)){let d=r.getAttribute("action");c=d?Ma(d,o):null,u=r.getAttribute("method")||gi,v=od(r.getAttribute("enctype"))||yi,f=new FormData(r)}else if(ng(r)||ig(r)&&(r.type==="submit"||r.type==="image")){let d=r.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let b=r.getAttribute("formaction")||d.getAttribute("action");if(c=b?Ma(b,o):null,u=r.getAttribute("formmethod")||d.getAttribute("method")||gi,v=od(r.getAttribute("formenctype"))||od(d.getAttribute("enctype"))||yi,f=new FormData(d,r),!dg()){let{name:x,type:S,value:A}=r;if(S==="image"){let w=x?`${x}.`:"";f.append(`${w}x`,"0"),f.append(`${w}y`,"0")}else x&&f.append(x,A)}}else{if(ki(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');u=gi,c=null,v=yi,h=r}return f&&v==="text/plain"&&(h=f,f=void 0),{action:c,method:u.toLowerCase(),encType:v,formData:f,body:h}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function kd(r,o){if(r===!1||r===null||typeof r>"u")throw new Error(o)}function xg(r,o,u,c){let v=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return u?v.pathname.endsWith("/")?v.pathname=`${v.pathname}_.${c}`:v.pathname=`${v.pathname}.${c}`:v.pathname==="/"?v.pathname=`_root.${c}`:o&&Ma(v.pathname,o)==="/"?v.pathname=`${o.replace(/\/$/,"")}/_root.${c}`:v.pathname=`${v.pathname.replace(/\/$/,"")}.${c}`,v}async function fg(r,o){if(r.id in o)return o[r.id];try{let u=await import(r.module);return o[r.id]=u,u}catch(u){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(u),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function hg(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function pg(r,o,u){let c=await Promise.all(r.map(async v=>{let f=o.routes[v.route.id];if(f){let h=await fg(f,u);return h.links?h.links():[]}return[]}));return yg(c.flat(1).filter(hg).filter(v=>v.rel==="stylesheet"||v.rel==="preload").map(v=>v.rel==="stylesheet"?{...v,rel:"prefetch",as:"style"}:{...v,rel:"prefetch"}))}function Qf(r,o,u,c,v,f){let h=(b,x)=>u[x]?b.route.id!==u[x].route.id:!0,d=(b,x)=>u[x].pathname!==b.pathname||u[x].route.path?.endsWith("*")&&u[x].params["*"]!==b.params["*"];return f==="assets"?o.filter((b,x)=>h(b,x)||d(b,x)):f==="data"?o.filter((b,x)=>{let S=c.routes[b.route.id];if(!S||!S.hasLoader)return!1;if(h(b,x)||d(b,x))return!0;if(b.route.shouldRevalidate){let A=b.route.shouldRevalidate({currentUrl:new URL(v.pathname+v.search+v.hash,window.origin),currentParams:u[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:b.params,defaultShouldRevalidate:!0});if(typeof A=="boolean")return A}return!0}):[]}function bg(r,o,{includeHydrateFallback:u}={}){return vg(r.map(c=>{let v=o.routes[c.route.id];if(!v)return[];let f=[v.module];return v.clientActionModule&&(f=f.concat(v.clientActionModule)),v.clientLoaderModule&&(f=f.concat(v.clientLoaderModule)),u&&v.hydrateFallbackModule&&(f=f.concat(v.hydrateFallbackModule)),v.imports&&(f=f.concat(v.imports)),f}).flat(1))}function vg(r){return[...new Set(r)]}function gg(r){let o={},u=Object.keys(r).sort();for(let c of u)o[c]=r[c];return o}function yg(r,o){let u=new Set;return new Set(o),r.reduce((c,v)=>{let f=JSON.stringify(gg(v));return u.has(f)||(u.add(f),c.push({key:f,link:v})),c},[])}function Bh(){let r=j.useContext(bs);return kd(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function jg(){let r=j.useContext(Ti);return kd(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var Ed=j.createContext(void 0);Ed.displayName="FrameworkContext";function Uh(){let r=j.useContext(Ed);return kd(r,"You must render this element inside a <HydratedRouter> element"),r}function Ng(r,o){let u=j.useContext(Ed),[c,v]=j.useState(!1),[f,h]=j.useState(!1),{onFocus:d,onBlur:b,onMouseEnter:x,onMouseLeave:S,onTouchStart:A}=o,w=j.useRef(null);j.useEffect(()=>{if(r==="render"&&h(!0),r==="viewport"){let g=N=>{N.forEach(R=>{h(R.isIntersecting)})},y=new IntersectionObserver(g,{threshold:.5});return w.current&&y.observe(w.current),()=>{y.disconnect()}}},[r]),j.useEffect(()=>{if(c){let g=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(g)}}},[c]);let M=()=>{v(!0)},p=()=>{v(!1),h(!1)};return u?r!=="intent"?[f,w,{}]:[f,w,{onFocus:yn(d,M),onBlur:yn(b,p),onMouseEnter:yn(x,M),onMouseLeave:yn(S,p),onTouchStart:yn(A,M)}]:[!1,w,{}]}function yn(r,o){return u=>{r&&r(u),u.defaultPrevented||o(u)}}function Sg({page:r,...o}){let{router:u}=Bh(),c=j.useMemo(()=>Ch(u.routes,r,u.basename),[u.routes,r,u.basename]);return c?j.createElement(Cg,{page:r,matches:c,...o}):null}function wg(r){let{manifest:o,routeModules:u}=Uh(),[c,v]=j.useState([]);return j.useEffect(()=>{let f=!1;return pg(r,o,u).then(h=>{f||v(h)}),()=>{f=!0}},[r,o,u]),c}function Cg({page:r,matches:o,...u}){let c=Jt(),{future:v,manifest:f,routeModules:h}=Uh(),{basename:d}=Bh(),{loaderData:b,matches:x}=jg(),S=j.useMemo(()=>Qf(r,o,x,f,c,"data"),[r,o,x,f,c]),A=j.useMemo(()=>Qf(r,o,x,f,c,"assets"),[r,o,x,f,c]),w=j.useMemo(()=>{if(r===c.pathname+c.search+c.hash)return[];let g=new Set,y=!1;if(o.forEach(R=>{let k=f.routes[R.route.id];!k||!k.hasLoader||(!S.some(_=>_.route.id===R.route.id)&&R.route.id in b&&h[R.route.id]?.shouldRevalidate||k.hasClientLoader?y=!0:g.add(R.route.id))}),g.size===0)return[];let N=xg(r,d,v.unstable_trailingSlashAwareDataRequests,"data");return y&&g.size>0&&N.searchParams.set("_routes",o.filter(R=>g.has(R.route.id)).map(R=>R.route.id).join(",")),[N.pathname+N.search]},[d,v.unstable_trailingSlashAwareDataRequests,b,c,f,S,o,r,h]),M=j.useMemo(()=>bg(A,f),[A,f]),p=wg(A);return j.createElement(j.Fragment,null,w.map(g=>j.createElement("link",{key:g,rel:"prefetch",as:"fetch",href:g,...u})),M.map(g=>j.createElement("link",{key:g,rel:"modulepreload",href:g,...u})),p.map(({key:g,link:y})=>j.createElement("link",{key:g,nonce:u.nonce,...y,crossOrigin:y.crossOrigin??u.crossOrigin})))}function Ag(...r){return o=>{r.forEach(u=>{typeof u=="function"?u(o):u!=null&&(u.current=o)})}}var Mg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Mg&&(window.__reactRouterVersion="7.13.0")}catch{}function Tg({basename:r,children:o,unstable_useTransitions:u,window:c}){let v=j.useRef();v.current==null&&(v.current=r0({window:c,v5Compat:!0}));let f=v.current,[h,d]=j.useState({action:f.action,location:f.location}),b=j.useCallback(x=>{u===!1?d(x):j.startTransition(()=>d(x))},[u]);return j.useLayoutEffect(()=>f.listen(b),[f,b]),j.createElement(lg,{basename:r,children:o,location:h.location,navigationType:h.action,navigator:f,unstable_useTransitions:u})}var $h=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ph=j.forwardRef(function({onClick:o,discover:u="render",prefetch:c="none",relative:v,reloadDocument:f,replace:h,state:d,target:b,to:x,preventScrollReset:S,viewTransition:A,unstable_defaultShouldRevalidate:w,...M},p){let{basename:g,unstable_useTransitions:y}=j.useContext(Ot),N=typeof x=="string"&&$h.test(x),R=kh(x,g);x=R.to;let k=B0(x,{relative:v}),[_,ee,$]=Ng(c,M),F=zg(x,{replace:h,state:d,target:b,preventScrollReset:S,relative:v,viewTransition:A,unstable_defaultShouldRevalidate:w,unstable_useTransitions:y});function ce(le){o&&o(le),le.defaultPrevented||F(le)}let P=j.createElement("a",{...M,...$,href:R.absoluteURL||k,onClick:R.isExternal||f?o:ce,ref:Ag(p,ee),target:b,"data-discover":!N&&u==="render"?"true":void 0});return _&&!N?j.createElement(j.Fragment,null,P,j.createElement(Sg,{page:k})):P});Ph.displayName="Link";var zd=j.forwardRef(function({"aria-current":o="page",caseSensitive:u=!1,className:c="",end:v=!1,style:f,to:h,viewTransition:d,children:b,...x},S){let A=qn(h,{relative:x.relative}),w=Jt(),M=j.useContext(Ti),{navigator:p,basename:g}=j.useContext(Ot),y=M!=null&&Ig(A)&&d===!0,N=p.encodeLocation?p.encodeLocation(A).pathname:A.pathname,R=w.pathname,k=M&&M.navigation&&M.navigation.location?M.navigation.location.pathname:null;u||(R=R.toLowerCase(),k=k?k.toLowerCase():null,N=N.toLowerCase()),k&&g&&(k=Ma(k,g)||k);const _=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let ee=R===N||!v&&R.startsWith(N)&&R.charAt(_)==="/",$=k!=null&&(k===N||!v&&k.startsWith(N)&&k.charAt(N.length)==="/"),F={isActive:ee,isPending:$,isTransitioning:y},ce=ee?o:void 0,P;typeof c=="function"?P=c(F):P=[c,ee?"active":null,$?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let le=typeof f=="function"?f(F):f;return j.createElement(Ph,{...x,"aria-current":ce,className:P,ref:S,style:le,to:h,viewTransition:d},typeof b=="function"?b(F):b)});zd.displayName="NavLink";var kg=j.forwardRef(({discover:r="render",fetcherKey:o,navigate:u,reloadDocument:c,replace:v,state:f,method:h=gi,action:d,onSubmit:b,relative:x,preventScrollReset:S,viewTransition:A,unstable_defaultShouldRevalidate:w,...M},p)=>{let{unstable_useTransitions:g}=j.useContext(Ot),y=Lg(),N=Og(d,{relative:x}),R=h.toLowerCase()==="get"?"get":"post",k=typeof d=="string"&&$h.test(d),_=ee=>{if(b&&b(ee),ee.defaultPrevented)return;ee.preventDefault();let $=ee.nativeEvent.submitter,F=$?.getAttribute("formmethod")||h,ce=()=>y($||ee.currentTarget,{fetcherKey:o,method:F,navigate:u,replace:v,state:f,relative:x,preventScrollReset:S,viewTransition:A,unstable_defaultShouldRevalidate:w});g&&u!==!1?j.startTransition(()=>ce()):ce()};return j.createElement("form",{ref:p,method:R,action:N,onSubmit:c?b:_,...M,"data-discover":!k&&r==="render"?"true":void 0})});kg.displayName="Form";function Eg(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fh(r){let o=j.useContext(bs);return Qe(o,Eg(r)),o}function zg(r,{target:o,replace:u,state:c,preventScrollReset:v,relative:f,viewTransition:h,unstable_defaultShouldRevalidate:d,unstable_useTransitions:b}={}){let x=_n(),S=Jt(),A=qn(r,{relative:f});return j.useCallback(w=>{if(cg(w,o)){w.preventDefault();let M=u!==void 0?u:Dn(S)===Dn(A),p=()=>x(r,{replace:M,state:c,preventScrollReset:v,relative:f,viewTransition:h,unstable_defaultShouldRevalidate:d});b?j.startTransition(()=>p()):p()}},[S,x,A,u,c,o,r,v,f,h,d,b])}var Dg=0,Rg=()=>`__${String(++Dg)}__`;function Lg(){let{router:r}=Fh("useSubmit"),{basename:o}=j.useContext(Ot),u=W0(),c=r.fetch,v=r.navigate;return j.useCallback(async(f,h={})=>{let{action:d,method:b,encType:x,formData:S,body:A}=mg(f,o);if(h.navigate===!1){let w=h.fetcherKey||Rg();await c(w,u,h.action||d,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:S,body:A,formMethod:h.method||b,formEncType:h.encType||x,flushSync:h.flushSync})}else await v(h.action||d,{unstable_defaultShouldRevalidate:h.unstable_defaultShouldRevalidate,preventScrollReset:h.preventScrollReset,formData:S,body:A,formMethod:h.method||b,formEncType:h.encType||x,replace:h.replace,state:h.state,fromRouteId:u,flushSync:h.flushSync,viewTransition:h.viewTransition})},[c,v,o,u])}function Og(r,{relative:o}={}){let{basename:u}=j.useContext(Ot),c=j.useContext(Kt);Qe(c,"useFormAction must be used inside a RouteContext");let[v]=c.matches.slice(-1),f={...qn(r||".",{relative:o})},h=Jt();if(r==null){f.search=h.search;let d=new URLSearchParams(f.search),b=d.getAll("index");if(b.some(S=>S==="")){d.delete("index"),b.filter(A=>A).forEach(A=>d.append("index",A));let S=d.toString();f.search=S?`?${S}`:""}}return(!r||r===".")&&v.route.index&&(f.search=f.search?f.search.replace(/^\?/,"?index&"):"?index"),u!=="/"&&(f.pathname=f.pathname==="/"?u:Aa([u,f.pathname])),Dn(f)}function Ig(r,{relative:o}={}){let u=j.useContext(zh);Qe(u!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:c}=Fh("useViewTransitionState"),v=qn(r,{relative:o});if(!u.isTransitioning)return!1;let f=Ma(u.currentLocation.pathname,c)||u.currentLocation.pathname,h=Ma(u.nextLocation.pathname,c)||u.nextLocation.pathname;return Ni(v.pathname,h)!=null||Ni(v.pathname,f)!=null}const _g="1tdEmFK8Ip9VsVQX2PA30_RwXvVkMmEYtBUAHtjoSFZY6cRR61Z_cR0Sg",Dd="cf_access_token",Rd="cf_token_expiry",Ld="cf_user_name";function Si(){const r=localStorage.getItem(Rd);return r&&Date.now()>Number(r)?(ji(),null):localStorage.getItem(Dd)}function Xf(r,o=3500){localStorage.setItem(Dd,r),localStorage.setItem(Rd,String(Date.now()+o*1e3))}function ji(){localStorage.removeItem(Dd),localStorage.removeItem(Rd),localStorage.removeItem(Ld)}function qg(){return!!Si()}function Zf(r){localStorage.setItem(Ld,r)}function Hg(){return localStorage.getItem(Ld)||""}let yd=null;function Bg(r){yd=r}async function be(r,o={},u=!0){const c=Si();if(!c)throw new Error("Not authenticated. Please sign in.");const f=await(await fetch(`https://script.googleapis.com/v1/scripts/${_g}:run`,{method:"POST",headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"},body:JSON.stringify({function:"apiRouter",devMode:!0,parameters:[{action:r,params:o,userName:Hg()}]})})).json();if(f.error){if(u&&(f.error.code===401||f.error.code===403||f.error.status==="UNAUTHENTICATED"||f.error.status==="PERMISSION_DENIED")&&yd)try{return await yd(),be(r,o,!1)}catch{}if(f.error.details&&f.error.details.length>0){const h=f.error.details[0];throw new Error(h.errorMessage||"Script execution error")}throw new Error(f.error.message||"API error")}if(f.response&&f.response.result!==void 0){const h=f.response.result;if(h&&!h.success){const d=new Error(h.error||"Unknown error");throw d.code=h.code,d}return h?h.data:null}throw new Error("Unexpected response format")}const Kf=()=>be("auth:me"),zn=()=>be("data:load-all"),Gh=()=>be("members:list"),Vh=r=>be("member:create",r),Yh=r=>be("member:update",r),Qh=r=>be("member:delete",{memberId:r}),Xh=()=>be("banks:list"),Zh=r=>be("bank:create",r),Ug=r=>be("bank:update",r),Kh=r=>be("bank:delete",{accountId:r}),Jh=()=>be("invaccounts:list"),Wh=r=>be("invacct:create",r),$g=r=>be("invacct:update",r),ep=r=>be("invacct:delete",{accountId:r}),Pg=r=>be("portfolio:create",r),Fg=r=>be("portfolio:update",r),Gg=r=>be("portfolio:delete",{portfolioId:r}),Vg=r=>be("mf:invest",r),Yg=r=>be("mf:redeem",r),Qg=r=>be("mf:switch",r),Xg=(r,o)=>be("mf:allocations-update",{portfolioId:r,allocations:o}),tp=()=>be("goals:list"),ap=r=>be("goal:create",r),Zg=(r,o)=>be("goal:update",{goalId:r,...o}),lp=r=>be("goal:delete",{goalId:r}),Kg=()=>be("goal:mappings-list"),Jg=(r,o)=>be("goal:mappings-update",{goalId:r,mappings:o}),sp=()=>be("insurance:list"),np=r=>be("insurance:create",r),Wg=r=>be("insurance:update",r),rp=r=>be("insurance:delete",{policyId:r}),ip=()=>be("liabilities:list"),op=r=>be("liability:create",r),ey=r=>be("liability:update",r),cp=r=>be("liability:delete",{liabilityId:r}),dp=()=>be("otherinv:list"),up=r=>be("otherinv:create",r),ty=r=>be("otherinv:update",r),mp=r=>be("otherinv:delete",{investmentId:r}),ay=()=>be("stock-portfolios:list"),xp=r=>be("stock-portfolio:create",r),ly=r=>be("stock-portfolio:update",r),fp=r=>be("stock-portfolio:delete",{portfolioId:r}),sy=r=>be("stock:buy",r),ny=r=>be("stock:sell",r),hp=()=>be("reminders:list"),pp=r=>be("reminder:create",r),ry=r=>be("reminder:update",r),bp=r=>be("reminder:delete",{reminderId:r}),iy=()=>be("settings:list"),oy=r=>be("settings:update",r),cy=()=>be("data:refresh-master");typeof window<"u"&&(window._cf={callAPI:be,checkTriggers:()=>be("test:triggers"),diagnose:()=>be("test:diagnose")});const vp=j.createContext(null),dy="868467315292-7hfrvkh8pq8f1e2l3v38m6qrupboa295.apps.googleusercontent.com",uy=["https://www.googleapis.com/auth/spreadsheets","https://www.googleapis.com/auth/drive","https://www.googleapis.com/auth/gmail.send","https://www.googleapis.com/auth/script.scriptapp","openid","email","profile"].join(" ");function my({children:r}){const[o,u]=j.useState(null),[c,v]=j.useState(!0),[f,h]=j.useState(null),d=j.useRef(null);j.useEffect(()=>{const g=()=>{if(!window.google?.accounts?.oauth2){setTimeout(g,200);return}d.current=window.google.accounts.oauth2.initTokenClient({client_id:dy,scope:uy,callback:b}),Bg(A),qg()?S():v(!1)};g()},[]);async function b(g){if(g.error){h(g.error_description||g.error),v(!1);return}try{v(!0),h(null),Xf(g.access_token,g.expires_in);const y=await x(g.access_token);Zf(y.name||"");const N=await Kf();u({email:N.email||y.email,name:N.name||y.name,role:N.role,picture:y.picture||""})}catch(y){h(y.message),ji(),u(null)}finally{v(!1)}}async function x(g){const y=await fetch("https://www.googleapis.com/oauth2/v3/userinfo",{headers:{Authorization:`Bearer ${g}`}});if(!y.ok)throw new Error("Failed to fetch user profile");return y.json()}async function S(){try{const g=Si(),y=await x(g);Zf(y.name||"");const N=await Kf();u({email:N.email||y.email,name:N.name||y.name,role:N.role,picture:y.picture||""})}catch{ji(),u(null)}finally{v(!1)}}function A(){return new Promise((g,y)=>{if(!d.current){y(new Error("Token client not initialized"));return}const N=d.current,R=N.callback;N.callback=k=>{N.callback=R,k.error?y(new Error(k.error)):(Xf(k.access_token,k.expires_in),g())},N.requestAccessToken({prompt:""})})}const w=j.useCallback(()=>{d.current&&(h(null),d.current.requestAccessToken())},[]),M=j.useCallback(()=>{const g=Si();g&&window.google?.accounts?.oauth2&&window.google.accounts.oauth2.revoke(g),ji(),u(null)},[]),p={user:o,loading:c,error:f,isAuthenticated:!!o,isOwner:o?.role==="owner",signIn:w,signOut:M};return a.jsx(vp.Provider,{value:p,children:r})}function gs(){const r=j.useContext(vp);if(!r)throw new Error("useAuth must be used within AuthProvider");return r}const gp=j.createContext();function xy({children:r}){const[o,u]=j.useState(()=>{const v=localStorage.getItem("cf-theme");return v||(window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark")});j.useEffect(()=>{localStorage.setItem("cf-theme",o),document.documentElement.setAttribute("data-theme",o)},[o]);const c=()=>u(v=>v==="dark"?"light":"dark");return a.jsx(gp.Provider,{value:{theme:o,toggle:c},children:r})}function yp(){return j.useContext(gp)}const jp=j.createContext();function fy({children:r}){const{isAuthenticated:o}=gs(),[u,c]=j.useState(!0),[v,f]=j.useState(null),[h,d]=j.useState([]),[b,x]=j.useState([]),[S,A]=j.useState([]),[w,M]=j.useState([]),[p,g]=j.useState([]),[y,N]=j.useState([]),[R,k]=j.useState([]),[_,ee]=j.useState([]),[$,F]=j.useState([]),[ce,P]=j.useState([]),[le,re]=j.useState([]),[D,z]=j.useState([]),[ie,q]=j.useState([]),[O,ne]=j.useState([]),[Q,xe]=j.useState([]),[I,T]=j.useState({}),H=j.useCallback(async()=>{try{c(!0),f(null);const W=await zn();d(W.members||[]),x(W.bankAccounts||[]),A(W.investments||[]),M(W.insurancePolicies||[]),g(W.liabilities||[]),N(W.otherInvestments||[]),k(W.stockPortfolios||[]),ee(W.stockHoldings||[]),F(W.stockTransactions||[]),P(W.mfPortfolios||[]),re(W.mfHoldings||[]),z(W.mfTransactions||[]),q(W.goals||[]),ne(W.reminders||[]),xe(W.goalPortfolioMappings||[])}catch(W){f(W.message)}finally{c(!1)}},[]);j.useEffect(()=>{o?(H(),Ta().catch(()=>{})):c(!1)},[o,H,Ta]);const X=j.useCallback(async()=>{const W=await Gh();d(W||[])},[]),K=j.useCallback(async()=>{const W=await Xh();x(W||[])},[]),de=j.useCallback(async()=>{const W=await Jh();A(W||[])},[]),oe=j.useCallback(async()=>{const W=await sp();M(W||[])},[]),ue=j.useCallback(async()=>{const W=await ip();g(W||[])},[]),Ae=j.useCallback(async()=>{const W=await dp();N(W||[])},[]),Ce=j.useCallback(async()=>{const[W,ve]=await Promise.all([tp(),Kg()]);q(W||[]),xe(ve||[])},[]),Re=j.useCallback(async()=>{const W=await hp();ne(W||[])},[]),_e=j.useCallback(async()=>{const W=await zn();P(W.mfPortfolios||[]),re(W.mfHoldings||[]),z(W.mfTransactions||[])},[]),yt=j.useCallback(async()=>{const W=await zn();k(W.stockPortfolios||[]),ee(W.stockHoldings||[]),F(W.stockTransactions||[])},[]),Ta=j.useCallback(async()=>{const W=await iy();T(W||{})},[]),ra=j.useCallback(async W=>{await oy(W),await Ta()},[Ta]),js=j.useCallback(async W=>{const ve=await Vh(W);return await X(),ve},[X]),Ns=j.useCallback(async(W,ve)=>{await Yh({memberId:W,...ve}),await X()},[X]),Di=j.useCallback(async W=>{await Qh(W),await X()},[X]),Bn=j.useCallback(async W=>{const ve=await Zh(W);return await K(),ve},[K]),Ss=j.useCallback(async(W,ve)=>{await Ug({accountId:W,...ve}),await K()},[K]),ws=j.useCallback(async W=>{await Kh(W),await K()},[K]),Cs=j.useCallback(async W=>{const ve=await Wh(W);return await de(),ve},[de]),Ri=j.useCallback(async(W,ve)=>{await $g({accountId:W,...ve}),await de()},[de]),Li=j.useCallback(async W=>{await ep(W),await de()},[de]),pt=j.useCallback(async W=>{const ve=await np(W);return await oe(),ve},[oe]),Oi=j.useCallback(async(W,ve)=>{await Wg({policyId:W,...ve}),await oe()},[oe]),Un=j.useCallback(async W=>{await rp(W),await oe()},[oe]),$n=j.useCallback(async W=>{const ve=await op(W);return await ue(),ve},[ue]),Nl=j.useCallback(async(W,ve)=>{await ey({liabilityId:W,...ve}),await ue()},[ue]),Ii=j.useCallback(async W=>{await cp(W),await ue()},[ue]),Pn=j.useCallback(async W=>{const ve=await up(W);return await Ae(),W.quickLoan&&await ue(),ve},[Ae,ue]),_i=j.useCallback(async(W,ve)=>{await ty({investmentId:W,...ve}),await Ae()},[Ae]),qi=j.useCallback(async W=>{await mp(W),await Ae()},[Ae]),el=j.useCallback(async W=>{const ve=await ap(W);return await Ce(),ve},[Ce]),bt=j.useCallback(async(W,ve)=>{await Zg(W,ve),await Ce()},[Ce]),Wt=j.useCallback(async W=>{await lp(W),await Ce()},[Ce]),vt=j.useCallback(async W=>{const ve=await pp(W);return await Re(),ve},[Re]),Hi=j.useCallback(async(W,ve)=>{await ry({reminderId:W,...ve}),await Re()},[Re]),Bi=j.useCallback(async W=>{await bp(W),await Re()},[Re]),Ui=j.useCallback(async(W,ve)=>{await Jg(W,ve),await Ce()},[Ce]),Sl=j.useCallback(async W=>{const ve=await xp(W);return await yt(),ve},[yt]),wl=j.useCallback(async(W,ve)=>{await ly({portfolioId:W,...ve}),await yt()},[yt]),Cl=j.useCallback(async W=>{await fp(W),await yt()},[yt]),ia=j.useCallback(async W=>{const ve=await sy(W);return await yt(),ve},[yt]),Al=j.useCallback(async W=>{const ve=await ny(W);return await yt(),ve},[yt]),tl=j.useCallback(async W=>{const ve=await Pg(W);return await _e(),ve},[_e]),$i=j.useCallback(async(W,ve)=>{await Fg({portfolioId:W,...ve}),await _e()},[_e]),Fn=j.useCallback(async W=>{await Gg(W),await _e()},[_e]),As=j.useCallback(async(W,ve)=>{const Qn=await Vg({...W,transactionType:ve});return await _e(),Qn},[_e]),al=j.useCallback(async W=>{const ve=await Yg(W);return await _e(),ve},[_e]),Pi=j.useCallback(async W=>{const ve=await Qg(W);return await _e(),ve},[_e]),Gn=j.useCallback(async(W,ve)=>{await Xg(W,ve),await _e()},[_e]),Vn=h.filter(W=>W.status==="Active"),Yn=b.filter(W=>W.status==="Active"),Ms=S.filter(W=>W.status==="Active");return a.jsx(jp.Provider,{value:{loading:u,error:v,refreshData:H,members:h,banks:b,investments:S,insurancePolicies:w,liabilityList:p,otherInvList:y,activeMembers:Vn,activeBanks:Yn,activeInvestmentAccounts:Ms,addMember:js,updateMember:Ns,deleteMember:Di,addBankAccount:Bn,updateBankAccount:Ss,deleteBankAccount:ws,addInvestmentAccount:Cs,updateInvestmentAccount:Ri,deleteInvestmentAccount:Li,addInsurance:pt,updateInsurance:Oi,deleteInsurance:Un,addLiability:$n,updateLiability:Nl,deleteLiability:Ii,addOtherInvestment:Pn,updateOtherInvestment:_i,deleteOtherInvestment:qi,goalList:ie,addGoal:el,updateGoal:bt,deleteGoal:Wt,reminderList:O,addReminder:vt,updateReminder:Hi,deleteReminder:Bi,goalPortfolioMappings:Q,updateGoalMappings:Ui,stockPortfolios:R,stockHoldings:_,stockTransactions:$,addStockPortfolio:Sl,updateStockPortfolio:wl,deleteStockPortfolio:Cl,buyStock:ia,sellStock:Al,mfPortfolios:ce,mfHoldings:le,mfTransactions:D,addMFPortfolio:tl,updateMFPortfolio:$i,deleteMFPortfolio:Fn,investMF:As,redeemMF:al,switchMF:Pi,updateHoldingAllocations:Gn,settings:I,updateSettings:ra,refreshSettings:Ta},children:r})}function ke(){return j.useContext(jp)}const Np=j.createContext();function hy({children:r}){const{activeMembers:o}=ke(),[u,c]=j.useState("all"),v=o.find(f=>f.memberId===u)||null;return a.jsx(Np.Provider,{value:{selectedMember:u,setSelectedMember:c,member:v,familyMembers:o},children:r})}function mt(){return j.useContext(Np)}const Sp=(...r)=>r.filter((o,u,c)=>!!o&&o.trim()!==""&&c.indexOf(o)===u).join(" ").trim();const py=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const by=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(o,u,c)=>c?c.toUpperCase():u.toLowerCase());const Jf=r=>{const o=by(r);return o.charAt(0).toUpperCase()+o.slice(1)};var vy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gy=r=>{for(const o in r)if(o.startsWith("aria-")||o==="role"||o==="title")return!0;return!1};const yy=j.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:u=2,absoluteStrokeWidth:c,className:v="",children:f,iconNode:h,...d},b)=>j.createElement("svg",{ref:b,...vy,width:o,height:o,stroke:r,strokeWidth:c?Number(u)*24/Number(o):u,className:Sp("lucide",v),...!f&&!gy(d)&&{"aria-hidden":"true"},...d},[...h.map(([x,S])=>j.createElement(x,S)),...Array.isArray(f)?f:[f]]));const he=(r,o)=>{const u=j.forwardRef(({className:c,...v},f)=>j.createElement(yy,{ref:f,iconNode:o,className:Sp(`lucide-${py(Jf(r))}`,`lucide-${r}`,c),...v}));return u.displayName=Jf(r),u};const jy=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],Ny=he("arrow-down-right",jy);const Sy=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],wy=he("arrow-down",Sy);const Cy=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Ay=he("arrow-up-down",Cy);const My=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Ty=he("arrow-up-right",My);const ky=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M17 17H4a1 1 0 0 1-.74-1.673C4.59 13.956 6 12.499 6 8a6 6 0 0 1 .258-1.742",key:"178tsu"}],["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M8.668 3.01A6 6 0 0 1 18 8c0 2.687.77 4.653 1.707 6.05",key:"1hqiys"}]],Ey=he("bell-off",ky);const zy=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Od=he("bell",zy);const Dy=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],wi=he("briefcase",Dy);const Ry=[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]],Ly=he("building-2",Ry);const Oy=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]],Iy=he("calculator",Oy);const _y=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],xs=he("chart-column",_y);const qy=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Wf=he("check",qy);const Hy=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ys=he("chevron-down",Hy);const By=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Uy=he("chevron-left",By);const $y=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wp=he("chevron-right",$y);const Py=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Fy=he("circle-alert",Py);const Gy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 8v8",key:"napkw2"}],["path",{d:"m8 12 4 4 4-4",key:"k98ssh"}]],Cp=he("circle-arrow-down",Gy);const Vy=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Yy=he("circle-check-big",Vy);const Qy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Ei=he("circle-check",Qy);const Xy=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Zy=he("circle-x",Xy);const Ky=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]],Jy=he("clipboard-check",Ky);const Wy=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],ej=he("coffee",Wy);const tj=[["rect",{x:"2",y:"6",width:"20",height:"8",rx:"1",key:"1estib"}],["path",{d:"M17 14v7",key:"7m2elx"}],["path",{d:"M7 14v7",key:"1cm7wv"}],["path",{d:"M17 3v3",key:"1v4jwn"}],["path",{d:"M7 3v3",key:"7o6guu"}],["path",{d:"M10 14 2.3 6.3",key:"1023jk"}],["path",{d:"m14 6 7.7 7.7",key:"1s8pl2"}],["path",{d:"m8 6 8 8",key:"hl96qh"}]],aj=he("construction",tj);const lj=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Rn=he("credit-card",lj);const sj=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],nj=he("database",sj);const rj=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],ij=he("dollar-sign",rj);const oj=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],cj=he("ellipsis",oj);const dj=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uj=he("eye",dj);const mj=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Id=he("file-text",mj);const xj=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],fj=he("funnel",xj);const hj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],pj=he("globe",hj);const bj=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],Ci=he("heart",bj);const vj=[["path",{d:"M6 3h12",key:"ggurg9"}],["path",{d:"M6 8h12",key:"6g4wlu"}],["path",{d:"m6 13 8.5 8",key:"u1kupk"}],["path",{d:"M6 13h3",key:"wdp6ag"}],["path",{d:"M9 13c6.667 0 6.667-10 0-10",key:"1nkvk2"}]],gj=he("indian-rupee",vj);const yj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],jj=he("info",yj);const Nj=[["path",{d:"M10 18v-7",key:"wt116b"}],["path",{d:"M11.12 2.198a2 2 0 0 1 1.76.006l7.866 3.847c.476.233.31.949-.22.949H3.474c-.53 0-.695-.716-.22-.949z",key:"1m329m"}],["path",{d:"M14 18v-7",key:"vav6t3"}],["path",{d:"M18 18v-7",key:"aexdmj"}],["path",{d:"M3 22h18",key:"8prr45"}],["path",{d:"M6 18v-7",key:"1ivflk"}]],Ln=he("landmark",Nj);const Sj=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Ap=he("layers",Sj);const wj=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Mp=he("layout-dashboard",wj);const Cj=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],Ai=he("link-2",Cj);const Aj=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],Mi=he("list",Aj);const Mj=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],cd=he("lock",Mj);const Tj=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],kj=he("log-out",Tj);const Ej=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Tp=he("mail",Ej);const zj=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],Dj=he("menu",zj);const Rj=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],kp=he("moon",Rj);const Lj=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ep=he("package",Lj);const Oj=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],sa=he("pencil",Oj);const Ij=[["path",{d:"M11 17h3v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-3a3.16 3.16 0 0 0 2-2h1a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-1a5 5 0 0 0-2-4V3a4 4 0 0 0-3.2 1.6l-.3.4H11a6 6 0 0 0-6 6v1a5 5 0 0 0 2 4v3a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1z",key:"1piglc"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M2 8v1a2 2 0 0 0 2 2h1",key:"1env43"}]],_j=he("piggy-bank",Ij);const qj=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Vt=he("plus",qj);const Hj=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],On=he("refresh-cw",Hj);const Bj=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],Uj=he("repeat-2",Bj);const $j=[["path",{d:"m17 2 4 4-4 4",key:"nntrym"}],["path",{d:"M3 11v-1a4 4 0 0 1 4-4h14",key:"84bu3i"}],["path",{d:"m7 22-4-4 4-4",key:"1wqhfi"}],["path",{d:"M21 13v1a4 4 0 0 1-4 4H3",key:"1rx37r"}]],Pj=he("repeat",$j);const Fj=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Gj=he("search",Fj);const Vj=[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],Yj=he("settings-2",Vj);const Qj=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zp=he("settings",Qj);const Xj=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],yl=he("shield",Xj);const Zj=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],jd=he("sun",Zj);const Kj=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Hn=he("target",Kj);const Jj=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Dp=he("trash-2",Jj);const Wj=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],_d=he("trending-down",Wj);const e1=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],zi=he("trending-up",e1);const t1=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],qd=he("triangle-alert",t1);const a1=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],eh=he("trophy",a1);const l1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fs=he("users",l1);const s1=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],jl=he("wallet",s1);const n1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Hd=he("x",n1);const r1=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],i1=he("zap",r1),th=[{label:"Dashboard",icon:Mp,path:"/dashboard"},{label:"Family",icon:fs,path:"/family"},{label:"Accounts",icon:Rn,children:[{label:"Bank Accounts",icon:Ln,path:"/accounts/bank"},{label:"Investment A/c",icon:wi,path:"/accounts/investment"}]},{label:"Insurance",icon:yl,path:"/insurance"},{label:"Investments",icon:jl,children:[{label:"Mutual Funds",icon:jl,path:"/investments/mutual-funds"},{label:"Stocks",icon:xs,path:"/investments/stocks"},{label:"Other Investments",icon:Ep,path:"/investments/other"}]},{label:"Liabilities",icon:Rn,path:"/liabilities"},{label:"Goals",icon:Hn,path:"/goals"},{label:"Reports",icon:Id,path:"/reports"},{label:"Settings",icon:zp,path:"/settings"}];function o1({open:r,onClose:o}){const u=Jt(),c=th.filter(d=>d.children?.some(b=>u.pathname.startsWith(b.path))).map(d=>d.label),[v,f]=j.useState(new Set(c));function h(d){f(b=>{const x=new Set(b);return x.has(d)?x.delete(d):x.add(d),x})}return a.jsxs(a.Fragment,{children:[r&&a.jsx("div",{className:"fixed inset-0 bg-black/60 z-40 lg:hidden",onClick:o}),a.jsxs("aside",{className:`fixed top-0 left-0 z-50 h-full w-56 bg-[var(--bg-sidebar)] border-r border-[var(--border)] flex flex-col transition-transform duration-300 lg:translate-x-0 lg:static lg:z-auto ${r?"translate-x-0":"-translate-x-full"}`,children:[a.jsx("div",{className:"flex items-center justify-end px-4 h-14 border-b border-[var(--border)] shrink-0 lg:hidden",children:a.jsx("button",{onClick:o,className:"p-1.5 rounded-md text-[var(--text-dim)] hover:text-[var(--text-primary)]",children:a.jsx(Hd,{size:16})})}),a.jsx("nav",{className:"flex-1 py-3 overflow-y-auto",children:th.map(d=>d.children?a.jsx(c1,{item:d,isOpen:v.has(d.label),onToggle:()=>h(d.label),onNavigate:o,currentPath:u.pathname},d.label):a.jsx(Rp,{item:d,onNavigate:o},d.path))})]})]})}function Rp({item:r,onNavigate:o,nested:u}){const{label:c,icon:v,path:f}=r;return a.jsx(zd,{to:f,onClick:o,end:f==="/",className:({isActive:h})=>`group flex items-center gap-2.5 ${u?"pl-11 pr-4 py-[7px]":"px-4 py-2.5"} text-[13px] font-medium transition-all border-r-2 ${h?"bg-[var(--sidebar-active-bg)] text-[var(--sidebar-active-text)] border-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] border-transparent"}`,children:({isActive:h})=>a.jsxs(a.Fragment,{children:[a.jsx(v,{size:u?14:17,strokeWidth:h?2.2:1.7}),a.jsx("span",{children:c})]})})}function c1({item:r,isOpen:o,onToggle:u,onNavigate:c,currentPath:v}){const{label:f,icon:h,children:d}=r,b=d.some(x=>v.startsWith(x.path));return a.jsxs("div",{children:[a.jsxs("button",{onClick:u,className:`w-full group flex items-center gap-2.5 px-4 py-2.5 text-[13px] font-medium transition-all border-r-2 border-transparent ${b?"text-[var(--sidebar-active-text)]":"text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]"}`,children:[a.jsx(h,{size:17,strokeWidth:b?2.2:1.7}),a.jsx("span",{className:"flex-1 text-left",children:f}),a.jsx(ys,{size:13,className:`text-[var(--text-dim)] transition-transform duration-200 ${o?"rotate-180":""}`})]}),o&&a.jsx("div",{className:"py-0.5",children:d.map(x=>a.jsx(Rp,{item:x,onNavigate:c,nested:!0},x.path))})]})}function U(r){return r>=1e7?`${(r/1e7).toFixed(2)} Cr`:r>=1e5?`${(r/1e5).toFixed(2)} L`:r>=1e3?`${(r/1e3).toFixed(0)}K`:`${r.toLocaleString("en-IN")}`}const d1=[{schemeCode:"120503",fundName:"Parag Parikh Liquid Fund - Direct Growth",category:"Liquid",amc:"PPFAS"},{schemeCode:"118989",fundName:"HDFC Low Duration Fund - Direct Growth",category:"Low Duration",amc:"HDFC"},{schemeCode:"113177",fundName:"Nippon India Small Cap Fund - Direct Growth",category:"Small Cap",amc:"Nippon India"},{schemeCode:"122639",fundName:"Parag Parikh Flexi Cap Fund - Direct Growth",category:"Flexi Cap",amc:"PPFAS"},{schemeCode:"100104",fundName:"HDFC Mid Cap Opportunities Fund - Direct Growth",category:"Mid Cap",amc:"HDFC"},{schemeCode:"120716",fundName:"SBI Nifty 50 Index Fund - Direct Growth",category:"Large Cap",amc:"SBI"},{schemeCode:"120465",fundName:"Axis Focused 25 Fund - Direct Growth",category:"Focused",amc:"Axis"},{schemeCode:"119551",fundName:"HDFC Balanced Advantage Fund - Direct Growth",category:"Balanced Advantage",amc:"HDFC"},{schemeCode:"120587",fundName:"ICICI Prudential Equity & Debt Fund - Direct Growth",category:"Aggressive Hybrid",amc:"ICICI Prudential"},{schemeCode:"125494",fundName:"Kotak Debt Hybrid Fund - Direct Growth",category:"Conservative Hybrid",amc:"Kotak"},{schemeCode:"119598",fundName:"Mirae Asset Large Cap Fund - Direct Growth",category:"Large Cap",amc:"Mirae Asset"},{schemeCode:"120505",fundName:"Parag Parikh Tax Saver Fund - Direct Growth",category:"ELSS",amc:"PPFAS"},{schemeCode:"125497",fundName:"Kotak Emerging Equity Fund - Direct Growth",category:"Mid Cap",amc:"Kotak"},{schemeCode:"118834",fundName:"Axis Long Term Equity Fund - Direct Growth",category:"ELSS",amc:"Axis"},{schemeCode:"100119",fundName:"HDFC Top 100 Fund - Direct Growth",category:"Large Cap",amc:"HDFC"},{schemeCode:"120578",fundName:"SBI Small Cap Fund - Direct Growth",category:"Small Cap",amc:"SBI"},{schemeCode:"120847",fundName:"UTI Nifty 50 Index Fund - Direct Growth",category:"Large Cap",amc:"UTI"},{schemeCode:"119597",fundName:"Mirae Asset Tax Saver Fund - Direct Growth",category:"ELSS",amc:"Mirae Asset"},{schemeCode:"135781",fundName:"Quant Small Cap Fund - Direct Growth",category:"Small Cap",amc:"Quant"},{schemeCode:"135782",fundName:"Quant Active Fund - Direct Growth",category:"Multi Cap",amc:"Quant"},{schemeCode:"120586",fundName:"ICICI Prudential Bluechip Fund - Direct Growth",category:"Large Cap",amc:"ICICI Prudential"},{schemeCode:"118701",fundName:"DSP Small Cap Fund - Direct Growth",category:"Small Cap",amc:"DSP"},{schemeCode:"112090",fundName:"Motilal Oswal Midcap Fund - Direct Growth",category:"Mid Cap",amc:"Motilal Oswal"},{schemeCode:"118825",fundName:"Axis Nifty 50 Index Fund - Direct Growth",category:"Large Cap",amc:"Axis"},{schemeCode:"119533",fundName:"HDFC Flexi Cap Fund - Direct Growth",category:"Flexi Cap",amc:"HDFC"}];function u1(r){if(!r||r.length<2)return[];const o=r.toLowerCase();return d1.filter(u=>u.fundName.toLowerCase().includes(o)||u.schemeCode.includes(o)||u.category.toLowerCase().includes(o)||u.amc.toLowerCase().includes(o)).slice(0,15)}const m1="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png",oi=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],ah=["bg-violet-500","bg-rose-500","bg-blue-500","bg-amber-500","bg-emerald-500"];function x1(r){return r>=0?"+":""}function f1(r,o){return o?`${r>=0?"+":""}${(r/o*100).toFixed(1)}%`:"0%"}function h1({onMenuClick:r}){const{theme:o,toggle:u}=yp(),{selectedMember:c,setSelectedMember:v,familyMembers:f}=mt(),{mfPortfolios:h,mfHoldings:d,stockPortfolios:b,stockHoldings:x,otherInvList:S,liabilityList:A}=ke(),{user:w,signOut:M}=gs(),[p,g]=j.useState(!1),y=j.useRef(null);j.useEffect(()=>{function _(ee){y.current&&!y.current.contains(ee.target)&&g(!1)}return p&&document.addEventListener("mousedown",_),()=>document.removeEventListener("mousedown",_)},[p]);const N=f.findIndex(_=>_.memberId===c),R=N>=0?f[N]:null,k=j.useMemo(()=>{const _=(K,de)=>c==="all"?K:K.filter(oe=>oe[de]===c),ee=_(h.filter(K=>K.status==="Active"),"ownerId"),$=new Set(ee.map(K=>K.portfolioId)),F=d.filter(K=>$.has(K.portfolioId)&&K.units>0),ce=F.reduce((K,de)=>K+de.investment,0),P=F.reduce((K,de)=>K+de.currentValue,0),le=_(b.filter(K=>K.status==="Active"),"ownerId"),re=new Set(le.map(K=>K.portfolioId)),D=x.filter(K=>re.has(K.portfolioId)),z=D.reduce((K,de)=>K+de.totalInvestment,0),ie=D.reduce((K,de)=>K+de.currentValue,0),q=_(S.filter(K=>K.status==="Active"),"familyMemberId"),O=q.reduce((K,de)=>K+de.investedAmount,0),ne=q.reduce((K,de)=>K+de.currentValue,0),xe=_(A.filter(K=>K.status==="Active"),"familyMemberId").reduce((K,de)=>K+de.outstandingBalance,0),I=ce+z+O,T=P+ie+ne,H=T-I;return{netWorth:T-xe,invested:I,totalPL:H,unrealizedPL:H}},[c,h,d,b,x,S,A]);return a.jsxs("header",{className:"sticky top-0 z-30 shrink-0",children:[a.jsx("div",{className:"bg-[var(--bg-header)] border-b border-[var(--border)]",children:a.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:r,className:"lg:hidden p-2 -ml-1.5 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]",children:a.jsx(Dj,{size:20})}),a.jsx("img",{src:m1,alt:"Capital Friends",className:"h-12"})]}),a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("button",{onClick:u,className:"p-2 rounded-lg text-[var(--text-muted)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)]",title:`Switch to ${o==="dark"?"light":"dark"} mode`,children:o==="dark"?a.jsx(jd,{size:18}):a.jsx(kp,{size:18})}),a.jsxs("div",{className:"relative",ref:y,children:[a.jsxs("button",{onClick:()=>g(!p),className:"flex items-center gap-1.5 pl-1 pr-2 py-1 rounded-full hover:bg-[var(--bg-hover)] transition-colors",children:[R?a.jsx("div",{className:`w-8 h-8 rounded-full bg-gradient-to-br ${oi[N%oi.length]} flex items-center justify-center text-white text-xs font-bold shadow-sm`,children:R.memberName.charAt(0)}):a.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm",children:a.jsx(fs,{size:14})}),a.jsx(ys,{size:14,className:`text-[var(--text-muted)] transition-transform ${p?"rotate-180":""}`})]}),p&&a.jsxs("div",{className:"absolute right-0 top-full mt-2 w-56 rounded-xl bg-[var(--bg-card)] border border-[var(--border)] shadow-xl shadow-black/20 overflow-hidden animate-in fade-in slide-in-from-top-2 duration-200 z-50",children:[a.jsx("div",{className:"px-4 py-2.5 border-b border-[var(--border-light)]",children:a.jsx("p",{className:"text-[11px] font-semibold uppercase tracking-wider text-[var(--text-muted)]",children:"Viewing as"})}),a.jsxs("div",{className:"py-1.5",children:[a.jsxs("button",{onClick:()=>{v("all"),g(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${c==="all"?"bg-violet-500/10":"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("div",{className:"w-9 h-9 rounded-full bg-gradient-to-br from-violet-500 to-indigo-500 flex items-center justify-center text-white shadow-sm shrink-0",children:a.jsx(fs,{size:15})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:`text-sm font-semibold truncate ${c==="all"?"text-violet-400":"text-[var(--text-primary)]"}`,children:"Everyone"}),a.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:"All family members"})]}),c==="all"&&a.jsx(Wf,{size:16,className:"text-violet-400 shrink-0"})]}),f.length>0&&a.jsx("div",{className:"mx-4 my-1 border-t border-[var(--border-light)]"}),f.map((_,ee)=>{const $=c===_.memberId;return a.jsxs("button",{onClick:()=>{v(_.memberId),g(!1)},className:`w-full flex items-center gap-3 px-4 py-2.5 text-left transition-colors ${$?`${ah[ee%ah.length]}/10`:"hover:bg-[var(--bg-hover)]"}`,children:[a.jsx("div",{className:`w-9 h-9 rounded-full bg-gradient-to-br ${oi[ee%oi.length]} flex items-center justify-center text-white text-sm font-bold shadow-sm shrink-0`,children:_.memberName.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold truncate text-[var(--text-primary)]",children:_.memberName}),a.jsx("p",{className:"text-[11px] text-[var(--text-muted)]",children:_.relationship||"Family member"})]}),$&&a.jsx(Wf,{size:16,className:"text-emerald-400 shrink-0"})]},_.memberId)})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] py-1.5",children:[w&&a.jsx("div",{className:"px-4 py-1.5",children:a.jsx("p",{className:"text-[11px] text-[var(--text-muted)] truncate",children:w.email})}),a.jsxs("button",{onClick:()=>{M(),g(!1)},className:"w-full flex items-center gap-3 px-4 py-2.5 text-left text-rose-400 hover:bg-rose-500/10 transition-colors",children:[a.jsx(kj,{size:16}),a.jsx("span",{className:"text-sm font-medium",children:"Sign out"})]})]})]})]})]})]})}),a.jsx("div",{className:"bg-[var(--bg-strip)] border-b border-[var(--border)]",children:a.jsxs("div",{className:"flex items-stretch overflow-x-auto no-scrollbar",children:[a.jsx(dd,{label:"Net Worth",value:U(k.netWorth),primary:!0}),a.jsx(dd,{label:"Invested",value:U(k.invested)}),a.jsx(dd,{label:"P&L",value:`${x1(k.totalPL)}${U(Math.abs(k.totalPL))}`,change:f1(k.totalPL,k.invested),up:k.totalPL>=0})]})})]})}function dd({label:r,value:o,change:u,up:c,primary:v}){return a.jsxs("div",{className:`flex-1 px-4 sm:px-5 py-2 border-r border-[var(--border-light)] last:border-0 text-center ${v?"bg-violet-500/[0.03]":""}`,children:[a.jsx("p",{className:`font-semibold uppercase tracking-wider whitespace-nowrap ${v?"text-xs text-violet-400":"text-xs text-[var(--text-muted)]"}`,children:r}),a.jsxs("div",{className:"flex items-center justify-center gap-1 mt-0.5",children:[a.jsx("p",{className:`font-bold whitespace-nowrap tabular-nums ${v?"text-[var(--text-primary)] text-base":"text-[var(--text-secondary)] text-sm"}`,children:o}),u&&a.jsxs("span",{className:`flex items-center text-xs font-semibold ${c?"text-emerald-500":"text-rose-500"}`,children:[c?a.jsx(Ty,{size:12}):a.jsx(Ny,{size:12}),u]})]})]})}function lh(r){return r>=20?"bg-rose-500/20 text-[var(--accent-rose)]":r>=10?"bg-orange-500/20 text-[var(--accent-orange)]":r>=5?"bg-amber-500/20 text-[var(--accent-amber)]":"bg-slate-500/20 text-[var(--text-muted)]"}function Lp(){const{mfHoldings:r,mfPortfolios:o}=ke(),u=j.useMemo(()=>o.filter(v=>v.status!=="Inactive").map(v=>{const f=r.filter(b=>b.portfolioId===v.portfolioId&&b.units>0),h=f.reduce((b,x)=>b+x.currentValue,0),d=f.filter(b=>b.athNav>0&&b.belowATHPct>=1).sort((b,x)=>x.belowATHPct-b.belowATHPct).map(b=>({...b,currentPct:h>0?b.currentValue/h*100:0}));return{...v,totalValue:h,opportunities:d}}).filter(v=>v.opportunities.length>0),[o,r]);return u.reduce((v,f)=>v+f.opportunities.length,0)===0?a.jsxs("div",{className:"py-8 text-center",children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No buy opportunities right now"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"All funds are near their all-time highs"})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Funds below their All-Time High NAV. Higher discount = better opportunity."}),u.map((v,f)=>a.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-emerald-500/50 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center gap-2 px-3 py-2.5 bg-[var(--bg-inset)]",children:[a.jsx("span",{className:"text-xs font-bold text-emerald-400 bg-emerald-500/15 w-5 h-5 rounded flex items-center justify-center",children:f+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:v.portfolioName}),a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:v.ownerName}),a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15 text-emerald-400",children:[v.opportunities.length," funds"]})]}),a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"ATH NAV"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Current"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Below ATH"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Alloc"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Value"})]})}),a.jsx("tbody",{children:v.opportunities.map(h=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[200px] truncate",children:h.fundName}),a.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:["",h.athNav.toFixed(2)]}),a.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:["",h.currentNav.toFixed(2)]}),a.jsx("td",{className:"py-2 px-2 text-right",children:a.jsxs("span",{className:`inline-block text-xs font-semibold px-1.5 py-0.5 rounded-full ${lh(h.belowATHPct)}`,children:["",h.belowATHPct.toFixed(1),"%"]})}),a.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:[h.currentPct.toFixed(1),"% / ",h.targetAllocationPct.toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:U(h.currentValue)})]},h.holdingId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:v.opportunities.map(h=>a.jsxs("div",{className:"px-3 py-2.5",children:[a.jsxs("div",{className:"flex items-start justify-between mb-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight flex-1 mr-2",children:h.fundName}),a.jsxs("span",{className:`shrink-0 text-xs font-semibold px-1.5 py-0.5 rounded-full ${lh(h.belowATHPct)}`,children:["",h.belowATHPct.toFixed(1),"%"]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)]",children:[a.jsxs("span",{children:["ATH ",h.athNav.toFixed(2),"  ",h.currentNav.toFixed(2)]}),a.jsxs("span",{children:["Alloc: ",h.currentPct.toFixed(1),"%"]}),a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:U(h.currentValue)})]})]},h.holdingId))})]},v.portfolioId))]})}function We({open:r,onClose:o,title:u,children:c,wide:v}){const f=j.useRef(null);return j.useEffect(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[r]),j.useEffect(()=>{function h(d){d.key==="Escape"&&o()}return r&&window.addEventListener("keydown",h),()=>window.removeEventListener("keydown",h)},[r,o]),r?a.jsxs("div",{ref:f,className:"fixed inset-0 z-50 flex items-start justify-center pt-[5vh] sm:pt-[10vh] px-4",onClick:h=>{h.target===f.current&&o()},children:[a.jsx("div",{className:"fixed inset-0 bg-black/60"}),a.jsxs("div",{className:`relative bg-[var(--bg-card)] border border-[var(--border)] rounded-xl shadow-2xl w-full ${v?"max-w-2xl":"max-w-lg"} max-h-[80vh] flex flex-col animate-fade-in`,children:[a.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-[var(--border-light)] shrink-0",children:[a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:u}),a.jsx("button",{onClick:o,className:"p-1.5 rounded-lg text-[var(--text-dim)] hover:text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:a.jsx(Hd,{size:16})})]}),a.jsx("div",{className:"flex-1 overflow-y-auto px-5 py-4",children:c})]})]}):null}function J({label:r,required:o,error:u,children:c}){return a.jsxs("div",{children:[a.jsxs("label",{className:"block text-xs font-semibold text-[var(--text-muted)] mb-1.5",children:[r,o&&a.jsx("span",{className:"text-rose-500 ml-0.5",children:"*"})]}),c,u&&a.jsx("p",{className:"text-xs text-rose-500 mt-1",children:u})]})}function me({value:r,onChange:o,placeholder:u,type:c="text",...v}){return a.jsx("input",{type:c,value:r,onChange:f=>o(f.target.value),placeholder:u,className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",...v})}function je({value:r,onChange:o,options:u,placeholder:c}){return a.jsxs("select",{value:r,onChange:v=>o(v.target.value),className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors",children:[c&&a.jsx("option",{value:"",children:c}),u.map(v=>a.jsx("option",{value:v.value,children:v.label},v.value))]})}function hs({value:r,onChange:o,placeholder:u,rows:c=3}){return a.jsx("textarea",{value:r,onChange:v=>o(v.target.value),placeholder:u,rows:c,className:"w-full px-3 py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors resize-none"})}function p1({checked:r,onChange:o,label:u}){return a.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[a.jsx("input",{type:"checkbox",checked:r,onChange:c=>o(c.target.checked),className:"w-4 h-4 rounded border-[var(--border-input)] bg-[var(--bg-input)] text-violet-500 focus:ring-violet-500"}),a.jsx("span",{className:"text-sm text-[var(--text-secondary)]",children:u})]})}function ht({onCancel:r,onSubmit:o,submitLabel:u="Save",loading:c}){return a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 mt-4 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:o,disabled:c,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:c?"Saving...":u})]})}function na({onClick:r,label:o="Deactivate"}){return a.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-rose-400 hover:text-rose-300 hover:bg-rose-500/10 rounded-lg transition-colors",children:o})}const sh=[{key:"sip",label:"Adjust SIP",icon:Pj,color:"text-blue-400",dimColor:"text-blue-400/60 hover:text-blue-400",activeBg:"bg-blue-500/20 border border-blue-500/40"},{key:"lumpsum",label:"Lumpsum",icon:gj,color:"text-emerald-400",dimColor:"text-emerald-400/60 hover:text-emerald-400",activeBg:"bg-emerald-500/20 border border-emerald-500/40"},{key:"buysell",label:"Buy / Sell",icon:Ay,color:"text-amber-400",dimColor:"text-amber-400/60 hover:text-amber-400",activeBg:"bg-amber-500/20 border border-amber-500/40"}];function ms(r){return r>=1e5?`${(r/1e5).toFixed(1)}L`:r>=1e3?`${(r/1e3).toFixed(0)}K`:`${Math.round(r)}`}function b1({portfolio:r,holdings:o,totalValue:u}){const c=r.sipTarget||0;if(c<=0)return a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"No SIP target set"});const v=o.filter(x=>x.targetAllocationPct>0).map(x=>{const S=u>0?x.currentValue/u*100:0,w=x.targetAllocationPct/100*u-x.currentValue,M=x.targetAllocationPct/100*c;return{...x,currentPct:S,gap:w,normalSIP:M}}),h=v.filter(x=>x.gap>0).reduce((x,S)=>x+S.gap,0),d=v.map(x=>({...x,suggestedSIP:x.gap>0&&h>0?x.gap/h*c:0}));return d.some(x=>Math.abs(x.suggestedSIP-x.normalSIP)>10)?a.jsxs("div",{className:"space-y-2",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] px-1",children:"Overweight funds get 0 SIP. All SIP goes to underweight funds to rebalance over time."}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Allocation"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Normal SIP"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Rebalance SIP"})]})}),a.jsx("tbody",{children:d.map(x=>{const S=x.gap<=0;return a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${S?"opacity-60":""}`,children:[a.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:x.fundName}),a.jsxs("td",{className:"py-2 px-2 text-right tabular-nums",children:[a.jsxs("span",{className:S?"text-amber-400":"text-[var(--text-dim)]",children:[x.currentPct.toFixed(1),"%"]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:[" / ",x.targetAllocationPct.toFixed(1),"%"]})]}),a.jsx("td",{className:"py-2 px-2 text-right text-[var(--text-muted)] tabular-nums",children:ms(x.normalSIP)}),a.jsx("td",{className:"py-2 px-2 text-right font-semibold tabular-nums",children:S?a.jsx("span",{className:"text-amber-400/70",children:"0"}):a.jsx("span",{className:"text-blue-400",children:ms(x.suggestedSIP)})})]},x.holdingId)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:ms(c)}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-blue-400 tabular-nums",children:ms(c)})]})})]})})]}):a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"SIPs are balanced"})}function v1({portfolio:r,holdings:o,totalValue:u}){const[c,v]=j.useState("");(r.rebalanceThreshold||.05)*100;const f=Number(c)||r.lumpsumTarget||0,h=o.map(b=>{const x=u>0?b.currentValue/u*100:0;return{...b,currentPct:x}}),d=j.useMemo(()=>{if(f<=0)return[];const b=u+f,x=h.map(A=>{const w=A.targetAllocationPct/100*b,M=Math.max(0,w-A.currentValue),p=b>0?(A.currentValue+M)/b*100:0;return{...A,invest:M,newPct:p}}).filter(A=>A.invest>0),S=x.reduce((A,w)=>A+w.invest,0);if(S>0&&Math.abs(S-f)>1){const A=f/S;return x.map(w=>({...w,invest:w.invest*A,newPct:u+f>0?(w.currentValue+w.invest*A)/(u+f)*100:0}))}return x},[h,f,u]);return a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-end gap-3",children:[a.jsx("div",{className:"flex-1 max-w-[200px]",children:a.jsx(J,{label:"Amount ()",children:a.jsx(me,{type:"number",value:c,onChange:v,placeholder:r.lumpsumTarget?`Default: ${U(r.lumpsumTarget)}`:"Enter amount..."})})}),r.lumpsumTarget>0&&!c&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] pb-2.5",children:"Using target"})]}),f>0&&d.length>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Drift"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Invest"})]})}),a.jsx("tbody",{children:d.map(b=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:b.fundName}),a.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:[b.currentPct.toFixed(1),"%  ",b.newPct.toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-2 text-right font-semibold text-emerald-400 tabular-nums",children:ms(b.invest)})]},b.holdingId))}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-1.5 px-2 text-xs font-bold text-[var(--text-primary)]",colSpan:2,children:"Total"}),a.jsx("td",{className:"py-1.5 px-2 text-right text-xs font-bold text-emerald-400 tabular-nums",children:U(f)})]})})]})}):f>0?a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2 text-center",children:"Balanced  distributes proportionally"}):null]})}function g1({portfolio:r,holdings:o,totalValue:u}){const c=(r.rebalanceThreshold||.05)*100,v=o.map(f=>{const h=u>0?f.currentValue/u*100:0,d=Math.abs(h-f.targetAllocationPct)>c,b=f.targetAllocationPct/100*u,x=d?b-f.currentValue:0;return{...f,currentPct:h,amount:x}}).filter(f=>Math.abs(f.amount)>=500);return v.length===0?a.jsx("p",{className:"text-xs text-[var(--text-dim)] py-2",children:"Portfolio is balanced"}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Drift"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold uppercase",children:"Action"})]})}),a.jsx("tbody",{children:v.map(f=>{const h=f.amount>0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsx("td",{className:"py-2 px-2 text-[var(--text-secondary)] max-w-[180px] truncate",children:f.fundName}),a.jsxs("td",{className:"py-2 px-2 text-right text-[var(--text-dim)] tabular-nums",children:[f.currentPct.toFixed(1),"%  ",f.targetAllocationPct.toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-2 text-right",children:a.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${h?"bg-emerald-500/20 text-emerald-400":"bg-rose-500/20 text-[var(--accent-rose)]"}`,children:[h?"Buy":"Sell"," ",ms(Math.abs(f.amount))]})})]},f.holdingId)})})]})})}function Op(){const{mfHoldings:r,mfPortfolios:o}=ke(),[u,c]=j.useState("sip"),v=j.useMemo(()=>o.filter(f=>f.status!=="Inactive").map(f=>{const h=r.filter(S=>S.portfolioId===f.portfolioId&&S.units>0),d=h.reduce((S,A)=>S+A.currentValue,0),b=(f.rebalanceThreshold||.05)*100,x=h.filter(S=>{const A=d>0?S.currentValue/d*100:0;return Math.abs(A-S.targetAllocationPct)>b}).length;return{...f,holdings:h,totalValue:d,driftedCount:x}}).filter(f=>f.driftedCount>0),[o,r]);return v.length===0?a.jsxs("div",{className:"py-8 text-center",children:[a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"All portfolios are balanced"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:"No funds exceed their rebalance threshold"})]}):(sh.find(f=>f.key===u),a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex bg-[var(--bg-inset)] rounded-lg p-0.5",children:sh.map(({key:f,label:h,icon:d,color:b,dimColor:x,activeBg:S})=>a.jsxs("button",{onClick:()=>c(f),className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-md text-xs font-semibold transition-colors ${u===f?`${S} ${b} shadow-sm`:x}`,children:[a.jsx(d,{size:13})," ",h]},f))}),v.map((f,h)=>a.jsxs("div",{className:"border border-[var(--border-light)] border-l-2 border-l-violet-500/50 rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"flex items-center justify-between px-3 py-2.5 bg-[var(--bg-inset)]",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs font-bold text-violet-400 bg-violet-500/15 w-5 h-5 rounded flex items-center justify-center",children:h+1}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)]",children:f.portfolioName}),a.jsx("span",{className:"text-xs text-[var(--text-muted)]",children:f.ownerName}),a.jsxs("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-amber-500/15 text-amber-400",children:[f.driftedCount," drifted"]})]}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-muted)]",children:[a.jsx("span",{className:"font-semibold text-[var(--text-secondary)]",children:U(f.totalValue)}),a.jsxs("span",{children:["Threshold: ",((f.rebalanceThreshold||.05)*100).toFixed(0),"%"]}),f.sipTarget>0&&a.jsxs("span",{children:["SIP: ",U(f.sipTarget),"/mo"]})]})]}),a.jsxs("div",{className:"px-3 py-2",children:[u==="sip"&&a.jsx(b1,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="lumpsum"&&a.jsx(v1,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue}),u==="buysell"&&a.jsx(g1,{portfolio:f,holdings:f.holdings,totalValue:f.totalValue})]})]},f.portfolioId))]}))}function y1(){const{mfHoldings:r,mfPortfolios:o}=ke(),[u,c]=j.useState(!1),[v,f]=j.useState("ath"),{buyOppCount:h,rebalanceCount:d}=j.useMemo(()=>{let S=0,A=0;return o.filter(w=>w.status!=="Inactive").forEach(w=>{const M=r.filter(y=>y.portfolioId===w.portfolioId&&y.units>0),p=M.reduce((y,N)=>y+N.currentValue,0),g=(w.rebalanceThreshold||.05)*100;M.forEach(y=>{y.athNav>0&&y.belowATHPct>=1&&S++;const N=p>0?y.currentValue/p*100:0;Math.abs(N-y.targetAllocationPct)>g&&A++})}),{buyOppCount:S,rebalanceCount:A}},[o,r]),b=h>0,x=d>0;return!b&&!x?null:a.jsxs("div",{className:"mb-4",children:[a.jsxs("div",{className:"w-full flex items-center gap-0 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] animate-glow-mixed",children:[a.jsxs("div",{className:"flex items-center gap-0 flex-1 min-w-0 overflow-x-auto no-scrollbar",children:[b&&a.jsxs("button",{onClick:()=>{u&&v==="ath"?c(!1):(f("ath"),c(!0))},className:`flex items-center gap-1.5 px-4 py-2.5 text-xs font-medium whitespace-nowrap transition-colors hover:bg-[var(--bg-hover)] rounded-l-xl ${u&&v==="ath"?"bg-[var(--bg-hover)]":""}`,children:[a.jsx(_d,{size:13,className:"text-emerald-400 shrink-0"}),a.jsx("span",{className:"text-[var(--text-muted)]",children:"Buy Opp."}),a.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15 text-emerald-400",children:h})]}),b&&x&&a.jsx("span",{className:"w-px h-4 bg-[var(--border)] shrink-0"}),x&&a.jsxs("button",{onClick:()=>{u&&v==="rebal"?c(!1):(f("rebal"),c(!0))},className:`flex items-center gap-1.5 px-4 py-2.5 text-xs font-medium whitespace-nowrap transition-colors hover:bg-[var(--bg-hover)] ${b?"":"rounded-l-xl"} ${u&&v==="rebal"?"bg-[var(--bg-hover)]":""}`,children:[a.jsx(On,{size:13,className:"text-[var(--accent-violet)] shrink-0"}),a.jsx("span",{className:"text-[var(--text-muted)]",children:"Rebalance"}),a.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-violet-500/15 text-[var(--accent-violet)]",children:d})]})]}),a.jsx("button",{onClick:()=>c(!u),className:"px-3 py-2.5 hover:bg-[var(--bg-hover)] rounded-r-xl transition-colors",children:a.jsx(ys,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${u?"rotate-180":""}`})})]}),u&&a.jsxs("div",{className:"mt-2 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[v==="ath"&&b&&a.jsx("div",{className:"p-3",children:a.jsx(Lp,{})}),v==="rebal"&&x&&a.jsx("div",{className:"p-3",children:a.jsx(Op,{})})]})]})}const j1=[{label:"Home",icon:Mp,path:"/dashboard"},{label:"Accounts",icon:Rn,path:"/accounts/bank"},{label:"Invest",icon:jl,path:"/investments/mutual-funds"},{label:"Goals",icon:Hn,path:"/goals"},{label:"More",icon:cj,path:"/more"}];function N1(){return a.jsx("nav",{className:"lg:hidden fixed bottom-0 left-0 right-0 z-40 bg-[var(--bg-sidebar)] border-t border-[var(--border)] safe-bottom",children:a.jsx("div",{className:"flex items-center justify-around h-[56px]",children:j1.map(({label:r,icon:o,path:u})=>a.jsx(zd,{to:u,end:u==="/dashboard",className:({isActive:c})=>`relative flex flex-col items-center justify-center gap-0.5 w-full h-full text-xs font-medium transition-colors ${c?"text-[var(--sidebar-active-text)]":"text-[var(--text-dim)]"}`,children:({isActive:c})=>a.jsxs(a.Fragment,{children:[c&&a.jsx("span",{className:"absolute top-0 w-10 h-[2.5px] bg-[var(--sidebar-active-text)] rounded-b-full"}),a.jsx("div",{className:`flex items-center justify-center w-9 h-9 rounded-xl transition-colors ${c?"bg-[var(--sidebar-active-bg)]":""}`,children:a.jsx(o,{size:19,strokeWidth:c?2.2:1.5})}),a.jsx("span",{className:c?"font-semibold":"",children:r})]})},u))})})}const S1="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png";function Bd(){return a.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:a.jsxs("div",{className:"flex flex-col items-center gap-6",children:[a.jsx("img",{src:S1,alt:"Capital Friends",className:"h-16 animate-pulse"}),a.jsxs("div",{className:"flex flex-col items-center gap-2",children:[a.jsx("div",{className:"w-48 h-1.5 rounded-full bg-[var(--border)] overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-gradient-to-r from-violet-500 to-cyan-500 animate-loading-bar"})}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"Loading your portfolio..."})]})]})})}const w1="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png",C1=["/investments"];function A1(){const[r,o]=j.useState(!1),{pathname:u}=Jt(),c=!C1.some(h=>u.startsWith(h)),{loading:v,error:f}=ke();return v?a.jsx(Bd,{}):f?a.jsx("div",{className:"flex h-dvh items-center justify-center bg-[var(--bg-base)]",children:a.jsxs("div",{className:"flex flex-col items-center gap-4 text-center px-6",children:[a.jsx("img",{src:w1,alt:"Capital Friends",className:"h-16 opacity-50"}),a.jsx("p",{className:"text-rose-400 text-sm font-medium",children:f}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 text-sm font-medium rounded-lg bg-violet-600 hover:bg-violet-500 text-white transition-colors",children:"Retry"})]})}):a.jsxs("div",{className:"flex h-dvh bg-[var(--bg-base)] overflow-hidden",children:[a.jsx(o1,{open:r,onClose:()=>o(!1)}),a.jsxs("div",{className:"flex-1 flex flex-col min-w-0 overflow-hidden",children:[a.jsx(h1,{onMenuClick:()=>o(!0)}),a.jsx("main",{className:"flex-1 overflow-y-auto overscroll-contain pb-20 lg:pb-0",children:a.jsxs("div",{className:"px-3 sm:px-4 py-3 sm:py-4 w-full",children:[c&&a.jsx(y1,{}),a.jsx(Hh,{})]})})]}),a.jsx(N1,{})]})}function M1(){const{isAuthenticated:r,loading:o}=gs();return o?a.jsx(Bd,{}):r?a.jsx(Hh,{}):a.jsx(qh,{to:"/",replace:!0})}const ud="https://raw.githubusercontent.com/jagadeeshkmanne/capital-friends/main/logo.png";function Ip(){const{isAuthenticated:r,loading:o,error:u,signIn:c}=gs(),v=_n(),[f,h]=j.useState(0),[d,b]=j.useState(!1),x=j.useRef(null),S=j.useCallback(()=>{x.current&&clearInterval(x.current),x.current=setInterval(()=>{b(p=>(p||h(g=>(g+1)%4),p))},5e3)},[]);j.useEffect(()=>(S(),()=>{x.current&&clearInterval(x.current)}),[S]);function A(p){h(p),S()}if(j.useEffect(()=>{r&&v("/dashboard",{replace:!0})},[r,v]),o)return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#080d1a]",children:a.jsx("img",{src:ud,alt:"",className:"h-12 animate-pulse"})});const w=[{id:"ath",label:"ATH Tracking",icon:a.jsx(zi,{size:18}),color:"emerald",tagline:"Spot Buying Opportunities",desc:"See how far each mutual fund is from its All-Time High NAV. When a quality fund dips 10-20% below ATH, it's your signal to invest more  via SIP increase or lumpsum.",mock:a.jsx(k1,{})},{id:"rebalance",label:"Rebalancing",icon:a.jsx(On,{size:18}),color:"violet",tagline:"Know Exactly What to Buy or Sell",desc:"Set target allocation for each fund. When your portfolio drifts, Capital Friends tells you exactly how much to adjust  via SIP changes, lumpsum top-ups, or buy/sell actions.",mock:a.jsx(E1,{})},{id:"goals",label:"Goal Linking",icon:a.jsx(Hn,{size:18}),color:"cyan",tagline:"Link Portfolios to Goals",desc:"Create goals like retirement, child education, or emergency fund. Link MF portfolios with allocation percentages. Goal progress updates automatically as NAVs change daily.",mock:a.jsx(z1,{})},{id:"dashboard",label:"Family View",icon:a.jsx(fs,{size:18}),color:"amber",tagline:"Everyone's Wealth, One Dashboard",desc:"Switch between family members in one click. See combined or individual net worth, investments, insurance, loans  everything your family owns, in one place.",mock:a.jsx(T1,{})}],M=w[f];return a.jsxs("div",{className:"min-h-screen bg-[#080d1a] text-slate-200",children:[a.jsx("header",{className:"sticky top-0 z-50 bg-[#0a0f1f]/95 backdrop-blur-sm border-b border-white/[0.06]",children:a.jsxs("div",{className:"flex items-center justify-between px-3 sm:px-4 h-14",children:[a.jsx("img",{src:ud,alt:"Capital Friends",className:"h-12"}),a.jsxs("button",{onClick:c,className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-gradient-to-r from-violet-600 to-cyan-600 text-white text-sm font-semibold hover:from-violet-500 hover:to-cyan-500 transition-all cursor-pointer",children:[a.jsx(rh,{s:14})," Sign In"]})]})}),a.jsxs("section",{className:"relative px-5 sm:px-8 lg:px-16 pt-10 sm:pt-14 pb-8 sm:pb-10 overflow-hidden",children:[a.jsx("div",{className:"absolute top-0 left-1/4 w-[600px] h-[400px] bg-violet-600/8 rounded-full blur-[120px] pointer-events-none"}),a.jsx("div",{className:"absolute top-20 right-1/4 w-[400px] h-[300px] bg-cyan-600/6 rounded-full blur-[100px] pointer-events-none"}),a.jsxs("div",{className:"relative text-center",children:[a.jsx("span",{className:"inline-block text-xs font-bold uppercase tracking-[0.2em] text-violet-400 bg-violet-500/10 border border-violet-500/20 rounded-full px-4 py-1.5 mb-5",children:"Always Free  100% Private  Your Google Sheet"}),a.jsxs("h1",{className:"text-3xl sm:text-4xl lg:text-5xl font-extrabold leading-[1.1] tracking-tight text-white",children:["One dashboard for your family's"," ",a.jsx("span",{className:"bg-gradient-to-r from-violet-400 to-cyan-400 bg-clip-text text-transparent",children:"entire wealth"})]}),a.jsxs("p",{className:"mt-5 text-base sm:text-lg text-slate-400 leading-relaxed max-w-2xl mx-auto",children:["Mutual funds, stocks, FDs, gold, insurance, loans  track everything for every family member. Manual entry means ",a.jsx("strong",{className:"text-white",children:"no bank credentials, no privacy risk"}),"."]}),u&&a.jsx("p",{className:"mt-5 text-sm text-rose-400",children:u})]})]}),a.jsxs("section",{className:"bg-gradient-to-b from-[#0d0a1a] to-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-10 sm:py-14",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3 flex-wrap justify-center",children:[a.jsx(qd,{size:28,className:"text-amber-400 shrink-0"}),a.jsxs("span",{children:["What happens if something happens to ",a.jsx("span",{className:"text-amber-400",children:"you"}),"?"]})]}),a.jsxs("p",{className:"mt-4 text-lg text-slate-400 leading-relaxed",children:["Your family should know about every investment, every policy, every loan. Not someday. ",a.jsx("strong",{className:"text-white",children:"Right now."})]})]}),a.jsxs("div",{className:"grid sm:grid-cols-2 gap-4",children:[a.jsx(nh,{icon:a.jsx(uj,{size:20}),color:"rose",title:"Without Capital Friends",items:["Scattered investments across 10+ platforms","Family has no idea what you own or owe","Insurance policies lost in email threads","Months of confusion, missed renewals, lost money"],bad:!0}),a.jsx(nh,{icon:a.jsx(yl,{size:20}),color:"emerald",title:"With Capital Friends",items:["One sheet  every investment, policy, and loan","Family receives email reports with full portfolio details","Reminders for SIPs, renewals, EMI payments","Complete clarity, instantly  when it matters most"]})]}),a.jsxs("p",{className:"text-center mt-8 text-base text-slate-500",children:["Built for ",a.jsx("strong",{className:"text-white",children:"you"})," to manage your wealth  and for your ",a.jsx("strong",{className:"text-white",children:"family"})," to access it when they need to."]})]}),a.jsxs("section",{id:"features",className:"bg-[#0b1022] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",onMouseEnter:()=>b(!0),onMouseLeave:()=>{b(!1),S()},children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Features That Set Us Apart"}),a.jsx("p",{className:"text-base text-slate-500",children:"Things you won't find on other portfolio trackers"})]}),a.jsx("div",{className:"flex justify-center gap-2 sm:gap-3 mb-10 flex-wrap",children:w.map((p,g)=>{const y=g===f,N={emerald:"border-emerald-500",violet:"border-violet-500",cyan:"border-cyan-500",amber:"border-amber-500"},R={emerald:"text-emerald-400",violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400"};return a.jsxs("button",{onClick:()=>A(g),className:`relative flex items-center gap-2 px-5 py-2.5 rounded-full border text-sm font-semibold transition-all cursor-pointer ${y?`${N[p.color]} bg-white/[0.05] ${R[p.color]}`:"border-white/[0.08] text-slate-500 hover:border-white/[0.15] hover:text-slate-300"}`,children:[a.jsx("span",{className:"shrink-0",children:p.icon}),p.label,y&&a.jsx("div",{className:"absolute bottom-0 left-4 right-4 h-0.5 bg-white/[0.06] rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-current",style:{animation:"featureProgress 5s linear",animationPlayState:d?"paused":"running"}})})]},p.id)})}),a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center gap-8 lg:gap-12",children:[a.jsxs("div",{className:"lg:flex-1 min-h-[280px]",children:[a.jsx("h3",{className:"text-xl sm:text-2xl font-bold text-white",children:M.tagline}),a.jsx("p",{className:"mt-3 text-base text-slate-400 leading-relaxed",children:M.desc}),M.id==="ath"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(ft,{c:"emerald",t:"ATH tracking only for funds in your portfolios"}),a.jsx(ft,{c:"emerald",t:"Color-coded signals: watch, consider, buy, strong buy"}),a.jsx(ft,{c:"emerald",t:"Increase SIP or invest lumpsum when funds dip"}),a.jsx(ft,{c:"emerald",t:"Daily NAV updates from AMFI data"})]}),M.id==="rebalance"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(ft,{c:"violet",t:"Adjust monthly SIP to rebalance gradually"}),a.jsx(ft,{c:"violet",t:"Lumpsum top-up for quick rebalance"}),a.jsx(ft,{c:"violet",t:"Buy/Sell amounts to match target"}),a.jsx(ft,{c:"violet",t:"Configurable threshold per portfolio"})]}),M.id==="goals"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(ft,{c:"cyan",t:"Link multiple MF portfolios to each goal"}),a.jsx(ft,{c:"cyan",t:"Built-in SIP + lumpsum calculator with inflation"}),a.jsx(ft,{c:"cyan",t:"Auto-status: On Track, Needs Attention, Achieved"}),a.jsx(ft,{c:"cyan",t:"Withdrawal planning for retirement goals"})]}),M.id==="dashboard"&&a.jsxs("div",{className:"mt-6 space-y-5",children:[a.jsx(ft,{c:"amber",t:"One-click switch between family members"}),a.jsx(ft,{c:"amber",t:"Combined net worth across everyone"}),a.jsx(ft,{c:"amber",t:"MF, stocks, FD, gold, PPF, NPS, insurance"}),a.jsx(ft,{c:"amber",t:"Email reports sent to family automatically"})]})]}),a.jsx("div",{className:"lg:flex-1 min-w-0 min-h-[380px] flex flex-col justify-center",children:M.mock})]}),a.jsx("style",{children:`
          @keyframes featureProgress {
            from { width: 0% }
            to { width: 100% }
          }
        `})]}),a.jsxs("section",{className:"bg-[#0a0e1c] border-y border-white/[0.06] px-5 sm:px-8 lg:px-16 py-14 sm:py-20",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white mb-2",children:"Everything You Need"}),a.jsx("p",{className:"text-base text-slate-500",children:"One dashboard for your entire financial life"})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:[a.jsx(Wa,{icon:a.jsx(xs,{size:20}),c:"rose",t:"Stock Portfolios",d:"Buy/sell tracking, average cost, P&L with live NSE prices"}),a.jsx(Wa,{icon:a.jsx(_j,{size:20}),c:"orange",t:"FD, Gold, PPF, NPS",d:"Track any investment type  all counted in net worth"}),a.jsx(Wa,{icon:a.jsx(yl,{size:20}),c:"teal",t:"Insurance Tracker",d:"Life, health, term policies with premiums & renewal dates"}),a.jsx(Wa,{icon:a.jsx(Rn,{size:20}),c:"red",t:"Liabilities",d:"Loans & EMIs. Net worth = total assets minus debts"}),a.jsx(Wa,{icon:a.jsx(Od,{size:20}),c:"yellow",t:"Smart Reminders",d:"SIP dates, renewals, EMI payments, maturity alerts"}),a.jsx(Wa,{icon:a.jsx(fs,{size:20}),c:"pink",t:"Family Sharing",d:"Invite family with Google accounts  shared dashboard"}),a.jsx(Wa,{icon:a.jsx(On,{size:20}),c:"blue",t:"Daily Auto-Refresh",d:"NAVs and stock prices update automatically every day"}),a.jsx(Wa,{icon:a.jsx(cd,{size:20}),c:"emerald",t:"Complete Privacy",d:"No servers, no database, no tracking  your Sheet only"})]})]}),a.jsxs("section",{className:"border-y border-white/[0.06]",children:[a.jsxs("div",{className:"bg-[#0b1022] px-5 sm:px-8 lg:px-16 py-10 sm:py-14 text-center",children:[a.jsxs("h2",{className:"text-2xl sm:text-3xl lg:text-4xl font-extrabold text-white inline-flex items-center gap-3",children:[a.jsx(cd,{size:28,className:"text-emerald-400 shrink-0"}),"Your Data Never Leaves Google"]}),a.jsxs("p",{className:"mt-3 text-base sm:text-lg text-slate-400 leading-relaxed",children:["No backend server. No database. No tracking. The web app is a static site. Your spreadsheet lives in ",a.jsx("strong",{className:"text-white",children:"your Google Drive"}),". We literally cannot access your financial data."]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row",children:[a.jsx(fd,{icon:a.jsx(yl,{size:20}),t:"Manual Entry Only",d:"No bank linking, no credentials shared. You type your data  no one else has access.",bg:"bg-[#0d1326]",c:"emerald"}),a.jsx(fd,{icon:a.jsx(cd,{size:20}),t:"Your Google Sheet",d:"A private spreadsheet in your Drive. Share only with family you choose.",bg:"bg-[#0f1530]",c:"violet"}),a.jsx(fd,{icon:a.jsx(Ci,{size:20}),t:"Always Free",d:"No premium tier, no hidden fees, no ads. Free today, free forever.",bg:"bg-[#111838]",c:"amber"})]})]}),a.jsxs("section",{className:"bg-gradient-to-t from-[#080d1a] to-[#0d1128] border-t border-white/[0.06] px-5 sm:px-8 lg:px-16 py-16 text-center",children:[a.jsx("h2",{className:"text-3xl sm:text-4xl font-extrabold text-white",children:"Start managing your family's wealth today"}),a.jsx("p",{className:"mt-3 text-base text-slate-500",children:"Always free. No credit card. No bank linking. Just your Google account."}),a.jsxs("button",{onClick:c,className:"mt-8 inline-flex items-center gap-2.5 px-8 py-3.5 bg-gradient-to-r from-violet-600 to-cyan-600 text-white font-bold text-base rounded-xl hover:from-violet-500 hover:to-cyan-500 shadow-lg shadow-violet-900/30 transition-all hover:scale-[1.02] cursor-pointer",children:[a.jsx(rh,{s:20})," Sign in with Google  It's Free"]}),u&&a.jsx("p",{className:"mt-3 text-sm text-rose-400",children:u})]}),a.jsxs("footer",{className:"border-t border-white/[0.04] px-5 sm:px-8 lg:px-16 py-5 flex items-center justify-between",children:[a.jsx("img",{src:ud,alt:"",className:"h-5 opacity-30"}),a.jsx("p",{className:"text-xs text-slate-600",children:"Your data. Your Google Drive. Your control."})]})]})}function nh({icon:r,title:o,items:u,bad:c}){const v=c?"border-rose-500/15":"border-emerald-500/15",f=c?"bg-rose-500/[0.04]":"bg-emerald-500/[0.04]",h=c?"bg-rose-500/10 text-rose-400":"bg-emerald-500/10 text-emerald-400",d=c?"text-rose-400":"text-emerald-400";return a.jsxs("div",{className:`rounded-2xl border ${v} ${f} p-6`,children:[a.jsxs("h3",{className:`text-lg font-bold ${d} mb-4 flex items-center gap-2.5`,children:[a.jsx("span",{className:`flex items-center justify-center w-8 h-8 rounded-lg ${h} shrink-0`,children:r}),o]}),a.jsx("ul",{className:"space-y-3",children:u.map((b,x)=>a.jsxs("li",{className:"flex items-start gap-2.5",children:[c?a.jsx("span",{className:"text-rose-500/60 mt-0.5 shrink-0",children:""}):a.jsx(Ei,{size:16,className:"text-emerald-500 mt-0.5 shrink-0"}),a.jsx("span",{className:"text-sm text-slate-300 leading-relaxed",children:b})]},x))})]})}function T1(){return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f]",children:[a.jsx("span",{className:"text-sm text-slate-400 font-medium",children:"Dashboard"}),a.jsx("div",{className:"flex gap-1.5",children:["Everyone","Jagadeesh","Priya","Arjun"].map((r,o)=>a.jsx("span",{className:`text-xs px-2.5 py-1 rounded-full font-medium ${o===0?"bg-violet-500/20 text-violet-300":"text-slate-600"}`,children:r},r))})]}),a.jsxs("div",{className:"grid grid-cols-3 divide-x divide-white/[0.04]",children:[a.jsx(md,{l:"Net Worth",v:"45.2L",lc:"text-violet-400",vc:"text-white"}),a.jsx(md,{l:"Invested",v:"38.7L",lc:"text-slate-500",vc:"text-slate-300"}),a.jsx(md,{l:"P&L",v:"+6.5L",lc:"text-slate-500",vc:"text-emerald-400",extra:"+16.8%"})]}),a.jsxs("div",{className:"border-t border-white/[0.04]",children:[a.jsx(xd,{n:"Axis Bluechip Fund",alloc:"30% / 25%",cur:"6.2L",pl:"+24.0%",ath:"5.2%",athC:"text-[#e67e00]",up:!0}),a.jsx(xd,{n:"Parag Parikh Flexi Cap",alloc:"35% / 40%",cur:"4.8L",pl:"+37.1%",ath:"At ATH",athC:"text-emerald-500",up:!0}),a.jsx(xd,{n:"SBI Small Cap Fund",alloc:"20% / 15%",cur:"1.8L",pl:"-10.0%",ath:"18.3%",athC:"text-[#d84315]",last:!0})]})]})}function k1(){const r=[{n:"HDFC Mid-Cap Opportunities",nav:"142.35",ath:"168.50",pct:"15.5%",color:"text-[#d84315]",signal:"Good Buy Signal",sigC:"text-[#d84315] bg-[#d84315]/15"},{n:"Axis Small Cap Fund",nav:"38.22",ath:"52.10",pct:"26.6%",color:"text-[#c62828]",signal:"Strong Buy",sigC:"text-[#c62828] bg-[#c62828]/15 font-bold"},{n:"Kotak Emerging Equity",nav:"89.10",ath:"92.40",pct:"3.6%",color:"text-[#b8860b]",signal:"Watch",sigC:"text-[#b8860b] bg-[#b8860b]/15"},{n:"Mirae Asset Large Cap",nav:"105.80",ath:"106.20",pct:"0.4%",color:"text-slate-500",signal:"Near ATH",sigC:"text-slate-500 bg-white/[0.04]"}];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Buy Opportunities"}),a.jsx("span",{className:"text-xs text-emerald-400 font-semibold bg-emerald-500/10 px-2.5 py-1 rounded-full",children:"2 signals"})]}),r.map((o,u)=>a.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${u<r.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-slate-300 truncate",children:o.n}),a.jsxs("p",{className:"text-xs text-slate-600 mt-0.5",children:["NAV ","",o.nav,"  ATH ","",o.ath]})]}),a.jsxs("div",{className:"text-right shrink-0 ml-3",children:[a.jsxs("p",{className:`text-base font-bold tabular-nums ${o.color}`,children:[a.jsx(wy,{size:13,className:"inline -mt-0.5"})," ",o.pct]}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded ${o.sigC}`,children:o.signal})]})]},u))]})}function E1(){const[r,o]=j.useState(0),u=["SIP Adjust","Lumpsum","Buy / Sell"],c=["New SIP","Lumpsum Top-up","Action"],f=[[{n:"Axis Bluechip",val:"SIP 6,000",cur:"30%",tgt:"25%",action:"Stop SIP",actionC:"text-amber-400"},{n:"Parag Parikh Flexi",val:"SIP 7,000",cur:"35%",tgt:"40%",action:"12,000/mo",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"SIP 4,000",cur:"20%",tgt:"15%",action:"Stop SIP",actionC:"text-amber-400"},{n:"HDFC Large Cap",val:"SIP 3,000",cur:"15%",tgt:"20%",action:"8,000/mo",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"No action",actionC:"text-slate-600"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Invest 55,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"No action",actionC:"text-slate-600"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Invest 45,000",actionC:"text-emerald-400"}],[{n:"Axis Bluechip",val:"3,00,000",cur:"30%",tgt:"25%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"Parag Parikh Flexi",val:"3,50,000",cur:"35%",tgt:"40%",action:"Buy 50,000",actionC:"text-emerald-400"},{n:"SBI Small Cap",val:"2,00,000",cur:"20%",tgt:"15%",action:"Sell 50,000",actionC:"text-rose-400"},{n:"HDFC Large Cap",val:"1,50,000",cur:"15%",tgt:"20%",action:"Buy 50,000",actionC:"text-emerald-400"}]][r];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Rebalance Portfolio"}),a.jsx("span",{className:"text-xs text-violet-400 font-semibold bg-violet-500/10 px-2.5 py-1 rounded-full",children:"4 off-target"})]}),a.jsx("div",{className:"flex border-b border-white/[0.04]",children:u.map((h,d)=>a.jsx("button",{onClick:()=>o(d),className:`flex-1 text-xs font-semibold py-2.5 text-center cursor-pointer transition-colors ${d===r?"text-violet-400 border-b-2 border-violet-400":"text-slate-600 hover:text-slate-400"}`,children:h},h))}),a.jsxs("div",{className:"flex items-center gap-3 px-4 py-2.5 border-b border-white/[0.04] bg-[#0a0f1f]/50 flex-wrap",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"Portfolio Value"}),a.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","10,00,000"]}),r===0&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xs text-slate-600",children:"|"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Total SIP"}),a.jsxs("span",{className:"text-sm text-white font-semibold tabular-nums",children:["","20,000"]})]}),r===1&&a.jsxs(a.Fragment,{children:[a.jsx("span",{className:"text-xs text-slate-600",children:"|"}),a.jsx("span",{className:"text-xs text-slate-500",children:"Lumpsum"}),a.jsx("input",{type:"text",readOnly:!0,value:"1,00,000",className:"bg-white/[0.04] border border-white/[0.08] rounded-md px-2 py-1 text-sm text-white font-semibold tabular-nums w-24 text-right cursor-default outline-none"})]})]}),a.jsxs("div",{children:[a.jsxs("div",{className:"grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 text-xs text-slate-600 font-semibold border-b border-white/[0.03]",children:[a.jsx("span",{children:"Fund / Value"}),a.jsx("span",{className:"text-center",children:"Current"}),a.jsx("span",{className:"text-center",children:"Target"}),a.jsx("span",{className:"text-right",children:c[r]})]}),f.map((h,d)=>a.jsxs("div",{className:`grid grid-cols-[1fr_50px_50px_1fr] gap-1 px-4 py-2.5 items-center ${d<f.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("span",{className:"text-sm text-slate-300 truncate block",children:h.n}),a.jsxs("span",{className:"text-[10px] text-slate-600",children:["",h.val]})]}),a.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:h.cur}),a.jsx("span",{className:"text-sm text-center text-slate-400 tabular-nums",children:h.tgt}),a.jsx("span",{className:`text-sm text-right font-semibold ${h.actionC}`,children:h.action})]},`${r}-${d}`))]})]})}function z1(){const r=[{n:"Retirement",tgt:"2Cr",cur:"28.5L",pct:14,sip:"45,000",yrs:"18 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"Child Education",tgt:"50L",cur:"12.2L",pct:24,sip:"15,000",yrs:"12 yrs",status:"On Track",sc:"text-blue-400 bg-blue-500/15",bc:"bg-blue-500"},{n:"New Car",tgt:"15L",cur:"4.1L",pct:27,sip:"12,000",yrs:"3 yrs",status:"Needs Attention",sc:"text-amber-400 bg-amber-500/15",bc:"bg-amber-500"}];return a.jsxs("div",{className:"rounded-xl border border-white/[0.06] bg-[#0d1326] overflow-hidden shadow-2xl shadow-black/40",children:[a.jsxs("div",{className:"px-4 py-3 border-b border-white/[0.04] bg-[#0a0f1f] flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:"Goals"}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-xs text-slate-500",children:"2 On Track"}),a.jsx("span",{className:"text-xs text-amber-400",children:"1 Needs Attention"})]})]}),r.map((o,u)=>a.jsxs("div",{className:`px-4 py-3.5 ${u<r.length-1?"border-b border-white/[0.03]":""}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-sm font-semibold text-white",children:o.n}),a.jsx("span",{className:`text-[10px] font-semibold px-2 py-0.5 rounded-full ${o.sc}`,children:o.status})]}),a.jsxs("span",{className:"text-xs text-slate-500",children:["",o.sip,"/mo  ",o.yrs]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"flex-1 h-2.5 rounded-full bg-white/[0.06] overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${o.bc}`,style:{width:`${o.pct}%`}})}),a.jsxs("span",{className:"text-sm font-semibold text-slate-300 tabular-nums w-10 text-right",children:[o.pct,"%"]})]}),a.jsxs("div",{className:"flex justify-between mt-1.5 text-xs text-slate-600",children:[a.jsxs("span",{children:["",o.cur," of ","",o.tgt]}),a.jsxs("span",{className:"flex items-center gap-1 text-slate-500",children:[a.jsx(Ai,{size:10})," 2 portfolios linked"]})]})]},u))]})}function rh({s:r=16}){return a.jsxs("svg",{viewBox:"0 0 24 24",width:r,height:r,className:"shrink-0",children:[a.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 01-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z",fill:"#4285F4"}),a.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),a.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),a.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]})}function md({l:r,v:o,lc:u,vc:c,extra:v}){return a.jsxs("div",{className:"py-3.5 text-center",children:[a.jsx("p",{className:`text-xs font-semibold uppercase tracking-wider ${u}`,children:r}),a.jsxs("p",{className:`text-lg font-bold tabular-nums mt-0.5 ${c}`,children:[o,v&&a.jsx("span",{className:"text-sm ml-1 text-emerald-400",children:v})]})]})}function xd({n:r,alloc:o,cur:u,pl:c,ath:v,athC:f,up:h,last:d}){return a.jsxs("div",{className:`flex items-center justify-between px-4 py-3 ${d?"":"border-b border-white/[0.03]"}`,children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-slate-300",children:r}),a.jsxs("p",{className:"text-xs text-slate-600",children:["Alloc ",o,"  ",a.jsx("span",{className:f,children:v!=="At ATH"?`${v} below ATH`:v})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-sm font-semibold text-slate-200 tabular-nums",children:u}),a.jsx("p",{className:`text-sm font-semibold tabular-nums ${h?"text-emerald-400":"text-rose-400"}`,children:c})]})]})}function ft({c:r,t:o}){const u={violet:"text-violet-400",cyan:"text-cyan-400",amber:"text-amber-400",emerald:"text-emerald-400"};return a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx(Ei,{size:16,className:`${u[r]} shrink-0`}),a.jsx("span",{className:"text-sm text-slate-300",children:o})]})}function fd({icon:r,t:o,d:u,bg:c,c:v}){const f={emerald:"text-emerald-400",violet:"text-violet-400",amber:"text-amber-400"};return a.jsxs("div",{className:`flex-1 ${c} px-5 sm:px-8 lg:px-10 py-6 sm:py-8 border-b sm:border-b-0 sm:border-r border-white/[0.04] last:border-0`,children:[a.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:`${f[v]} shrink-0`,children:r}),o]}),a.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:u})]})}const ih={violet:["text-violet-400","bg-violet-500/8","border-violet-500/10"],blue:["text-blue-400","bg-blue-500/8","border-blue-500/10"],emerald:["text-emerald-400","bg-emerald-500/8","border-emerald-500/10"],cyan:["text-cyan-400","bg-cyan-500/8","border-cyan-500/10"],rose:["text-rose-400","bg-rose-500/8","border-rose-500/10"],orange:["text-orange-400","bg-orange-500/8","border-orange-500/10"],teal:["text-teal-400","bg-teal-500/8","border-teal-500/10"],red:["text-red-400","bg-red-500/8","border-red-500/10"],yellow:["text-yellow-400","bg-yellow-500/8","border-yellow-500/10"],pink:["text-pink-400","bg-pink-500/8","border-pink-500/10"]};function Wa({icon:r,c:o,t:u,d:c}){const[v,f,h]=ih[o]||ih.violet;return a.jsxs("div",{className:`rounded-xl border ${h} ${f} p-5`,children:[a.jsxs("p",{className:"text-base font-bold text-white flex items-center gap-2",children:[a.jsx("span",{className:`${v} shrink-0`,children:r}),u]}),a.jsx("p",{className:"text-sm text-slate-500 mt-1.5 leading-relaxed",children:c})]})}function D1(){const{isAuthenticated:r,loading:o}=gs();return o?a.jsx(Bd,{}):r?a.jsx(qh,{to:"/dashboard",replace:!0}):a.jsx(Ip,{})}function _p(r){return r>=0?"text-emerald-400":"text-[var(--accent-rose)]"}function Nd(r){return r>=0?"+":""}function R1(){const r=_n(),{selectedMember:o}=mt(),{mfPortfolios:u,mfHoldings:c,stockPortfolios:v,stockHoldings:f,otherInvList:h,liabilityList:d,banks:b,insurancePolicies:x,reminderList:S,goalList:A}=ke(),w=j.useMemo(()=>{const g=(oe,ue)=>o==="all"?oe:oe.filter(Ae=>Ae[ue]===o),y=g(u.filter(oe=>oe.status==="Active"),"ownerId"),N=new Set(y.map(oe=>oe.portfolioId)),R=c.filter(oe=>N.has(oe.portfolioId)&&oe.units>0),k=R.reduce((oe,ue)=>oe+ue.investment,0),_=R.reduce((oe,ue)=>oe+ue.currentValue,0),ee=_-k,$=g(v.filter(oe=>oe.status==="Active"),"ownerId"),F=new Set($.map(oe=>oe.portfolioId)),ce=f.filter(oe=>F.has(oe.portfolioId)),P=ce.reduce((oe,ue)=>oe+ue.totalInvestment,0),le=ce.reduce((oe,ue)=>oe+ue.currentValue,0),re=le-P,D=g(h.filter(oe=>oe.status==="Active"),"familyMemberId"),z=D.reduce((oe,ue)=>oe+ue.investedAmount,0),ie=D.reduce((oe,ue)=>oe+ue.currentValue,0),q=ie-z,O=g(d.filter(oe=>oe.status==="Active"),"familyMemberId"),ne=O.reduce((oe,ue)=>oe+ue.outstandingBalance,0),Q=O.reduce((oe,ue)=>oe+ue.emiAmount,0),xe=g(x.filter(oe=>oe.status==="Active"),"memberId"),I=xe.filter(oe=>oe.policyType==="Term Life"||oe.policyType==="Health").reduce((oe,ue)=>oe+ue.sumAssured,0),T=g(b.filter(oe=>oe.status==="Active"),"memberId"),H=_+le+ie,X=H-ne,K=k+P+z,de=H-K;return{mfCurrentValue:_,mfInvested:k,mfPL:ee,mfCount:y.length,stkCurrentValue:le,stkInvested:P,stkPL:re,stkCount:$.length,otherCurrentValue:ie,otherInvested:z,otherPL:q,otherCount:D.length,totalLiabilities:ne,totalEMI:Q,liabilityCount:O.length,totalCover:I,insuranceCount:xe.length,bankCount:T.length,totalAssets:H,totalInvested:K,totalPL:de,netWorth:X}},[o,u,c,v,f,h,d,b,x]),M=j.useMemo(()=>{const g=[],y=(P,le)=>o==="all"?P:P.filter(re=>re[le]===o),N=y(x.filter(P=>P.status==="Active"),"memberId");N.some(P=>P.policyType==="Term Life")||g.push({type:"critical",title:"Missing Term Life Insurance",badge:"Add Policy"});const k=N.filter(P=>P.policyType==="Health").reduce((P,le)=>P+le.sumAssured,0),_=o==="all"&&y(x,"memberId").length||1;return k<5e5*_&&k>0&&g.push({type:"warning",title:"Inadequate Health Insurance",badge:U(k)}),k===0&&g.push({type:"critical",title:"No Health Insurance",badge:"Add Policy"}),y(A.filter(P=>P.isActive!==!1&&P.goalType==="Emergency Fund"),"familyMemberId").forEach(P=>{const le=P.targetAmount>0?P.currentValue/P.targetAmount*100:0;le<100&&g.push({type:le>=75?"info":"warning",title:`Emergency Fund at ${le.toFixed(0)}%`,badge:U(P.targetAmount-P.currentValue)+" left"})}),y(A.filter(P=>P.isActive!==!1&&P.status==="Needs Attention"),"familyMemberId").forEach(P=>g.push({type:"warning",title:`${P.goalName} needs attention`,badge:P.priority})),y(S.filter(P=>P.isActive!==!1),"familyMemberId").filter(P=>new Date(P.dueDate)-new Date<0).forEach(P=>{const le=Math.ceil((new Date-new Date(P.dueDate))/864e5);g.push({type:"critical",title:P.title,badge:`${le}d overdue`})}),g.slice(0,5)},[o,x,A,S]),p=j.useMemo(()=>{const y=((R,k)=>o==="all"?R:R.filter(_=>_[k]===o))(S.filter(R=>R.isActive!==!1&&R.status!=="Completed"),"familyMemberId"),N=new Date;return y.map(R=>{const k=new Date(R.dueDate)-N,_=Math.ceil(k/(1440*60*1e3)),ee=new Date(R.dueDate).toLocaleDateString("en-IN",{day:"2-digit",month:"short"});return{...R,days:_,dateStr:ee}}).filter(R=>R.days>=0).sort((R,k)=>R.days-k.days).slice(0,5)},[o,S]);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsx("p",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Net Worth"}),a.jsxs("span",{className:`text-xs font-semibold ${_p(w.totalPL)}`,children:[Nd(w.totalPL),U(Math.abs(w.totalPL))," P&L"]})]}),a.jsx("p",{className:"text-2xl font-bold text-[var(--text-primary)] tabular-nums",children:U(w.netWorth)}),a.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-[var(--text-dim)]",children:[a.jsxs("span",{children:["Assets: ",a.jsx("span",{className:"font-semibold text-[var(--text-secondary)]",children:U(w.totalAssets)})]}),a.jsx("span",{className:"w-px h-3 bg-[var(--border)]"}),a.jsxs("span",{children:["Liabilities: ",a.jsx("span",{className:"font-semibold text-[var(--accent-rose)]",children:U(w.totalLiabilities)})]})]}),w.totalAssets>0&&a.jsxs("div",{className:"mt-3 h-2 rounded-full overflow-hidden bg-[var(--bg-inset)] flex",children:[w.mfCurrentValue>0&&a.jsx("div",{className:"bg-violet-500 h-full",style:{width:`${w.mfCurrentValue/w.totalAssets*100}%`}}),w.stkCurrentValue>0&&a.jsx("div",{className:"bg-blue-500 h-full",style:{width:`${w.stkCurrentValue/w.totalAssets*100}%`}}),w.otherCurrentValue>0&&a.jsx("div",{className:"bg-emerald-500 h-full",style:{width:`${w.otherCurrentValue/w.totalAssets*100}%`}})]}),a.jsxs("div",{className:"flex items-center gap-3 mt-1.5 text-xs text-[var(--text-dim)]",children:[w.mfCurrentValue>0&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-violet-500"}),"MF"]}),w.stkCurrentValue>0&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),"Stocks"]}),w.otherCurrentValue>0&&a.jsxs("span",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500"}),"Other"]})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsx(ci,{icon:a.jsx(zi,{size:16}),iconColor:"text-violet-400 bg-violet-500/15",label:"Mutual Funds",value:w.mfCurrentValue,invested:w.mfInvested,pl:w.mfPL,count:w.mfCount,countLabel:"portfolios",onClick:()=>r("/investments/mutual-funds")}),a.jsx(ci,{icon:a.jsx(xs,{size:16}),iconColor:"text-blue-400 bg-blue-500/15",label:"Stocks",value:w.stkCurrentValue,invested:w.stkInvested,pl:w.stkPL,count:w.stkCount,countLabel:"portfolios",onClick:()=>r("/investments/stocks")}),a.jsx(ci,{icon:a.jsx(Ly,{size:16}),iconColor:"text-emerald-400 bg-emerald-500/15",label:"Other Investments",value:w.otherCurrentValue,invested:w.otherInvested,pl:w.otherPL,count:w.otherCount,countLabel:"investments",onClick:()=>r("/investments/other")}),a.jsx(ci,{icon:a.jsx(Ln,{size:16}),iconColor:"text-rose-400 bg-rose-500/15",label:"Liabilities",value:w.totalLiabilities,count:w.liabilityCount,countLabel:"active",emi:w.totalEMI,isLiability:!0,onClick:()=>r("/liabilities")})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"flex-1 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3 cursor-pointer hover:bg-[var(--bg-hover)] transition-colors",onClick:()=>r("/accounts/bank"),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold",children:"Bank Accounts"}),a.jsx(jl,{size:14,className:"text-[var(--text-dim)]"})]}),a.jsx("p",{className:"text-lg font-bold text-[var(--text-primary)] mt-1",children:w.bankCount})]}),a.jsxs("div",{className:"flex-1 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3 cursor-pointer hover:bg-[var(--bg-hover)] transition-colors",onClick:()=>r("/insurance"),children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold",children:"Insurance Cover"}),a.jsx(Fy,{size:14,className:"text-[var(--text-dim)]"})]}),a.jsx("p",{className:"text-lg font-bold text-[var(--text-primary)] mt-1",children:U(w.totalCover)}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[w.insuranceCount," policies"]})]})]}),M.length>0&&a.jsxs("div",{children:[a.jsx("div",{className:"flex items-center justify-between px-1 mb-2",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Action Items"})}),a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:M.map(g=>{const y={critical:"bg-rose-500",warning:"bg-amber-500",info:"bg-blue-500"}[g.type],N={critical:"bg-rose-500/20 text-[var(--accent-rose)]",warning:"bg-amber-500/20 text-[var(--accent-amber)]",info:"bg-blue-500/20 text-[var(--accent-blue)]"}[g.type];return a.jsxs("div",{className:"flex items-center gap-3 py-2 border-b border-[var(--border-light)] last:border-0",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${y}`}),a.jsx("p",{className:"text-sm text-[var(--text-secondary)] flex-1 truncate",children:g.title}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${N}`,children:g.badge})]},g.title)})})]}),p.length>0&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center justify-between px-1 mb-2",children:[a.jsx("h3",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Upcoming"}),a.jsxs("button",{onClick:()=>r("/reminders"),className:"text-xs text-indigo-400 font-semibold flex items-center gap-0.5 hover:text-indigo-300",children:["All",a.jsx(wp,{size:10})]})]}),a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:p.map(g=>a.jsxs("div",{className:"flex items-center justify-between py-2 border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("div",{className:"min-w-0",children:[a.jsx("p",{className:"text-sm text-[var(--text-secondary)] truncate",children:g.title}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:g.dateStr})]}),a.jsxs("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${g.days<=15?"bg-rose-500/20 text-[var(--accent-rose)]":g.days<=30?"bg-amber-500/20 text-[var(--accent-amber)]":"bg-slate-500/20 text-[var(--text-muted)]"}`,children:[g.days,"d"]})]},g.reminderId))})]})]})}function ci({icon:r,iconColor:o,label:u,value:c,invested:v,pl:f,count:h,countLabel:d,emi:b,isLiability:x,onClick:S}){return a.jsxs("div",{onClick:S,className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-3.5 cursor-pointer hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("span",{className:`w-7 h-7 rounded-lg flex items-center justify-center ${o}`,children:r}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)]",children:u})]}),a.jsx("p",{className:"text-base font-bold text-[var(--text-primary)] tabular-nums",children:U(c)}),!x&&f!==void 0&&v>0&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${_p(f)}`,children:[Nd(f),U(Math.abs(f))," (",Nd(f),(f/v*100).toFixed(1),"%)"]}),x&&b>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:["EMI: ",U(b),"/mo"]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:[h," ",d]})]})}function L1(){const r=Jt();return a.jsxs("div",{className:"flex flex-col items-center justify-center py-20 text-center",children:[a.jsx("div",{className:"w-16 h-16 bg-violet-500/15 rounded-2xl flex items-center justify-center mb-4",children:a.jsx(aj,{size:32,className:"text-violet-400"})}),a.jsx("h3",{className:"text-xl font-semibold text-[var(--text-primary)] mb-2",children:"Coming Soon"}),a.jsx("p",{className:"text-[var(--text-muted)] text-sm max-w-sm",children:"This page is under construction. Navigate using the sidebar to explore available sections."}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-3 font-mono",children:r.pathname})]})}const O1=["Savings Account","Current Account","Fixed Deposit (FD)","Recurring Deposit (RD)","NRE Account","NRO Account","Minor Account"].map(r=>({value:r,label:r}));function I1({initial:r,onSave:o,onDelete:u,onCancel:c}){const{activeMembers:v}=ke(),f=!!r,[h,d]=j.useState({accountName:r?.accountName||"",memberId:r?.memberId||"",bankName:r?.bankName||"",accountNumber:r?.accountNumber||"",ifscCode:r?.ifscCode||"",branchName:r?.branchName||"",accountType:r?.accountType||"",status:r?.status||"Active"}),[b,x]=j.useState({});function S(p,g){d(y=>({...y,[p]:g})),x(y=>({...y,[p]:void 0}))}function A(){const p={};return h.accountName.trim()||(p.accountName="Required"),h.memberId||(p.memberId="Required"),h.bankName.trim()||(p.bankName="Required"),h.accountNumber.trim()||(p.accountNumber="Required"),h.ifscCode.trim()||(p.ifscCode="Required"),h.branchName.trim()||(p.branchName="Required"),h.accountType||(p.accountType="Required"),x(p),Object.keys(p).length===0}function w(){A()&&o({...h,ifscCode:h.ifscCode.toUpperCase()})}const M=v.map(p=>({value:p.memberId,label:`${p.memberName} (${p.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Account Name",required:!0,error:b.accountName,children:a.jsx(me,{value:h.accountName,onChange:p=>S("accountName",p),placeholder:"e.g., HDFC Savings"})}),a.jsx(J,{label:"Family Member",required:!0,error:b.memberId,children:a.jsx(je,{value:h.memberId,onChange:p=>S("memberId",p),options:M,placeholder:"Select member..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Bank Name",required:!0,error:b.bankName,children:a.jsx(me,{value:h.bankName,onChange:p=>S("bankName",p),placeholder:"e.g., HDFC Bank"})}),a.jsx(J,{label:"Account Type",required:!0,error:b.accountType,children:a.jsx(je,{value:h.accountType,onChange:p=>S("accountType",p),options:O1,placeholder:"Select type..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Account Number",required:!0,error:b.accountNumber,children:a.jsx(me,{value:h.accountNumber,onChange:p=>S("accountNumber",p),placeholder:"e.g., 1234567890"})}),a.jsx(J,{label:"IFSC Code",required:!0,error:b.ifscCode,children:a.jsx(me,{value:h.ifscCode,onChange:p=>S("ifscCode",p.toUpperCase()),placeholder:"e.g., HDFC0001234",maxLength:11})})]}),a.jsx(J,{label:"Branch Name",required:!0,error:b.branchName,children:a.jsx(me,{value:h.branchName,onChange:p=>S("branchName",p),placeholder:"e.g., Hyderabad - Kondapur"})}),f&&a.jsx(J,{label:"Status",children:a.jsx(je,{value:h.status,onChange:p=>S("status",p),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[f&&u?a.jsx(na,{onClick:u}):a.jsx("div",{}),a.jsx(ht,{onCancel:c,onSubmit:w,submitLabel:f?"Update":"Add Account"})]})]})}const oh={"Savings Account":"bg-blue-500/15 text-[var(--accent-blue)]",Savings:"bg-blue-500/15 text-[var(--accent-blue)]",Salary:"bg-emerald-500/15 text-emerald-400","Current Account":"bg-violet-500/15 text-[var(--accent-violet)]","Fixed Deposit":"bg-amber-500/15 text-[var(--accent-amber)]","Fixed Deposit (FD)":"bg-amber-500/15 text-[var(--accent-amber)]"};function ch(){const{selectedMember:r,member:o}=mt(),{banks:u,addBankAccount:c,updateBankAccount:v,deleteBankAccount:f}=ke(),[h,d]=j.useState(null),b=j.useMemo(()=>{const M=u.filter(p=>p.status!=="Inactive");return r==="all"?M:M.filter(p=>p.memberId===r)},[u,r]),x=j.useMemo(()=>new Set(b.map(M=>M.bankName)).size,[b]),S=j.useMemo(()=>b.filter(M=>M.accountType==="Savings"||M.accountType==="Savings Account"||M.accountType==="Salary").length,[b]);function A(M){h?.edit?v(h.edit.accountId,M):c(M),d(null)}function w(){h?.edit&&confirm("Deactivate this bank account?")&&(f(h.edit.accountId),d(null))}return a.jsxs("div",{className:"space-y-4",children:[b.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Ln,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No bank accounts",o?` for ${o.memberName}`:""]}),a.jsx("button",{onClick:()=>d("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first bank account"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsx(hd,{label:"Total Accounts",value:b.length}),a.jsx(hd,{label:"Banks",value:x}),a.jsx(hd,{label:"Savings / Salary",value:S})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>d("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Vt,{size:14})," Add Account"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[580px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Bank"}),!o&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account No."}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Branch"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:b.map(M=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.accountName})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.bankName}),!o&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:M.memberName}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${oh[M.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.accountType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:M.accountNumber}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:M.branchName}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>d({edit:M}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(sa,{size:12})})})]},M.accountId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(M=>a.jsxs("div",{onClick:()=>d({edit:M}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:M.accountName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${oh[M.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:M.accountType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[M.bankName,o?"":`  ${M.memberName}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:M.accountNumber}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:M.branchName})]})]},M.accountId))})]})]}),a.jsx(We,{open:!!h,onClose:()=>d(null),title:h?.edit?"Edit Bank Account":"Add Bank Account",children:a.jsx(I1,{initial:h?.edit||void 0,onSave:A,onDelete:h?.edit?w:void 0,onCancel:()=>d(null)})})]})}function hd({label:r,value:o}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:r}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:o})]})}const _1=["Demat + Trading","Mutual Fund","Trading","Direct AMC","Broker"].map(r=>({value:r,label:r}));function q1({initial:r,onSave:o,onDelete:u,onCancel:c}){const{activeMembers:v,activeBanks:f}=ke(),h=!!r,[d,b]=j.useState({accountName:r?.accountName||"",memberId:r?.memberId||"",bankAccountId:r?.bankAccountId||"",accountType:r?.accountType||"",platformBroker:r?.platformBroker||"",accountClientId:r?.accountClientId||"",dematDpId:r?.dematDpId||"",registeredEmail:r?.registeredEmail||"",registeredPhone:r?.registeredPhone||"",status:r?.status||"Active"}),[x,S]=j.useState({});function A(N,R){b(k=>({...k,[N]:R})),S(k=>({...k,[N]:void 0}))}function w(N){b(R=>({...R,memberId:N,bankAccountId:""})),S(R=>({...R,memberId:void 0}))}function M(){const N={};return d.accountName.trim()||(N.accountName="Required"),d.memberId||(N.memberId="Required"),d.bankAccountId||(N.bankAccountId="Required"),d.accountType||(N.accountType="Required"),d.platformBroker.trim()||(N.platformBroker="Required"),d.accountClientId.trim()||(N.accountClientId="Required"),d.registeredEmail.trim()||(N.registeredEmail="Required"),d.registeredPhone.trim()||(N.registeredPhone="Required"),S(N),Object.keys(N).length===0}function p(){M()&&o(d)}const g=v.map(N=>({value:N.memberId,label:`${N.memberName} (${N.relationship})`})),y=j.useMemo(()=>d.memberId?f.filter(N=>N.memberId===d.memberId).map(N=>({value:N.accountId,label:`${N.accountName} - ${N.bankName}`})):[],[f,d.memberId]);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Account Name",required:!0,error:x.accountName,children:a.jsx(me,{value:d.accountName,onChange:N=>A("accountName",N),placeholder:"e.g., Zerodha Demat"})}),a.jsx(J,{label:"Family Member",required:!0,error:x.memberId,children:a.jsx(je,{value:d.memberId,onChange:w,options:g,placeholder:"Select member..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Linked Bank Account",required:!0,error:x.bankAccountId,children:a.jsx(je,{value:d.bankAccountId,onChange:N=>A("bankAccountId",N),options:y,placeholder:d.memberId?y.length?"Select bank account...":"No bank accounts for this member":"Select member first..."})}),a.jsx(J,{label:"Account Type",required:!0,error:x.accountType,children:a.jsx(je,{value:d.accountType,onChange:N=>A("accountType",N),options:_1,placeholder:"Select type..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Platform / Broker",required:!0,error:x.platformBroker,children:a.jsx(me,{value:d.platformBroker,onChange:N=>A("platformBroker",N),placeholder:"e.g., Zerodha, Groww"})}),a.jsx(J,{label:"Account / Client ID",required:!0,error:x.accountClientId,children:a.jsx(me,{value:d.accountClientId,onChange:N=>A("accountClientId",N),placeholder:"e.g., ZR1234"})})]}),a.jsx(J,{label:"Demat DP ID",error:x.dematDpId,children:a.jsx(me,{value:d.dematDpId,onChange:N=>A("dematDpId",N),placeholder:"16-digit DP ID (optional)",maxLength:16})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Registered Email",required:!0,error:x.registeredEmail,children:a.jsx(me,{type:"email",value:d.registeredEmail,onChange:N=>A("registeredEmail",N),placeholder:"email@example.com"})}),a.jsx(J,{label:"Registered Phone",required:!0,error:x.registeredPhone,children:a.jsx(me,{value:d.registeredPhone,onChange:N=>A("registeredPhone",N),placeholder:"9876543210"})})]}),h&&a.jsx(J,{label:"Status",children:a.jsx(je,{value:d.status,onChange:N=>A("status",N),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[h&&u?a.jsx(na,{onClick:u}):a.jsx("div",{}),a.jsx(ht,{onCancel:c,onSubmit:p,submitLabel:h?"Update":"Add Account"})]})]})}const dh={"Demat + Trading":"bg-violet-500/15 text-[var(--accent-violet)]","Mutual Fund":"bg-blue-500/15 text-[var(--accent-blue)]",Trading:"bg-orange-500/15 text-[var(--accent-orange)]",Demat:"bg-amber-500/15 text-[var(--accent-amber)]","Direct AMC":"bg-emerald-500/15 text-emerald-400",Broker:"bg-rose-500/15 text-[var(--accent-rose)]"};function H1(){const{selectedMember:r,member:o}=mt(),{investments:u,addInvestmentAccount:c,updateInvestmentAccount:v,deleteInvestmentAccount:f}=ke(),[h,d]=j.useState(null),b=j.useMemo(()=>{const p=u.filter(g=>g.status!=="Inactive");return r==="all"?p:p.filter(g=>g.memberId===r)},[u,r]),x=j.useMemo(()=>new Set(b.map(p=>p.platformBroker)).size,[b]),S=b.filter(p=>p.accountType==="Demat + Trading"||p.accountType==="Demat"||p.accountType==="Trading").length,A=b.filter(p=>p.accountType==="Mutual Fund"||p.accountType==="Direct AMC").length;function w(p){h?.edit?v(h.edit.accountId,p):c(p),d(null)}function M(){h?.edit&&confirm("Deactivate this investment account?")&&(f(h.edit.accountId),d(null))}return a.jsxs("div",{className:"space-y-4",children:[b.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(wi,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No investment accounts",o?` for ${o.memberName}`:""]}),a.jsx("button",{onClick:()=>d("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first investment account"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(di,{label:"Total Accounts",value:b.length}),a.jsx(di,{label:"Platforms",value:x}),a.jsx(di,{label:"Demat / Trading",value:S}),a.jsx(di,{label:"Mutual Fund",value:A})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>d("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Vt,{size:14})," Add Account"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[620px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Account"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Platform"}),!o&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Client ID"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Bank"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:b.map(p=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:p.accountName})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:p.platformBroker}),!o&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:p.memberName}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${dh[p.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:p.accountType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:p.accountClientId}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-dim)]",children:p.bankAccountName}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>d({edit:p}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(sa,{size:12})})})]},p.accountId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(p=>a.jsxs("div",{onClick:()=>d({edit:p}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:p.accountName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${dh[p.accountType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:p.accountType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[p.platformBroker,o?"":`  ${p.memberName}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Client: ",p.accountClientId]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:p.bankAccountName})]})]},p.accountId))})]})]}),a.jsx(We,{open:!!h,onClose:()=>d(null),title:h?.edit?"Edit Investment Account":"Add Investment Account",wide:!0,children:a.jsx(q1,{initial:h?.edit||void 0,onSave:w,onDelete:h?.edit?M:void 0,onCancel:()=>d(null)})})]})}function di({label:r,value:o}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:r}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:o})]})}const B1=["Term Life","Health","Motor","Home Insurance","Travel","Personal Accident","Life Insurance","Others"].map(r=>({value:r,label:r})),U1=[{value:"Active",label:"Active"},{value:"Expired",label:"Expired"},{value:"Surrendered",label:"Surrendered"},{value:"Lapsed",label:"Lapsed"},{value:"Inactive",label:"Inactive"}];function $1({initial:r,onSave:o,onDelete:u,onCancel:c}){const{activeMembers:v}=ke(),f=!!r,[h,d]=j.useState({policyType:r?.policyType||"",company:r?.company||"",policyNumber:r?.policyNumber||"",policyName:r?.policyName||"",insuredMember:r?.insuredMember||"",memberId:r?.memberId||"",sumAssured:r?.sumAssured||"",nominee:r?.nominee||"",premium:r?.premium||"",premiumFrequency:r?.premiumFrequency||"Annual",status:r?.status||"Active",notes:r?.notes||""}),[b,x]=j.useState({});function S(g,y){d(N=>({...N,[g]:y})),x(N=>({...N,[g]:void 0}))}function A(g){const y=v.find(N=>N.memberId===g);d(N=>({...N,memberId:g,insuredMember:y?.memberName||""})),x(N=>({...N,memberId:void 0}))}function w(){const g={};return h.policyType||(g.policyType="Required"),h.company.trim()||(g.company="Required"),h.policyNumber.trim()||(g.policyNumber="Required"),h.policyName.trim()||(g.policyName="Required"),h.memberId||(g.memberId="Required"),(!h.sumAssured||Number(h.sumAssured)<=0)&&(g.sumAssured="Must be > 0"),x(g),Object.keys(g).length===0}function M(){w()&&o({...h,sumAssured:Number(h.sumAssured),premium:Number(h.premium)||0})}const p=v.map(g=>({value:g.memberId,label:`${g.memberName} (${g.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Policy Type",required:!0,error:b.policyType,children:a.jsx(je,{value:h.policyType,onChange:g=>S("policyType",g),options:B1,placeholder:"Select type..."})}),a.jsx(J,{label:"Insurance Company",required:!0,error:b.company,children:a.jsx(me,{value:h.company,onChange:g=>S("company",g),placeholder:"e.g., HDFC Life"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Policy Number",required:!0,error:b.policyNumber,children:a.jsx(me,{value:h.policyNumber,onChange:g=>S("policyNumber",g),placeholder:"e.g., HL-2024-78901"})}),a.jsx(J,{label:"Policy Name",required:!0,error:b.policyName,children:a.jsx(me,{value:h.policyName,onChange:g=>S("policyName",g),placeholder:"e.g., Click 2 Protect Life"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Insured Member",required:!0,error:b.memberId,children:a.jsx(je,{value:h.memberId,onChange:A,options:p,placeholder:"Select member..."})}),a.jsx(J,{label:"Nominee",children:a.jsx(je,{value:h.nominee,onChange:g=>S("nominee",g),options:p.map(g=>({...g,label:g.label.split(" (")[0]})),placeholder:"Select nominee (optional)..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(J,{label:"Sum Assured ()",required:!0,error:b.sumAssured,children:a.jsx(me,{type:"number",value:h.sumAssured,onChange:g=>S("sumAssured",g),placeholder:"e.g., 10000000"})}),a.jsx(J,{label:"Premium ()",children:a.jsx(me,{type:"number",value:h.premium,onChange:g=>S("premium",g),placeholder:"e.g., 12500"})}),a.jsx(J,{label:"Premium Frequency",children:a.jsx(je,{value:h.premiumFrequency,onChange:g=>S("premiumFrequency",g),options:[{value:"Annual",label:"Annual"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"}]})})]}),f&&a.jsx(J,{label:"Status",children:a.jsx(je,{value:h.status,onChange:g=>S("status",g),options:U1})}),a.jsx(J,{label:"Notes",children:a.jsx(hs,{value:h.notes,onChange:g=>S("notes",g),placeholder:"Additional information..."})}),a.jsxs("div",{className:"flex items-center justify-between",children:[f&&u?a.jsx(na,{onClick:u}):a.jsx("div",{}),a.jsx(ht,{onCancel:c,onSubmit:M,submitLabel:f?"Update":"Add Policy"})]})]})}const uh={"Term Life":"bg-rose-500/15 text-[var(--accent-rose)]",Health:"bg-emerald-500/15 text-emerald-400",Motor:"bg-blue-500/15 text-[var(--accent-blue)]","Home Insurance":"bg-amber-500/15 text-[var(--accent-amber)]",Travel:"bg-violet-500/15 text-[var(--accent-violet)]","Life Insurance":"bg-rose-500/15 text-[var(--accent-rose)]","Personal Accident":"bg-orange-500/15 text-[var(--accent-orange)]"};function P1(){const{selectedMember:r,member:o}=mt(),{insurancePolicies:u,addInsurance:c,updateInsurance:v,deleteInsurance:f}=ke(),[h,d]=j.useState(null),b=j.useMemo(()=>{const g=u.filter(y=>y.status!=="Inactive");return r==="all"?g:g.filter(y=>y.memberId===r)},[u,r]),x=b.reduce((g,y)=>g+(y.sumAssured||0),0),S=b.reduce((g,y)=>g+(y.premium||0),0),A=b.filter(g=>g.policyType==="Term Life"||g.policyType==="Life Insurance").reduce((g,y)=>g+(y.sumAssured||0),0),w=b.filter(g=>g.policyType==="Health").reduce((g,y)=>g+(y.sumAssured||0),0);function M(g){h?.edit?v(h.edit.policyId,g):c(g),d(null)}function p(){h?.edit&&confirm("Deactivate this insurance policy?")&&(f(h.edit.policyId),d(null))}return a.jsxs("div",{className:"space-y-4",children:[b.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(yl,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No insurance policies",o?` for ${o.memberName}`:""]}),a.jsx("button",{onClick:()=>d("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first policy"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(jn,{label:"Policies",value:b.length}),a.jsx(jn,{label:"Total Cover",value:U(x),bold:!0}),a.jsx(jn,{label:"Life Cover",value:U(A)}),a.jsx(jn,{label:"Health Cover",value:U(w)}),a.jsx(jn,{label:"Annual Premium",value:U(S)})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>d("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Vt,{size:14})," Add Policy"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Policy"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Company"}),!o&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Insured"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Sum Assured"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Premium"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:b.map(g=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:g.policyName}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:g.policyNumber})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${uh[g.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:g.policyType})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:g.company}),!o&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:g.insuredMember}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:U(g.sumAssured)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:[U(g.premium),"/",g.premiumFrequency==="Annual"?"yr":"mo"]}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>d({edit:g}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(sa,{size:12})})})]},g.policyId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(g=>a.jsxs("div",{onClick:()=>d({edit:g}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:g.policyName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${uh[g.policyType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:g.policyType})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[g.company,o?"":`  ${g.insuredMember}`]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Cover"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:U(g.sumAssured)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Premium"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:[U(g.premium),"/",g.premiumFrequency==="Annual"?"yr":"mo"]})]})]})]},g.policyId))})]})]}),a.jsx(We,{open:!!h,onClose:()=>d(null),title:h?.edit?"Edit Insurance Policy":"Add Insurance Policy",wide:!0,children:a.jsx($1,{initial:h?.edit||void 0,onSave:M,onDelete:h?.edit?p:void 0,onCancel:()=>d(null)})})]})}function jn({label:r,value:o,bold:u}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:r}),a.jsx("p",{className:`text-sm tabular-nums ${u?"font-bold":"font-semibold"} text-[var(--text-primary)]`,children:o})]})}const F1=["Home Loan","Car Loan","Personal Loan","Education Loan","Gold Loan","Credit Card","Business Loan","Loan Against Property","Other"].map(r=>({value:r,label:r})),G1=[{value:"Active",label:"Active"},{value:"Closed",label:"Closed"},{value:"Inactive",label:"Inactive"}];function V1({initial:r,onSave:o,onDelete:u,onCancel:c}){const{activeMembers:v}=ke(),f=!!r,[h,d]=j.useState({liabilityType:r?.liabilityType||"",lenderName:r?.lenderName||"",familyMemberId:r?.familyMemberId||"",outstandingBalance:r?.outstandingBalance||"",emiAmount:r?.emiAmount||"",interestRate:r?.interestRate||"",status:r?.status||"Active",notes:r?.notes||""}),[b,x]=j.useState({});function S(p,g){d(y=>({...y,[p]:g})),x(y=>({...y,[p]:void 0}))}function A(){const p={};return h.liabilityType||(p.liabilityType="Required"),h.lenderName.trim()||(p.lenderName="Required"),(!h.outstandingBalance||Number(h.outstandingBalance)<=0)&&(p.outstandingBalance="Must be > 0"),x(p),Object.keys(p).length===0}function w(){A()&&o({...h,outstandingBalance:Number(h.outstandingBalance),emiAmount:Number(h.emiAmount)||0,interestRate:Number(h.interestRate)||0})}const M=v.map(p=>({value:p.memberId,label:`${p.memberName} (${p.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Liability Type",required:!0,error:b.liabilityType,children:a.jsx(je,{value:h.liabilityType,onChange:p=>S("liabilityType",p),options:F1,placeholder:"Select type..."})}),a.jsx(J,{label:"Lender / Bank",required:!0,error:b.lenderName,children:a.jsx(me,{value:h.lenderName,onChange:p=>S("lenderName",p),placeholder:"e.g., HDFC Bank"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Family Member",children:a.jsx(je,{value:h.familyMemberId,onChange:p=>S("familyMemberId",p),options:M,placeholder:"Select member (optional)..."})}),a.jsx(J,{label:"Outstanding Balance ()",required:!0,error:b.outstandingBalance,children:a.jsx(me,{type:"number",value:h.outstandingBalance,onChange:p=>S("outstandingBalance",p),placeholder:"e.g., 3500000"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"EMI Amount ()",children:a.jsx(me,{type:"number",value:h.emiAmount,onChange:p=>S("emiAmount",p),placeholder:"e.g., 32000"})}),a.jsx(J,{label:"Interest Rate (%)",children:a.jsx(me,{type:"number",value:h.interestRate,onChange:p=>S("interestRate",p),placeholder:"e.g., 8.5",step:"0.01"})})]}),f&&a.jsx(J,{label:"Status",children:a.jsx(je,{value:h.status,onChange:p=>S("status",p),options:G1})}),a.jsx(J,{label:"Notes",children:a.jsx(hs,{value:h.notes,onChange:p=>S("notes",p),placeholder:"e.g., Flat in Kondapur"})}),a.jsxs("div",{className:"flex items-center justify-between",children:[f&&u?a.jsx(na,{onClick:u}):a.jsx("div",{}),a.jsx(ht,{onCancel:c,onSubmit:w,submitLabel:f?"Update":"Add Liability"})]})]})}const mh={"Home Loan":"bg-blue-500/15 text-[var(--accent-blue)]","Car Loan":"bg-amber-500/15 text-[var(--accent-amber)]","Gold Loan":"bg-orange-500/15 text-[var(--accent-orange)]","Personal Loan":"bg-violet-500/15 text-[var(--accent-violet)]","Education Loan":"bg-emerald-500/15 text-emerald-400","Credit Card":"bg-rose-500/15 text-[var(--accent-rose)]"};function Y1(){const{selectedMember:r,member:o}=mt(),{liabilityList:u,addLiability:c,updateLiability:v,deleteLiability:f}=ke(),[h,d]=j.useState(null),b=j.useMemo(()=>{const p=u.filter(g=>g.status!=="Inactive");return r==="all"?p:p.filter(g=>g.familyMemberId===r)},[u,r]),x=b.reduce((p,g)=>p+(g.outstandingBalance||0),0),S=b.reduce((p,g)=>p+(g.emiAmount||0),0),A=b.filter(p=>p.status==="Active").length;function w(p){h?.edit?v(h.edit.liabilityId,p):c(p),d(null)}function M(){h?.edit&&confirm("Deactivate this liability?")&&(f(h.edit.liabilityId),d(null))}return a.jsxs("div",{className:"space-y-4",children:[b.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Rn,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No liabilities",o?` for ${o.memberName}`:""]}),a.jsx("button",{onClick:()=>d("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a liability"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(ui,{label:"Liabilities",value:`${A} active`}),a.jsx(ui,{label:"Outstanding",value:U(x),color:"rose",bold:!0}),a.jsx(ui,{label:"Monthly EMI",value:U(S),color:"rose"}),a.jsx(ui,{label:"Avg. Interest",value:b.length>0?`${(b.reduce((p,g)=>p+(g.interestRate||0),0)/b.length).toFixed(1)}%`:""})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>d("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Vt,{size:14})," Add Liability"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[640px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Lender"}),!o&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Outstanding"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"EMI"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Interest"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:b.map(p=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${mh[p.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:p.liabilityType}),p.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:p.notes})]}),a.jsx("td",{className:"py-2.5 px-3 text-sm font-medium text-[var(--text-primary)]",children:p.lenderName}),!o&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:p.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:U(p.outstandingBalance)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:p.emiAmount?`${U(p.emiAmount)}/mo`:""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:p.interestRate?`${p.interestRate}%`:""}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>d({edit:p}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(sa,{size:12})})})]},p.liabilityId))})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:b.map(p=>a.jsxs("div",{onClick:()=>d({edit:p}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${mh[p.liabilityType]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:p.liabilityType}),a.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:U(p.outstandingBalance)})]}),a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:p.lenderName}),a.jsxs("div",{className:"flex items-center justify-between mt-1",children:[a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[p.familyMemberName,p.notes?`  ${p.notes}`:""]}),p.emiAmount>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["EMI: ",U(p.emiAmount),"/mo"]})]})]},p.liabilityId))})]})]}),a.jsx(We,{open:!!h,onClose:()=>d(null),title:h?.edit?"Edit Liability":"Add Liability",children:a.jsx(V1,{initial:h?.edit||void 0,onSave:w,onDelete:h?.edit?M:void 0,onCancel:()=>d(null)})})]})}function ui({label:r,value:o,color:u,bold:c}){const v=u==="rose"?"text-[var(--accent-rose)]":"text-[var(--text-primary)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:r}),a.jsx("p",{className:`text-sm tabular-nums ${c?"font-bold":"font-semibold"} ${v}`,children:o})]})}const qp=[{value:"Fixed Deposit",category:"Debt"},{value:"PPF",category:"Debt"},{value:"EPF",category:"Debt"},{value:"NPS",category:"Debt"},{value:"Sovereign Gold Bond",category:"Gold"},{value:"Physical Gold",category:"Gold"},{value:"Digital Gold",category:"Gold"},{value:"Real Estate",category:"Property"},{value:"Bonds",category:"Debt"},{value:"Crypto",category:"Alternative"},{value:"Other",category:"Other"}],xh={"Real Estate":"Home Loan","Physical Gold":"Gold Loan","Sovereign Gold Bond":"Gold Loan","Fixed Deposit":"Loan Against FD"},Q1=qp.map(r=>({value:r.value,label:r.value})),X1=["Equity","Debt","Gold","Property","Alternative","Other"].map(r=>({value:r,label:r})),Z1=[{value:"Active",label:"Active"},{value:"Sold",label:"Sold"},{value:"Matured",label:"Matured"},{value:"Inactive",label:"Inactive"}];function K1({initial:r,onSave:o,onDelete:u,onCancel:c}){const{activeMembers:v,liabilityList:f}=ke(),h=!!r;function d(P){return qp.find(le=>le.value===P)?.category||"Other"}const[b,x]=j.useState({investmentType:r?.investmentType||"",investmentCategory:r?.investmentCategory||"",investmentName:r?.investmentName||"",familyMemberId:r?.familyMemberId||"",investedAmount:r?.investedAmount||"",currentValue:r?.currentValue||"",linkedLiabilityId:r?.linkedLiabilityId||"",status:r?.status||"Active",notes:r?.notes||""}),[S,A]=j.useState(!1),[w,M]=j.useState({lenderName:"",outstandingBalance:"",emiAmount:"",interestRate:""}),[p,g]=j.useState({});function y(P,le){x(re=>({...re,[P]:le})),g(re=>({...re,[P]:void 0}))}function N(P){x(le=>({...le,investmentType:P,investmentCategory:d(P)})),g(le=>({...le,investmentType:void 0}))}function R(P,le){M(re=>({...re,[P]:le}))}function k(){const P={};return b.investmentType||(P.investmentType="Required"),b.investmentName.trim()||(P.investmentName="Required"),(!b.currentValue||Number(b.currentValue)<0)&&(P.currentValue="Required"),S&&(w.lenderName.trim()||(P.qlLender="Required"),(!w.outstandingBalance||Number(w.outstandingBalance)<=0)&&(P.qlOutstanding="Must be > 0")),g(P),Object.keys(P).length===0}function _(){if(!k())return;const P={...b,investedAmount:Number(b.investedAmount)||0,currentValue:Number(b.currentValue)||0};S&&w.lenderName&&(P.quickLoan={liabilityType:xh[b.investmentType]||"Personal Loan",lenderName:w.lenderName,outstandingBalance:Number(w.outstandingBalance)||0,emiAmount:Number(w.emiAmount)||0,interestRate:Number(w.interestRate)||0}),o(P)}const ee=f.filter(P=>P.status!=="Inactive"),$=[{value:"",label:"None"},...ee.map(P=>({value:P.liabilityId,label:`${P.liabilityType}  ${P.lenderName} (${U(P.outstandingBalance)})`}))],F=v.map(P=>({value:P.memberId,label:`${P.memberName} (${P.relationship})`})),ce=xh[b.investmentType];return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Investment Type",required:!0,error:p.investmentType,children:a.jsx(je,{value:b.investmentType,onChange:N,options:Q1,placeholder:"Select type..."})}),a.jsx(J,{label:"Category",children:a.jsx(je,{value:b.investmentCategory,onChange:P=>y("investmentCategory",P),options:X1,placeholder:"Auto-selected..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Investment Name",required:!0,error:p.investmentName,children:a.jsx(me,{value:b.investmentName,onChange:P=>y("investmentName",P),placeholder:"e.g., HDFC FD - 7.5%"})}),a.jsx(J,{label:"Family Member",children:a.jsx(je,{value:b.familyMemberId,onChange:P=>y("familyMemberId",P),options:F,placeholder:"Select member (optional)..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Invested Amount",children:a.jsx(me,{type:"number",value:b.investedAmount,onChange:P=>y("investedAmount",P),placeholder:"e.g., 500000"})}),a.jsx(J,{label:"Current Value",required:!0,error:p.currentValue,children:a.jsx(me,{type:"number",value:b.currentValue,onChange:P=>y("currentValue",P),placeholder:"e.g., 537500"})})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-4",children:[a.jsx(J,{label:"Linked Loan / Liability",children:a.jsx(je,{value:b.linkedLiabilityId,onChange:P=>{y("linkedLiabilityId",P),P&&A(!1)},options:$})}),!b.linkedLiabilityId&&!h&&a.jsx("div",{className:"mt-2",children:a.jsx("button",{type:"button",onClick:()=>A(!S),className:"text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:S?" Cancel quick loan":`+ Create new loan${ce?` (${ce})`:""}`})}),S&&a.jsxs("div",{className:"mt-3 p-3 bg-[var(--bg-inset)] rounded-lg space-y-3",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-muted)] uppercase tracking-wider",children:"Quick Loan"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(J,{label:"Lender",required:!0,error:p.qlLender,children:a.jsx(me,{value:w.lenderName,onChange:P=>R("lenderName",P),placeholder:"e.g., HDFC Bank"})}),a.jsx(J,{label:"Outstanding Balance",required:!0,error:p.qlOutstanding,children:a.jsx(me,{type:"number",value:w.outstandingBalance,onChange:P=>R("outstandingBalance",P),placeholder:"e.g., 3500000"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[a.jsx(J,{label:"EMI (monthly)",children:a.jsx(me,{type:"number",value:w.emiAmount,onChange:P=>R("emiAmount",P),placeholder:"e.g., 32000"})}),a.jsx(J,{label:"Interest Rate %",children:a.jsx(me,{type:"number",value:w.interestRate,onChange:P=>R("interestRate",P),placeholder:"e.g., 8.5"})})]})]})]}),h&&a.jsx(J,{label:"Status",children:a.jsx(je,{value:b.status,onChange:P=>y("status",P),options:Z1})}),a.jsx(J,{label:"Notes",children:a.jsx(hs,{value:b.notes,onChange:P=>y("notes",P),placeholder:"Additional information..."})}),a.jsxs("div",{className:"flex items-center justify-between",children:[h&&u?a.jsx(na,{onClick:u}):a.jsx("div",{}),a.jsx(ht,{onCancel:c,onSubmit:_,submitLabel:h?"Update":"Add Investment"})]})]})}const fh={Debt:"bg-blue-500/15 text-[var(--accent-blue)]",Gold:"bg-amber-500/15 text-[var(--accent-amber)]",Property:"bg-orange-500/15 text-[var(--accent-orange)]",Equity:"bg-emerald-500/15 text-emerald-400",Alternative:"bg-violet-500/15 text-[var(--accent-violet)]"};function J1(){const{selectedMember:r,member:o}=mt(),{otherInvList:u,liabilityList:c,addOtherInvestment:v,updateOtherInvestment:f,deleteOtherInvestment:h}=ke(),[d,b]=j.useState(null),x=j.useMemo(()=>{const k=u.filter(_=>_.status!=="Inactive");return r==="all"?k:k.filter(_=>_.familyMemberId===r)},[u,r]),S=x.reduce((k,_)=>k+(_.investedAmount||0),0),A=x.reduce((k,_)=>k+(_.currentValue||0),0),w=A-S,M=w>=0,p=S>0?w/S*100:0,g=j.useMemo(()=>{const k={};return c.forEach(_=>{k[_.liabilityId]=_}),k},[c]),y=x.reduce((k,_)=>{const ee=_.linkedLiabilityId?g[_.linkedLiabilityId]:null;return k+(ee?.outstandingBalance||0)},0);function N(k){d?.edit?f(d.edit.investmentId,k):v(k),b(null)}function R(){d?.edit&&confirm("Deactivate this investment?")&&(h(d.edit.investmentId),b(null))}return a.jsxs("div",{className:"space-y-4",children:[x.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Ep,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No other investments",o?` for ${o.memberName}`:""]}),a.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add an investment"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(Nn,{label:"Invested",value:U(S)}),a.jsx(Nn,{label:"Current Value",value:U(A),bold:!0}),a.jsx(Nn,{label:"P&L",value:`${M?"+":""}${U(Math.abs(w))}`,sub:`${M?"+":""}${p.toFixed(1)}%`,positive:M,bold:!0}),y>0&&a.jsx(Nn,{label:"Linked Loans",value:U(y),color:"rose"}),a.jsx(Nn,{label:"Holdings",value:x.length})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Vt,{size:14})," Add Investment"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[720px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Investment"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Category"}),!o&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Linked Loan"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:x.map(k=>{const _=(k.currentValue||0)-(k.investedAmount||0),ee=_>=0,$=k.linkedLiabilityId?g[k.linkedLiabilityId]:null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:k.investmentName}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:k.investmentType})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${fh[k.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.investmentCategory})}),!o&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:k.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:U(k.investedAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:U(k.currentValue)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${ee?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ee?"+":"",U(_)]})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:$?a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:U($.outstandingBalance)}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:$.liabilityType})]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>b({edit:k}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(sa,{size:12})})})]},k.investmentId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:x.map(k=>{const _=(k.currentValue||0)-(k.investedAmount||0),ee=_>=0,$=k.linkedLiabilityId?g[k.linkedLiabilityId]:null;return a.jsxs("div",{onClick:()=>b({edit:k}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:k.investmentName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${fh[k.investmentCategory]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:k.investmentCategory})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[k.familyMemberName,"  ",k.investmentType]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Invested"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:U(k.investedAmount)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Current"}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:U(k.currentValue)})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"P&L"}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ee?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ee?"+":"",U(_)]})]})]}),$&&a.jsxs("div",{className:"mt-1.5 flex items-center justify-between bg-rose-500/5 rounded px-2 py-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:$.liabilityType}),a.jsx("span",{className:"text-xs font-semibold text-[var(--accent-rose)] tabular-nums",children:U($.outstandingBalance)})]})]},k.investmentId)})})]})]}),a.jsx(We,{open:!!d,onClose:()=>b(null),title:d?.edit?"Edit Investment":"Add Investment",wide:!0,children:a.jsx(K1,{initial:d?.edit||void 0,onSave:N,onDelete:d?.edit?R:void 0,onCancel:()=>b(null)})})]})}function Nn({label:r,value:o,sub:u,positive:c,bold:v,color:f}){const h=f==="rose"?"text-[var(--accent-rose)]":c===void 0?"text-[var(--text-primary)]":c?"text-emerald-400":"text-[var(--accent-rose)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:r}),a.jsx("p",{className:`text-sm tabular-nums ${v?"font-bold":"font-semibold"} ${h}`,children:o}),u&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${c?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:u})]})}function W1({initial:r,onSave:o,onDelete:u,onCancel:c}){const{activeMembers:v,activeInvestmentAccounts:f}=ke(),h=!!r,[d,b]=j.useState({portfolioName:r?.portfolioName||"",investmentAccountId:r?.investmentAccountId||"",ownerId:r?.ownerId||"",initialInvestment:r?.initialInvestment||0,sipTarget:r?.sipTarget||"",lumpsumTarget:r?.lumpsumTarget||"",rebalanceThreshold:r?r.rebalanceThreshold*100:5}),[x,S]=j.useState({});function A(N,R){b(k=>({...k,[N]:R})),S(k=>({...k,[N]:void 0}))}function w(N){b(R=>({...R,ownerId:N,investmentAccountId:""})),S(R=>({...R,ownerId:void 0}))}const M=f.filter(N=>d.ownerId?N.memberId===d.ownerId:!0).filter(N=>N.accountType==="Mutual Fund"||N.accountType==="Direct AMC").map(N=>({value:N.accountId,label:`${N.accountName} - ${N.platformBroker}`})),p=v.map(N=>({value:N.memberId,label:`${N.memberName} (${N.relationship})`}));function g(){const N={};return d.portfolioName.trim()||(N.portfolioName="Required"),d.ownerId||(N.ownerId="Required"),d.investmentAccountId||(N.investmentAccountId="Required"),S(N),Object.keys(N).length===0}function y(){g()&&o({...d,initialInvestment:Number(d.initialInvestment)||0,sipTarget:Number(d.sipTarget)||0,lumpsumTarget:Number(d.lumpsumTarget)||0,rebalanceThreshold:Number(d.rebalanceThreshold)/100})}return a.jsxs("div",{className:"space-y-4",children:[a.jsx(J,{label:"Portfolio Name",required:!0,error:x.portfolioName,children:a.jsx(me,{value:d.portfolioName,onChange:N=>A("portfolioName",N),placeholder:"e.g., Long Term Wealth"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Owner",required:!0,error:x.ownerId,children:a.jsx(je,{value:d.ownerId,onChange:w,options:p,placeholder:"Select member..."})}),a.jsx(J,{label:"Investment Account",required:!0,error:x.investmentAccountId,children:a.jsx(je,{value:d.investmentAccountId,onChange:N=>A("investmentAccountId",N),options:M,placeholder:d.ownerId?M.length?"Select account...":"No MF accounts":"Select owner first..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(J,{label:"SIP Target (/month)",children:a.jsx(me,{type:"number",value:d.sipTarget,onChange:N=>A("sipTarget",N),placeholder:"e.g., 50000"})}),a.jsx(J,{label:"Lumpsum Target ()",children:a.jsx(me,{type:"number",value:d.lumpsumTarget,onChange:N=>A("lumpsumTarget",N),placeholder:"e.g., 200000"})}),a.jsx(J,{label:"Rebalance Threshold (%)",children:a.jsx(me,{type:"number",value:d.rebalanceThreshold,onChange:N=>A("rebalanceThreshold",N),placeholder:"e.g., 5"})})]}),!h&&a.jsx(J,{label:"Initial Investment ()",children:a.jsx(me,{type:"number",value:d.initialInvestment,onChange:N=>A("initialInvestment",N),placeholder:"0 if unknown"})}),a.jsxs("div",{className:"flex items-center justify-between",children:[h&&u?a.jsx(na,{onClick:u}):a.jsx("div",{}),a.jsx(ht,{onCancel:c,onSubmit:y,submitLabel:h?"Update":"Create Portfolio"})]})]})}function Ud({value:r,onSelect:o,placeholder:u,disabled:c}){const[v,f]=j.useState(""),[h,d]=j.useState([]),[b,x]=j.useState(!1),S=j.useRef(null);j.useEffect(()=>{function p(g){S.current&&!S.current.contains(g.target)&&x(!1)}return document.addEventListener("mousedown",p),()=>document.removeEventListener("mousedown",p)},[]);function A(p){f(p),p.length>=2?(d(u1(p)),x(!0)):(d([]),x(!1))}function w(p){o({schemeCode:p.schemeCode,fundName:p.fundName}),f(""),d([]),x(!1)}function M(){o({schemeCode:"",fundName:""}),f("")}return r?.fundName?a.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg px-3 py-2",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate",children:r.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Code: ",r.schemeCode]})]}),a.jsx("button",{type:"button",onClick:M,className:"shrink-0 p-1 rounded-md hover:bg-[var(--bg-hover)] text-[var(--text-dim)] hover:text-[var(--text-secondary)] transition-colors",children:a.jsx(Hd,{size:14})})]}):a.jsxs("div",{ref:S,className:"relative",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Gj,{size:14,className:"absolute left-3 top-1/2 -translate-y-1/2 text-[var(--text-dim)]"}),a.jsx("input",{type:"text",value:v,onChange:p=>A(p.target.value),onFocus:()=>v.length>=2&&x(!0),placeholder:u||"Search fund name, code, or category...",disabled:c,className:"w-full bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg pl-9 pr-3 py-2 text-sm text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-violet-500/50 disabled:opacity-50 transition-colors"})]}),b&&h.length>0&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl max-h-[240px] overflow-y-auto",children:h.map(p=>a.jsxs("button",{type:"button",onClick:()=>w(p),className:"w-full text-left px-3 py-2.5 hover:bg-[var(--bg-hover)] transition-colors border-b border-[var(--border-light)] last:border-0",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:p.fundName}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:p.schemeCode}),a.jsx("span",{className:"text-xs font-semibold text-violet-400/70 bg-violet-500/10 px-1.5 py-0.5 rounded",children:p.category}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:p.amc})]})]},p.schemeCode))}),b&&v.length>=2&&h.length===0&&a.jsx("div",{className:"absolute left-0 right-0 top-full mt-1 z-50 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl p-4 text-center",children:a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:['No funds found for "',v,'"']})})]})}const eN=[{value:"INITIAL",label:"Add Existing Holdings"},{value:"SIP",label:"SIP Investment"},{value:"LUMPSUM",label:"Lumpsum Investment"}];function tN({portfolioId:r,transactionType:o,onSave:u,onCancel:c}){const{mfPortfolios:v,mfHoldings:f}=ke(),{selectedMember:h}=mt(),d=j.useMemo(()=>{const _=v.filter(ee=>ee.status==="Active");return h==="all"?_:_.filter(ee=>ee.ownerId===h)},[v,h]),[b,x]=j.useState({portfolioId:r||"",fundCode:"",fundName:"",transactionType:o||"SIP",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[S,A]=j.useState({});function w(_,ee){x($=>({...$,[_]:ee})),A($=>({...$,[_]:void 0}))}function M({schemeCode:_,fundName:ee}){x($=>({...$,fundCode:_,fundName:ee})),A($=>({...$,fundCode:void 0,fundName:void 0}))}const p=j.useMemo(()=>!b.portfolioId||!b.fundCode?null:f.find(_=>_.portfolioId===b.portfolioId&&_.schemeCode===b.fundCode),[f,b.portfolioId,b.fundCode]),g=b.fundCode&&!p,y=j.useMemo(()=>(Number(b.units)||0)*(Number(b.price)||0),[b.units,b.price]);function N(){const _={};return b.portfolioId||(_.portfolioId="Required"),b.fundCode||(_.fundCode="Select a fund"),b.date||(_.date="Required"),(!b.units||Number(b.units)<=0)&&(_.units="Must be > 0"),(!b.price||Number(b.price)<=0)&&(_.price="Must be > 0"),A(_),Object.keys(_).length===0}function R(){N()&&u(b)}const k=d.map(_=>({value:_.portfolioId,label:`${_.portfolioName} (${_.ownerName})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Portfolio",required:!0,error:S.portfolioId,children:a.jsx(je,{value:b.portfolioId,onChange:_=>w("portfolioId",_),options:k,placeholder:"Select portfolio..."})}),a.jsx(J,{label:"Transaction Type",required:!0,children:a.jsx(je,{value:b.transactionType,onChange:_=>w("transactionType",_),options:eN})})]}),a.jsx(J,{label:"Fund",required:!0,error:S.fundCode,children:a.jsx(Ud,{value:b.fundCode?{schemeCode:b.fundCode,fundName:b.fundName}:null,onSelect:M,placeholder:"Search fund by name, code, or category..."})}),p&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  will average out"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:p.units.toFixed(2)})," units @ ",p.avgNav.toFixed(2)," avg NAV | Value: ",U(p.currentValue),p.targetAllocationPct>0&&a.jsxs("span",{children:["  Target: ",p.targetAllocationPct.toFixed(1),"%"]})]})]}),g&&a.jsxs("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:[a.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"}),a.jsx("p",{className:"text-xs text-violet-300/70 mt-0.5",children:"Use Allocations to plan how much to invest before buying"})]}),a.jsx(J,{label:"Date",required:!0,error:S.date,children:a.jsx(me,{type:"date",value:b.date,onChange:_=>w("date",_)})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Units",required:!0,error:S.units,children:a.jsx(me,{type:"number",value:b.units,onChange:_=>w("units",_),placeholder:"e.g., 150.50"})}),a.jsx(J,{label:"NAV ( per unit)",required:!0,error:S.price,children:a.jsx(me,{type:"number",value:b.price,onChange:_=>w("price",_),placeholder:"e.g., 178.45"})})]}),y>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:U(y)}),p&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:["New avg NAV: ",((p.investment+y)/(p.units+Number(b.units))).toFixed(2)," Total units: ",(p.units+Number(b.units)).toFixed(2)]})]}),a.jsx(J,{label:"Notes",children:a.jsx(me,{value:b.notes,onChange:_=>w("notes",_),placeholder:"Optional notes..."})}),a.jsx(ht,{onCancel:c,onSubmit:R,submitLabel:b.transactionType==="SIP"?"Record SIP":b.transactionType==="LUMPSUM"?"Record Lumpsum":"Add Holdings"})]})}function aN({portfolioId:r,onSave:o,onCancel:u}){const{mfPortfolios:c,mfHoldings:v}=ke(),{selectedMember:f}=mt(),h=j.useMemo(()=>{const $=c.filter(F=>F.status==="Active");return f==="all"?$:$.filter(F=>F.ownerId===f)},[c,f]),[d,b]=j.useState({portfolioId:r||"",fundCode:"",fundName:"",date:new Date().toISOString().split("T")[0],units:"",price:"",notes:""}),[x,S]=j.useState({});function A($,F){b(ce=>({...ce,[$]:F})),S(ce=>({...ce,[$]:void 0}))}const w=j.useMemo(()=>d.portfolioId?v.filter($=>$.portfolioId===d.portfolioId&&$.units>0):[],[v,d.portfolioId]),M=w.find($=>$.schemeCode===d.fundCode);function p($){const F=w.find(ce=>ce.schemeCode===$);b(ce=>({...ce,fundCode:$,fundName:F?.fundName||"",price:F?.currentNav?.toString()||""})),S(ce=>({...ce,fundCode:void 0}))}function g($){b(F=>({...F,portfolioId:$,fundCode:"",fundName:"",units:"",price:""})),S(F=>({...F,portfolioId:void 0}))}const y=j.useMemo(()=>(Number(d.units)||0)*(Number(d.price)||0),[d.units,d.price]),N=M?y-Number(d.units)*M.avgNav:0;function R(){const $={};return d.portfolioId||($.portfolioId="Required"),d.fundCode||($.fundCode="Required"),d.date||($.date="Required"),(!d.units||Number(d.units)<=0)&&($.units="Must be > 0"),M&&Number(d.units)>M.units&&($.units=`Max ${M.units.toFixed(2)} units`),(!d.price||Number(d.price)<=0)&&($.price="Must be > 0"),S($),Object.keys($).length===0}function k(){R()&&o(d)}const _=h.map($=>({value:$.portfolioId,label:`${$.portfolioName} (${$.ownerName})`})),ee=w.map($=>({value:$.schemeCode,label:`${$.fundName}`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(J,{label:"Portfolio",required:!0,error:x.portfolioId,children:a.jsx(je,{value:d.portfolioId,onChange:g,options:_,placeholder:"Select portfolio..."})}),a.jsx(J,{label:"Fund to Redeem",required:!0,error:x.fundCode,children:a.jsx(je,{value:d.fundCode,onChange:p,options:ee,placeholder:d.portfolioId?w.length?"Select fund...":"No holdings":"Select portfolio first..."})}),M&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:M.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:M.units.toFixed(2)})," units @ ",M.avgNav.toFixed(2)," avg | Current NAV: ",M.currentNav.toFixed(2)]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Redemption Date",required:!0,error:x.date,children:a.jsx(me,{type:"date",value:d.date,onChange:$=>A("date",$)})}),a.jsx(J,{label:"Units to Redeem",required:!0,error:x.units,children:a.jsx(me,{type:"number",value:d.units,onChange:$=>A("units",$),placeholder:M?`Max: ${M.units.toFixed(2)}`:""})})]}),a.jsx(J,{label:"Redemption NAV ()",required:!0,error:x.price,children:a.jsx(me,{type:"number",value:d.price,onChange:$=>A("price",$),placeholder:"e.g., 178.45"})}),y>0&&a.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Redemption Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:U(y)})]}),M&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),a.jsxs("p",{className:`text-sm font-bold tabular-nums ${N>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[N>=0?"+":"",U(N)]})]})]})}),a.jsx(J,{label:"Notes",children:a.jsx(me,{value:d.notes,onChange:$=>A("notes",$),placeholder:"Optional notes..."})}),a.jsx(ht,{onCancel:u,onSubmit:k,submitLabel:"Redeem"})]})}function lN({portfolioId:r,onSave:o,onCancel:u}){const{mfPortfolios:c,mfHoldings:v}=ke(),{selectedMember:f}=mt(),h=j.useMemo(()=>{const le=c.filter(re=>re.status==="Active");return f==="all"?le:le.filter(re=>re.ownerId===f)},[c,f]),[d,b]=j.useState({portfolioId:r||"",fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",date:new Date().toISOString().split("T")[0],units:"",fromPrice:"",toPrice:"",targetAllocation:"",notes:""}),[x,S]=j.useState({});function A(le,re){b(D=>({...D,[le]:re})),S(D=>({...D,[le]:void 0}))}function w(le){b(re=>({...re,portfolioId:le,fromFundCode:"",fromFundName:"",toFundCode:"",toFundName:"",units:"",fromPrice:"",toPrice:"",targetAllocation:""})),S(re=>({...re,portfolioId:void 0}))}const M=j.useMemo(()=>d.portfolioId?v.filter(le=>le.portfolioId===d.portfolioId&&le.units>0):[],[v,d.portfolioId]),p=M.find(le=>le.schemeCode===d.fromFundCode),g=j.useMemo(()=>!d.portfolioId||!d.toFundCode?null:v.find(le=>le.portfolioId===d.portfolioId&&le.schemeCode===d.toFundCode),[v,d.portfolioId,d.toFundCode]),y=d.toFundCode&&!g;function N(le){const re=M.find(D=>D.schemeCode===le);b(D=>({...D,fromFundCode:le,fromFundName:re?.fundName||"",fromPrice:re?.currentNav?.toString()||""})),S(D=>({...D,fromFundCode:void 0}))}function R({schemeCode:le,fundName:re}){const D=v.find(z=>z.portfolioId===d.portfolioId&&z.schemeCode===le);b(z=>({...z,toFundCode:le,toFundName:re,toPrice:D?.currentNav?.toString()||z.toPrice,targetAllocation:""})),S(z=>({...z,toFundCode:void 0}))}const k=j.useMemo(()=>(Number(d.units)||0)*(Number(d.fromPrice)||0),[d.units,d.fromPrice]),_=k>0&&Number(d.toPrice)>0?k/Number(d.toPrice):0,ee=p?k-Number(d.units)*p.avgNav:0;function $(){const le={};return d.portfolioId||(le.portfolioId="Required"),d.fromFundCode||(le.fromFundCode="Required"),d.toFundCode||(le.toFundCode="Required"),d.fromFundCode&&d.toFundCode&&d.fromFundCode===d.toFundCode&&(le.toFundCode="Must be different from source fund"),d.date||(le.date="Required"),(!d.units||Number(d.units)<=0)&&(le.units="Must be > 0"),p&&Number(d.units)>p.units&&(le.units=`Max ${p.units.toFixed(2)} units`),(!d.fromPrice||Number(d.fromPrice)<=0)&&(le.fromPrice="Must be > 0"),(!d.toPrice||Number(d.toPrice)<=0)&&(le.toPrice="Must be > 0"),S(le),Object.keys(le).length===0}function F(){$()&&o(d)}const ce=h.map(le=>({value:le.portfolioId,label:`${le.portfolioName} (${le.ownerName})`})),P=M.map(le=>({value:le.schemeCode,label:le.fundName}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(J,{label:"Portfolio",required:!0,error:x.portfolioId,children:a.jsx(je,{value:d.portfolioId,onChange:w,options:ce,placeholder:"Select portfolio..."})}),a.jsx(J,{label:"Switch From (Sell)",required:!0,error:x.fromFundCode,children:a.jsx(je,{value:d.fromFundCode,onChange:N,options:P,placeholder:d.portfolioId?M.length?"Select fund to switch from...":"No holdings":"Select portfolio first..."})}),p&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:p.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:p.units.toFixed(2)})," units @ ",p.avgNav.toFixed(2)," avg | Current NAV: ",p.currentNav.toFixed(2)]})]}),a.jsx(J,{label:"Switch To (Buy)",required:!0,error:x.toFundCode,children:a.jsx(Ud,{value:d.toFundCode?{schemeCode:d.toFundCode,fundName:d.toFundName}:null,onSelect:R,placeholder:"Search fund to switch into...",disabled:!d.portfolioId})}),g&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Existing holding  units will be added, NAV averaged out"}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Current: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:g.units.toFixed(2)})," units @ ",g.avgNav.toFixed(2)," avg | Alloc: ",g.targetAllocationPct.toFixed(1),"%"]})]}),y&&d.toFundCode&&a.jsx("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:a.jsx("p",{className:"text-xs text-violet-400 font-semibold",children:"New fund  will be added to portfolio"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Switch Date",required:!0,error:x.date,children:a.jsx(me,{type:"date",value:d.date,onChange:le=>A("date",le)})}),a.jsx(J,{label:"Units to Switch",required:!0,error:x.units,children:a.jsx(me,{type:"number",value:d.units,onChange:le=>A("units",le),placeholder:p?`Max: ${p.units.toFixed(2)}`:""})})]}),a.jsxs("div",{className:`grid grid-cols-1 ${y?"sm:grid-cols-3":"sm:grid-cols-2"} gap-4`,children:[a.jsx(J,{label:"From Fund NAV ()",required:!0,error:x.fromPrice,children:a.jsx(me,{type:"number",value:d.fromPrice,onChange:le=>A("fromPrice",le),placeholder:"e.g., 178.45"})}),a.jsx(J,{label:"To Fund NAV ()",required:!0,error:x.toPrice,children:a.jsx(me,{type:"number",value:d.toPrice,onChange:le=>A("toPrice",le),placeholder:"e.g., 82.10"})}),y&&a.jsx(J,{label:"Target Allocation (%)",children:a.jsx(me,{type:"number",value:d.targetAllocation,onChange:le=>A("targetAllocation",le),placeholder:"e.g., 20"})})]}),k>0&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Switch Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:U(k)})]}),_>0&&a.jsxs("div",{className:"text-center",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Units Bought"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:_.toFixed(4)})]}),p&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. Gain/Loss"}),a.jsxs("p",{className:`text-sm font-bold tabular-nums ${ee>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ee>=0?"+":"",U(ee)]})]})]}),g&&_>0&&a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1 border-t border-[var(--border-light)] pt-1",children:["New total: ",(g.units+_).toFixed(2)," units  New avg NAV: ",((g.investment+k)/(g.units+_)).toFixed(2)]})]}),a.jsx(J,{label:"Notes",children:a.jsx(me,{value:d.notes,onChange:le=>A("notes",le),placeholder:"Optional notes..."})}),a.jsx(ht,{onCancel:u,onSubmit:F,submitLabel:"Switch Funds"})]})}function sN({portfolioId:r,onSave:o,onCancel:u}){const{mfHoldings:c,mfPortfolios:v}=ke(),f=v.find(q=>q.portfolioId===r),h=j.useMemo(()=>c.filter(q=>q.portfolioId===r),[c,r]),[d,b]=j.useState(()=>h.map(q=>({schemeCode:q.schemeCode,fundName:q.fundName,units:q.units,currentValue:q.currentValue,currentAllocationPct:q.currentAllocationPct,targetAllocationPct:q.targetAllocationPct,isNew:!1}))),[x,S]=j.useState(null),[A,w]=j.useState(""),[M,p]=j.useState(""),[g,y]=j.useState(""),N=d.reduce((q,O)=>q+O.targetAllocationPct,0),R=d.reduce((q,O)=>q+O.currentValue,0),k=(f?.rebalanceThreshold||.05)*100;function _(q,O){b(ne=>ne.map(Q=>Q.schemeCode===q?{...Q,targetAllocationPct:Number(O)||0}:Q)),p("")}function ee(q){const O=d.find(ne=>ne.schemeCode===q);O&&O.units>0||b(ne=>ne.filter(Q=>Q.schemeCode!==q))}function $(){if(x){if(d.find(q=>q.schemeCode===x.schemeCode)){p("Fund already exists in portfolio");return}b(q=>[...q,{schemeCode:x.schemeCode,fundName:x.fundName,units:0,currentValue:0,currentAllocationPct:0,targetAllocationPct:Number(A)||0,isNew:!0}]),S(null),w(""),p("")}}function F(){if(N>100){p(`Total allocation is ${N.toFixed(1)}%  must be  100%`);return}o(d.map(q=>({schemeCode:q.schemeCode,fundName:q.fundName,targetAllocationPct:q.targetAllocationPct,isNew:q.isNew})))}const ce=d.map(q=>{const O=R>0?q.targetAllocationPct/100*R:0,ne=O-q.currentValue;return{...q,targetValue:O,gap:ne}}),P=f?.sipTarget||0,le=d.map(q=>({...q,sipAmount:P>0?q.targetAllocationPct/100*P:0})),re=Number(g)||f?.lumpsumTarget||0,D=j.useMemo(()=>{if(re<=0)return[];const q=R+re,O=d.map(Q=>{const xe=Math.abs(Q.currentAllocationPct-Q.targetAllocationPct),I=xe>k,T=Q.targetAllocationPct/100*q,H=Math.max(0,T-Q.currentValue),X=Q.targetAllocationPct/100*re,K=I?H:X,de=Q.currentValue+K,oe=q>0?de/q*100:0;return{...Q,allocation:K,simpleAllocation:X,smartAllocation:H,needsRebalance:I,deviation:xe,newValue:de,newPct:oe}}),ne=O.reduce((Q,xe)=>Q+xe.allocation,0);if(ne>0&&Math.abs(ne-re)>1){const Q=re/ne;O.forEach(xe=>{xe.allocation=xe.allocation*Q,xe.newValue=xe.currentValue+xe.allocation,xe.newPct=q>0?xe.newValue/q*100:0})}return O},[d,re,R,k]),[z,ie]=j.useState("allocations");return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:f?.portfolioName}),a.jsxs("div",{className:"flex items-center gap-3 text-xs text-[var(--text-dim)] mt-0.5 flex-wrap",children:[a.jsxs("span",{children:["Current Value: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:U(R)})]}),P>0&&a.jsxs("span",{children:["SIP Target: ",U(P),"/mo"]}),f?.lumpsumTarget>0&&a.jsxs("span",{children:["Lumpsum: ",U(f.lumpsumTarget)]}),a.jsxs("span",{children:["Rebalance Threshold: ",k.toFixed(0),"%"]})]})]}),a.jsx("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5 overflow-x-auto",children:[{id:"allocations",label:"Allocations"},{id:"gap",label:"Gap Analysis"},{id:"sip",label:"SIP Plan"},{id:"rebalance",label:"Rebalance Lumpsum"}].map(q=>a.jsx("button",{onClick:()=>ie(q.id),className:`px-3 py-1.5 text-xs font-semibold rounded-md transition-colors whitespace-nowrap ${z===q.id?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:q.label},q.id))}),z==="allocations"&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Units"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Current %"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Target %"}),a.jsx("th",{className:"text-center py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold w-8"})]})}),a.jsx("tbody",{children:d.map(q=>{const O=q.isNew&&q.targetAllocationPct>0&&q.targetAllocationPct<100&&R>0?q.targetAllocationPct/(100-q.targetAllocationPct)*R:0,ne=q.isNew&&q.targetAllocationPct>0&&P>0?q.targetAllocationPct/100*P:0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsxs("td",{className:"py-2 px-2",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] leading-tight max-w-[200px] truncate",children:q.fundName}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[q.schemeCode,q.isNew&&a.jsx("span",{className:"text-violet-400 ml-1",children:"(new)"})]}),(O>0||ne>0)&&a.jsxs("p",{className:"text-xs text-blue-400 mt-0.5",children:["Invest: ",O>0&&a.jsx("span",{className:"font-semibold",children:U(O)}),O>0&&ne>0&&"  ",ne>0&&a.jsxs("span",{className:"font-semibold",children:[U(ne),"/mo SIP"]})]})]}),a.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:q.units.toFixed(2)}),a.jsxs("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:[q.currentAllocationPct.toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-2",children:a.jsx("input",{type:"number",value:q.targetAllocationPct,onChange:Q=>_(q.schemeCode,Q.target.value),className:"w-20 mx-auto block bg-[var(--bg-inset)] border border-[var(--border)] rounded px-2 py-1 text-xs text-center text-[var(--text-primary)] focus:outline-none focus:border-violet-500/50"})}),a.jsx("td",{className:"py-2 px-2 text-center",children:q.units===0&&a.jsx("button",{onClick:()=>ee(q.schemeCode),className:"p-1 rounded hover:bg-rose-500/15 text-[var(--text-dim)] hover:text-[var(--accent-rose)] transition-colors",children:a.jsx(Dp,{size:12})})})]},q.schemeCode)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),a.jsx("td",{}),a.jsxs("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[d.reduce((q,O)=>q+O.currentAllocationPct,0).toFixed(1),"%"]}),a.jsx("td",{className:"py-2 px-2 text-center",children:a.jsxs("span",{className:`text-xs font-bold tabular-nums ${N>100?"text-[var(--accent-rose)]":N===100?"text-emerald-400":"text-amber-400"}`,children:[N.toFixed(1),"%"]})}),a.jsx("td",{})]})})]})}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider mb-1",children:"Add New Fund"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-2",children:"Set target % to see how much to invest. After buying, use Invest to record the transaction."}),a.jsxs("div",{className:"flex items-end gap-2",children:[a.jsx("div",{className:"flex-1",children:a.jsx(Ud,{value:x,onSelect:q=>S(q.schemeCode?q:null),placeholder:"Search fund to add..."})}),a.jsx("div",{className:"w-20",children:a.jsx(me,{type:"number",value:A,onChange:w,placeholder:"%"})}),a.jsxs("button",{onClick:$,disabled:!x,className:"shrink-0 flex items-center gap-1 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors disabled:opacity-40 disabled:cursor-not-allowed",children:[a.jsx(Vt,{size:14})," Add"]})]})]})]}),z==="gap"&&a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Current Value"}),a.jsxs("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:[a.jsx("div",{children:"Allocation"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Curr / Target"})]}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Target Value"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Gap"})]})}),a.jsx("tbody",{children:ce.map(q=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsx("td",{className:"py-2 px-2 text-xs text-[var(--text-primary)] max-w-[180px] truncate",children:q.fundName}),a.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:U(q.currentValue)}),a.jsxs("td",{className:"py-2 px-2 text-right",children:[a.jsxs("span",{className:"text-xs text-[var(--text-secondary)] tabular-nums",children:[q.currentAllocationPct.toFixed(1),"%"]}),a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[" / ",q.targetAllocationPct.toFixed(1),"%"]})]}),a.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:U(q.targetValue)}),a.jsx("td",{className:"py-2 px-2 text-right",children:a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${q.gap>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[q.gap>=0?"+":"",U(q.gap)]})})]},q.schemeCode))})]})}),z==="sip"&&a.jsx("div",{className:"space-y-2",children:P>0?a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),a.jsxs("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:[a.jsx("div",{children:"Allocation"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Curr / Target"})]}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Monthly SIP"})]})}),a.jsx("tbody",{children:le.filter(q=>q.targetAllocationPct>0).map(q=>a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0",children:[a.jsx("td",{className:"py-2 px-2 text-xs text-[var(--text-primary)] max-w-[200px] truncate",children:q.fundName}),a.jsxs("td",{className:"py-2 px-2 text-right",children:[a.jsxs("span",{className:"text-xs text-[var(--text-secondary)] tabular-nums",children:[q.currentAllocationPct.toFixed(1),"%"]}),a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[" / ",q.targetAllocationPct.toFixed(1),"%"]})]}),a.jsx("td",{className:"py-2 px-2 text-right text-xs font-semibold text-blue-400 tabular-nums",children:U(q.sipAmount)})]},q.schemeCode))}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),a.jsx("td",{}),a.jsx("td",{className:"py-2 px-2 text-right text-xs font-bold text-blue-400 tabular-nums",children:U(P)})]})})]})}):a.jsx("p",{className:"text-xs text-[var(--text-muted)] text-center py-4",children:"No SIP target set for this portfolio. Edit portfolio to set one."})}),z==="rebalance"&&a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-end gap-3",children:[a.jsx("div",{className:"flex-1",children:a.jsx(J,{label:"Lumpsum Amount ()",children:a.jsx(me,{type:"number",value:g,onChange:y,placeholder:f?.lumpsumTarget?`Default: ${U(f.lumpsumTarget)}`:"Enter amount to invest..."})})}),f?.lumpsumTarget>0&&!g&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] pb-2",children:"Using portfolio lumpsum target"})]}),re>0?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"bg-violet-500/10 rounded-lg px-3 py-2 border border-violet-500/20",children:a.jsxs("p",{className:"text-xs text-violet-300 leading-relaxed",children:["Smart rebalance: Funds deviating >",k.toFixed(0),"% from target get adjusted allocation. Overweight funds get 0. Underweight funds get more to bring them toward target."]})}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)]",children:[a.jsx("th",{className:"text-left py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Fund"}),a.jsxs("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:[a.jsx("div",{children:"Allocation"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Curr  After"})]}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Current Value"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"Invest"}),a.jsx("th",{className:"text-right py-1.5 px-2 text-xs text-[var(--text-muted)] font-semibold",children:"After Value"})]})}),a.jsx("tbody",{children:D.map(q=>{const O=q.allocation<1;return a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 ${O?"opacity-50":""}`,children:[a.jsxs("td",{className:"py-2 px-2",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] max-w-[160px] truncate",children:q.fundName}),q.needsRebalance&&a.jsxs("span",{className:"text-xs text-amber-400 font-semibold",children:[q.currentAllocationPct>q.targetAllocationPct?"overweight":"underweight"," (",q.deviation.toFixed(1),"%)"]})]}),a.jsxs("td",{className:"py-2 px-2 text-right",children:[a.jsxs("span",{className:"text-xs text-[var(--text-secondary)] tabular-nums",children:[q.currentAllocationPct.toFixed(1),"%"]}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"  "}),a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${Math.abs(q.newPct-q.targetAllocationPct)<k?"text-emerald-400":"text-amber-400"}`,children:[q.newPct.toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["target: ",q.targetAllocationPct.toFixed(1),"%"]})]}),a.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:U(q.currentValue)}),a.jsx("td",{className:"py-2 px-2 text-right",children:q.allocation>=1?a.jsx("span",{className:"text-xs font-bold text-emerald-400 tabular-nums",children:U(q.allocation)}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"0"})}),a.jsx("td",{className:"py-2 px-2 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:U(q.newValue)})]},q.schemeCode)})}),a.jsx("tfoot",{children:a.jsxs("tr",{className:"border-t border-[var(--border)]",children:[a.jsx("td",{className:"py-2 px-2 text-xs font-bold text-[var(--text-primary)]",children:"Total"}),a.jsx("td",{}),a.jsx("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:U(R)}),a.jsx("td",{className:"py-2 px-2 text-right text-xs font-bold text-emerald-400 tabular-nums",children:U(re)}),a.jsx("td",{className:"py-2 px-2 text-right text-xs font-bold text-[var(--text-primary)] tabular-nums",children:U(R+re)})]})})]})})]}):a.jsx("p",{className:"text-xs text-[var(--text-muted)] text-center py-4",children:"Enter an amount above to see rebalance distribution."})]}),M&&a.jsx("p",{className:"text-xs text-[var(--accent-rose)] font-medium",children:M}),a.jsx(ht,{onCancel:u,onSubmit:F,submitLabel:"Save Allocations"})]})}function hh(r){return r>=20?{color:"#c62828",fontWeight:700}:r>=10?{color:"#d84315",fontWeight:700}:r>=5?{color:"#e67e00",fontWeight:400}:r>=1?{color:"#b8860b",fontWeight:400}:{color:"var(--text-dim)",fontWeight:400}}function nN(){const{selectedMember:r}=mt(),{mfPortfolios:o,mfHoldings:u,mfTransactions:c,activeInvestmentAccounts:v,addMFPortfolio:f,updateMFPortfolio:h,deleteMFPortfolio:d,investMF:b,redeemMF:x,switchMF:S,updateHoldingAllocations:A}=ke(),[w,M]=j.useState(null),[p,g]=j.useState("all"),[y,N]=j.useState("holdings"),[R,k]=j.useState(!1),_=j.useMemo(()=>{const I=o.filter(T=>T.status!=="Inactive");return r==="all"?I:I.filter(T=>T.ownerId===r)},[o,r]),ee=j.useMemo(()=>_.map(I=>{const T=u.filter(K=>K.portfolioId===I.portfolioId),H=c.filter(K=>K.portfolioId===I.portfolioId),X=v.find(K=>K.accountId===I.investmentAccountId);return{...I,holdings:T,txns:H,fundCount:T.length,platform:X?.platformBroker||I.investmentAccountName||"",clientId:X?.accountClientId||""}}),[_,u,c,v]),$=j.useMemo(()=>{const I=p==="all"?ee:ee.filter(Re=>Re.portfolioId===p),T=I.reduce((Re,_e)=>Re+_e.totalInvestment,0),H=I.reduce((Re,_e)=>Re+_e.currentValue,0),X=I.reduce((Re,_e)=>Re+_e.unrealizedPL,0),K=I.reduce((Re,_e)=>Re+_e.realizedPL,0),de=X+K,oe=T>0?de/T*100:0,ue=T>0?X/T*100:0,Ae=T>0?K/T*100:0,Ce=I.reduce((Re,_e)=>Re+_e.fundCount,0);return{invested:T,current:H,unrealizedPL:X,unrealizedPLPct:ue,realizedPL:K,realizedPLPct:Ae,totalPL:de,totalPLPct:oe,funds:Ce}},[ee,p]),F=j.useMemo(()=>p==="all"?u.filter(I=>_.some(T=>T.portfolioId===I.portfolioId)):u.filter(I=>I.portfolioId===p),[u,_,p]),ce=j.useMemo(()=>(p==="all"?c.filter(T=>_.some(H=>H.portfolioId===T.portfolioId)):c.filter(T=>T.portfolioId===p)).sort((T,H)=>new Date(H.date)-new Date(T.date)),[c,_,p]),P=j.useMemo(()=>{const I={};return F.forEach(T=>{I[T.portfolioId]=(I[T.portfolioId]||0)+T.currentValue}),F.map(T=>{const H=I[T.portfolioId]||0,X=H>0?T.currentValue/H*100:0;return{...T,currentAllocationPct:X}})},[F]),le=j.useMemo(()=>{const I={};return ee.forEach(T=>{const H=u.filter(ue=>ue.portfolioId===T.portfolioId&&ue.units>0),X=H.reduce((ue,Ae)=>ue+Ae.currentValue,0),K=(T.rebalanceThreshold||.05)*100;let de=0,oe=0;H.forEach(ue=>{ue.athNav>0&&ue.belowATHPct>=5&&de++;const Ae=X>0?ue.currentValue/X*100:0;Math.abs(Ae-ue.targetAllocationPct)>K&&oe++}),I[T.portfolioId]={buyOpp:de,rebalance:oe}}),I},[ee,u]),re=j.useMemo(()=>{if(p!=="all")return le[p]||{buyOpp:0,rebalance:0};let I=0,T=0;return Object.values(le).forEach(H=>{I+=H.buyOpp,T+=H.rebalance}),{buyOpp:I,rebalance:T}},[p,le]),D=ee.find(I=>I.portfolioId===p),z=p==="all"?`All Portfolios (${_.length})`:`${D?.portfolioName}  ${D?.ownerName}`;function ie(I){w?.editPortfolio?h(w.editPortfolio.portfolioId,I):f(I),M(null)}function q(){w?.editPortfolio&&confirm("Deactivate this portfolio?")&&(d(w.editPortfolio.portfolioId),g("all"),M(null))}function O(I){b(I,I.transactionType),M(null)}function ne(I){x(I),M(null)}function Q(I){S(I),M(null)}function xe(I){w?.allocations&&(A(w.allocations,I),M(null))}return a.jsxs("div",{className:"space-y-4",children:[_.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(jl,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No mutual fund portfolios yet"}),a.jsx("button",{onClick:()=>M("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>k(!R),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[a.jsx(jl,{size:14,className:"text-violet-400 shrink-0"}),a.jsx("span",{className:"truncate",children:z}),a.jsx(ys,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${R?"rotate-180":""}`})]}),R&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>k(!1)}),a.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[300px] py-1 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{g("all"),k(!1),N("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${p==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",_.length,")"]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),ee.map(I=>{const T=I.totalPL>=0,H=le[I.portfolioId]||{};return a.jsx("button",{onClick:()=>{g(I.portfolioId),k(!1),N("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${p===I.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("p",{className:`text-sm ${p===I.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:I.portfolioName}),H.buyOpp>0&&a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-400 shrink-0",title:`${H.buyOpp} buy opportunities`}),H.rebalance>0&&a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-400 shrink-0",title:`${H.rebalance} funds need rebalancing`})]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[I.ownerName,"  ",I.platform,"  ",I.fundCount," funds"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:U(I.currentValue)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${T?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[T?"+":"",I.totalPLPct.toFixed(1),"%"]})]})]})},I.portfolioId)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[a.jsxs("button",{onClick:()=>M("buyOpp"),disabled:re.buyOpp===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${re.buyOpp>0?"text-emerald-400 hover:text-emerald-300 bg-[var(--bg-card)] border border-emerald-500/30 animate-glow-emerald":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[a.jsx(_d,{size:12})," Buy Opp.",re.buyOpp>0&&a.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-emerald-500/15",children:re.buyOpp})]}),a.jsxs("button",{onClick:()=>M("rebalance"),disabled:re.rebalance===0,className:`flex items-center gap-1.5 px-3 py-2 text-xs font-medium rounded-lg transition-colors ${re.rebalance>0?"text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-violet-500/30 animate-glow-violet":"text-[var(--text-dim)] bg-[var(--bg-card)] border border-[var(--border)] opacity-50 cursor-not-allowed"}`,children:[a.jsx(On,{size:12})," Rebalance",re.rebalance>0&&a.jsx("span",{className:"text-xs font-bold px-1.5 py-0.5 rounded-full bg-violet-500/15",children:re.rebalance})]}),D&&a.jsxs(a.Fragment,{children:[a.jsxs("button",{onClick:()=>M({allocations:D.portfolioId}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Yj,{size:12})," Allocations"]}),a.jsxs("button",{onClick:()=>M({editPortfolio:D}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(sa,{size:12})," Edit"]})]}),a.jsxs("button",{onClick:()=>M("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Vt,{size:14})," New Portfolio"]})]})]}),D&&a.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1 flex-wrap",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Platform:"})," ",D.platform]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",D.clientId]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Funds:"})," ",D.fundCount]}),D.sipTarget>0&&a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"SIP Target:"})," ",U(D.sipTarget),"/mo"]}),D.lumpsumTarget>0&&a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Lumpsum Target:"})," ",U(D.lumpsumTarget)]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Rebalance Threshold:"})," ",(D.rebalanceThreshold*100).toFixed(0),"%"]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(Sn,{label:"Invested",value:U($.invested)}),a.jsx(Sn,{label:"Current Value",value:U($.current),bold:!0}),a.jsx(Sn,{label:"Unrealized P&L",value:`${$.unrealizedPL>=0?"+":""}${U($.unrealizedPL)}`,sub:`${$.unrealizedPLPct>=0?"+":""}${$.unrealizedPLPct.toFixed(1)}%`,positive:$.unrealizedPL>=0}),a.jsx(Sn,{label:"Realized P&L",value:`${$.realizedPL>=0?"+":""}${U($.realizedPL)}`,sub:`${$.realizedPLPct>=0?"+":""}${$.realizedPLPct.toFixed(1)}%`,positive:$.realizedPL>=0}),a.jsx(Sn,{label:"Total P&L",value:`${$.totalPL>=0?"+":""}${U($.totalPL)}`,sub:`${$.totalPLPct>=0?"+":""}${$.totalPLPct.toFixed(1)}%`,positive:$.totalPL>=0,bold:!0})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[a.jsxs("button",{onClick:()=>N("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${y==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(Ap,{size:12})," Holdings (",F.length,")"]}),a.jsxs("button",{onClick:()=>N("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${y==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(Mi,{size:12})," Transactions (",ce.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[p==="all"&&a.jsx("span",{className:"text-xs text-[var(--text-dim)] mr-1 hidden sm:inline",children:"Select a portfolio to take actions"}),a.jsxs("button",{onClick:()=>p!=="all"&&M({invest:p}),disabled:p==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${p==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:p==="all"?"Select a portfolio first":"",children:[a.jsx(zi,{size:14})," Invest"]}),a.jsxs("button",{onClick:()=>p!=="all"&&F.length>0&&M({redeem:p}),disabled:p==="all"||F.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${p==="all"||F.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:p==="all"?"Select a portfolio first":"",children:[a.jsx(Cp,{size:14})," Redeem"]}),a.jsxs("button",{onClick:()=>p!=="all"&&F.length>0&&M({switchFunds:p}),disabled:p==="all"||F.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${p==="all"||F.length===0?"bg-amber-600/40 text-white/50 cursor-not-allowed":"text-white bg-amber-600 hover:bg-amber-500"}`,title:p==="all"?"Select a portfolio first":"",children:[a.jsx(Uj,{size:14})," Switch"]})]})]}),y==="holdings"&&a.jsx(a.Fragment,{children:F.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund Name"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"NAV"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Avg"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Allocation %"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Amount"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Invested"})]}),a.jsxs("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"P&L"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"on Holdings"})]})]})}),a.jsx("tbody",{children:P.map(I=>{const T=hh(I.belowATHPct),H=p==="all"?ee.find(Re=>Re.portfolioId===I.portfolioId):null,X=I.units===0,K=ee.find(Re=>Re.portfolioId===I.portfolioId),de=K?.currentValue||0,oe=I.pl,ue=oe>=0,Ae=X&&I.targetAllocationPct>0&&I.targetAllocationPct<100&&de>0?I.targetAllocationPct/(100-I.targetAllocationPct)*de:0,Ce=X&&I.targetAllocationPct>0&&K?.sipTarget>0?I.targetAllocationPct/100*K.sipTarget:0;return a.jsxs("tr",{className:`border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors ${X?"opacity-60":""}`,children:[a.jsxs("td",{className:"py-2.5 px-3 max-w-[240px]",children:[a.jsxs("p",{className:"text-xs text-[var(--text-primary)] leading-tight",children:[I.fundName,X&&a.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]}),H&&a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:H.portfolioName}),X&&(Ae>0||Ce>0)&&a.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[Ae>0&&a.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",U(Ae)]}),Ce>0&&a.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",U(Ce),"/mo"]})]})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:X?"":I.units.toFixed(2)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:X?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:["",I.currentNav.toFixed(2)]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:["",I.avgNav.toFixed(2)]}),I.athNav>0&&I.belowATHPct>0&&a.jsxs("p",{className:"text-xs tabular-nums",style:T,children:["ATH ",I.athNav.toFixed(2)," ",I.belowATHPct.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:X?a.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums",children:[I.targetAllocationPct.toFixed(1),"%"]}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:[I.currentAllocationPct.toFixed(1),"%"]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:[I.targetAllocationPct.toFixed(1),"%"]})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:X?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:U(I.currentValue)}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:U(I.investment)})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:X?a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""}):a.jsxs(a.Fragment,{children:[a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ue?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ue?"+":"",U(oe)]}),a.jsxs("p",{className:`text-xs font-bold tabular-nums ${ue?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ue?"+":"",I.plPct.toFixed(1),"%"]})]})})]},I.holdingId)})})]})}),a.jsx("div",{className:"lg:hidden divide-y divide-[var(--border-light)]",children:P.map(I=>{const T=hh(I.belowATHPct),H=p==="all"?ee.find(Re=>Re.portfolioId===I.portfolioId):null,X=I.units===0,K=ee.find(Re=>Re.portfolioId===I.portfolioId),de=K?.currentValue||0,oe=I.pl,ue=oe>=0,Ae=X&&I.targetAllocationPct>0&&I.targetAllocationPct<100&&de>0?I.targetAllocationPct/(100-I.targetAllocationPct)*de:0,Ce=X&&I.targetAllocationPct>0&&K?.sipTarget>0?I.targetAllocationPct/100*K.sipTarget:0;return a.jsxs("div",{className:`px-4 py-3 ${X?"opacity-60":""}`,children:[a.jsxs("div",{className:"flex items-start justify-between mb-1.5",children:[a.jsxs("div",{className:"flex-1 mr-3",children:[a.jsxs("p",{className:"text-xs font-medium text-[var(--text-primary)] leading-tight",children:[I.fundName,X&&a.jsx("span",{className:"ml-1.5 text-xs font-semibold text-violet-400 bg-violet-500/15 px-1.5 py-0.5 rounded",children:"Planned"})]}),H&&a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:H.portfolioName}),X&&(Ae>0||Ce>0)&&a.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[Ae>0&&a.jsxs("span",{className:"text-xs text-emerald-400 font-semibold",children:["Buy ",U(Ae)]}),Ce>0&&a.jsxs("span",{className:"text-xs text-blue-400 font-semibold",children:["SIP ",U(Ce),"/mo"]})]})]}),X?a.jsxs("p",{className:"text-xs font-semibold text-violet-400 tabular-nums shrink-0",children:["Target: ",I.targetAllocationPct.toFixed(1),"%"]}):a.jsxs("div",{className:"text-right shrink-0",children:[a.jsxs("p",{className:`text-xs font-bold tabular-nums ${ue?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ue?"+":"",U(oe)]}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ue?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ue?"+":"",I.plPct.toFixed(1),"%"]})]})]}),X?null:a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between text-xs text-[var(--text-dim)]",children:[a.jsxs("div",{children:[a.jsxs("span",{children:[I.units.toFixed(2)," units"]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["NAV ",I.currentNav.toFixed(2)," / ",I.avgNav.toFixed(2)]})]}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:U(I.currentValue)})]}),a.jsxs("div",{className:"flex items-center gap-3 mt-1 text-xs text-[var(--text-dim)] flex-wrap",children:[a.jsxs("span",{children:["Alloc: ",I.currentAllocationPct.toFixed(1),"% / ",I.targetAllocationPct.toFixed(1),"%"]}),I.athNav>0&&I.belowATHPct>0&&a.jsxs("span",{style:T,children:["ATH ",I.belowATHPct.toFixed(1),"%"]})]})]})]},I.holdingId)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(jl,{size:28,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",D?" in this portfolio":""]}),a.jsx("button",{onClick:()=>M({invest:p!=="all"?p:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Add your first fund"})]})}),y==="transactions"&&a.jsx(a.Fragment,{children:ce.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Fund"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Units"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"NAV"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Gain/Loss"})]})}),a.jsx("tbody",{children:ce.map(I=>{const T=I.type==="BUY",H=!T&&I.gainLoss!=null&&I.gainLoss!==0,X=H&&I.gainLoss>=0,K=p==="all"?ee.find(oe=>oe.portfolioId===I.portfolioId):null,de={INITIAL:{bg:"bg-purple-500/15",text:"text-purple-400"},SIP:{bg:"bg-blue-500/15",text:"text-blue-400"},LUMPSUM:{bg:"bg-emerald-500/15",text:"text-emerald-400"},WITHDRAWAL:{bg:"bg-rose-500/15",text:"text-[var(--accent-rose)]"},SWITCH:{bg:"bg-amber-500/15",text:"text-amber-400"}}[I.transactionType]||{bg:"bg-gray-500/15",text:"text-[var(--text-muted)]"};return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:I.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${T?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:I.type}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${de.bg} ${de.text}`,children:I.transactionType})]})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate max-w-[200px]",children:I.fundName}),K&&a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:K.portfolioName})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:I.units.toFixed(2)}),a.jsxs("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:["",I.price.toFixed(2)]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:U(I.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:H?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${X?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[X?"+":"",U(I.gainLoss)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},I.transactionId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:ce.map(I=>{const T=I.type==="BUY",H=!T&&I.gainLoss!=null&&I.gainLoss!==0,X=H&&I.gainLoss>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-1.5",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${T?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:I.type}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-dim)]",children:I.transactionType})]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:I.date})]}),a.jsx("p",{className:"text-xs text-[var(--text-primary)] truncate mb-1",children:I.fundName}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("p",{className:"text-[var(--text-dim)]",children:[I.units.toFixed(2)," units @ ",I.price.toFixed(2)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:U(I.totalAmount)}),H&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${X?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["G/L: ",X?"+":"",U(I.gainLoss)]})]})]}),I.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:I.notes})]},I.transactionId)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(Mi,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),a.jsx("button",{onClick:()=>M({invest:p!=="all"?p:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first investment"})]})})]}),a.jsx(We,{open:w==="addPortfolio"||!!w?.editPortfolio,onClose:()=>M(null),title:w?.editPortfolio?"Edit Portfolio":"New MF Portfolio",children:a.jsx(W1,{initial:w?.editPortfolio||void 0,onSave:ie,onDelete:w?.editPortfolio?q:void 0,onCancel:()=>M(null)})}),a.jsx(We,{open:!!w?.invest,onClose:()=>M(null),title:"Invest in Mutual Fund",wide:!0,children:a.jsx(tN,{portfolioId:typeof w?.invest=="string"?w.invest:void 0,onSave:O,onCancel:()=>M(null)})}),a.jsx(We,{open:!!w?.redeem,onClose:()=>M(null),title:"Redeem Mutual Fund",wide:!0,children:a.jsx(aN,{portfolioId:typeof w?.redeem=="string"?w.redeem:void 0,onSave:ne,onCancel:()=>M(null)})}),a.jsx(We,{open:!!w?.switchFunds,onClose:()=>M(null),title:"Switch Funds",wide:!0,children:a.jsx(lN,{portfolioId:typeof w?.switchFunds=="string"?w.switchFunds:void 0,onSave:Q,onCancel:()=>M(null)})}),a.jsx(We,{open:!!w?.allocations,onClose:()=>M(null),title:"Manage Portfolio Allocation",wide:!0,children:w?.allocations&&a.jsx(sN,{portfolioId:w.allocations,onSave:xe,onCancel:()=>M(null)})}),a.jsx(We,{open:w==="rebalance",onClose:()=>M(null),title:"Rebalance Portfolios",wide:!0,children:w==="rebalance"&&a.jsx(Op,{})}),a.jsx(We,{open:w==="buyOpp",onClose:()=>M(null),title:"Buy Opportunities",wide:!0,children:w==="buyOpp"&&a.jsx(Lp,{})})]})}function Sn({label:r,value:o,sub:u,positive:c,bold:v}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:r}),a.jsx("p",{className:`text-sm tabular-nums ${v?"font-bold":"font-semibold"} ${c===void 0?"text-[var(--text-primary)]":c?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:o}),u&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${c?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:u})]})}function rN({initial:r,onSave:o,onDelete:u,onCancel:c}){const{activeMembers:v,activeInvestmentAccounts:f}=ke(),h=!!r,[d,b]=j.useState({portfolioName:r?.portfolioName||"",ownerId:r?.ownerId||"",investmentAccountId:r?.investmentAccountId||""}),[x,S]=j.useState({});function A(N,R){b(k=>({...k,[N]:R})),S(k=>({...k,[N]:void 0}))}function w(N){b(R=>({...R,ownerId:N,investmentAccountId:""})),S(R=>({...R,ownerId:void 0}))}const M=j.useMemo(()=>d.ownerId?f.filter(N=>N.memberId===d.ownerId&&(N.accountType==="Demat + Trading"||N.accountType==="Trading")).map(N=>({value:N.accountId,label:`${N.accountName} - ${N.platformBroker}`})):[],[f,d.ownerId]);function p(){const N={};return d.portfolioName.trim()||(N.portfolioName="Required"),d.ownerId||(N.ownerId="Required"),d.investmentAccountId||(N.investmentAccountId="Required"),S(N),Object.keys(N).length===0}function g(){p()&&o(d)}const y=v.map(N=>({value:N.memberId,label:`${N.memberName} (${N.relationship})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(J,{label:"Portfolio Name",required:!0,error:x.portfolioName,children:a.jsx(me,{value:d.portfolioName,onChange:N=>A("portfolioName",N),placeholder:"e.g., Long-Term Growth"})}),a.jsx(J,{label:"Owner",required:!0,error:x.ownerId,children:a.jsx(je,{value:d.ownerId,onChange:w,options:y,placeholder:"Select family member..."})}),a.jsx(J,{label:"Investment Account",required:!0,error:x.investmentAccountId,children:a.jsx(je,{value:d.investmentAccountId,onChange:N=>A("investmentAccountId",N),options:M,placeholder:d.ownerId?M.length?"Select demat account...":"No demat accounts for this member":"Select owner first..."})}),a.jsxs("div",{className:"flex items-center justify-between",children:[h&&u?a.jsx(na,{onClick:u}):a.jsx("div",{}),a.jsx(ht,{onCancel:c,onSubmit:g,submitLabel:h?"Update":"Create Portfolio"})]})]})}function iN({portfolioId:r,onSave:o,onCancel:u}){const{stockPortfolios:c}=ke(),{selectedMember:v}=mt(),f=j.useMemo(()=>{const y=c.filter(N=>N.status==="Active");return v==="all"?y:y.filter(N=>N.ownerId===v)},[c,v]),[h,d]=j.useState({portfolioId:r||"",symbol:"",companyName:"",exchange:"NSE",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[b,x]=j.useState({});function S(y,N){d(R=>({...R,[y]:N})),x(R=>({...R,[y]:void 0}))}const A=j.useMemo(()=>{const y=Number(h.quantity)||0,N=Number(h.pricePerShare)||0;return y*N},[h.quantity,h.pricePerShare]),w=j.useMemo(()=>A+(Number(h.brokerage)||0),[A,h.brokerage]);function M(){const y={};return h.portfolioId||(y.portfolioId="Required"),h.symbol.trim()||(y.symbol="Required"),h.companyName.trim()||(y.companyName="Required"),h.date||(y.date="Required"),(!h.quantity||Number(h.quantity)<=0)&&(y.quantity="Must be > 0"),(!h.pricePerShare||Number(h.pricePerShare)<=0)&&(y.pricePerShare="Must be > 0"),x(y),Object.keys(y).length===0}function p(){M()&&o(h)}const g=f.map(y=>({value:y.portfolioId,label:`${y.portfolioName} (${y.ownerName})`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(J,{label:"Portfolio",required:!0,error:b.portfolioId,children:a.jsx(je,{value:h.portfolioId,onChange:y=>S("portfolioId",y),options:g,placeholder:"Select portfolio..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Stock Symbol",required:!0,error:b.symbol,children:a.jsx(me,{value:h.symbol,onChange:y=>S("symbol",y.toUpperCase()),placeholder:"e.g., RELIANCE"})}),a.jsx(J,{label:"Company Name",required:!0,error:b.companyName,children:a.jsx(me,{value:h.companyName,onChange:y=>S("companyName",y),placeholder:"e.g., Reliance Industries Ltd"})})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:a.jsx(J,{label:"Purchase Date",required:!0,error:b.date,children:a.jsx(me,{type:"date",value:h.date,onChange:y=>S("date",y)})})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Quantity (Shares)",required:!0,error:b.quantity,children:a.jsx(me,{type:"number",value:h.quantity,onChange:y=>S("quantity",y),placeholder:"e.g., 100"})}),a.jsx(J,{label:"Price per Share ()",required:!0,error:b.pricePerShare,children:a.jsx(me,{type:"number",value:h.pricePerShare,onChange:y=>S("pricePerShare",y),placeholder:"e.g., 2500"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Brokerage ()",children:a.jsx(me,{type:"number",value:h.brokerage,onChange:y=>S("brokerage",y),placeholder:"0"})}),a.jsx("div",{className:"flex flex-col justify-end",children:a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Total Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:U(A)}),Number(h.brokerage)>0&&a.jsxs("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:["Net: ",U(w)]})]})})]}),a.jsx(J,{label:"Notes",children:a.jsx(me,{value:h.notes,onChange:y=>S("notes",y),placeholder:"Optional notes..."})}),a.jsx(ht,{onCancel:u,onSubmit:p,submitLabel:"Buy Stock"})]})}function oN({portfolioId:r,onSave:o,onCancel:u}){const{stockPortfolios:c,stockHoldings:v}=ke(),{selectedMember:f}=mt(),h=j.useMemo(()=>{const F=c.filter(ce=>ce.status==="Active");return f==="all"?F:F.filter(ce=>ce.ownerId===f)},[c,f]),[d,b]=j.useState({portfolioId:r||"",symbol:"",companyName:"",date:new Date().toISOString().split("T")[0],quantity:"",pricePerShare:"",brokerage:"0",notes:""}),[x,S]=j.useState({});function A(F,ce){b(P=>({...P,[F]:ce})),S(P=>({...P,[F]:void 0}))}const w=j.useMemo(()=>d.portfolioId?v.filter(F=>F.portfolioId===d.portfolioId&&F.quantity>0):[],[v,d.portfolioId]),M=w.find(F=>F.symbol===d.symbol),p=M?.quantity||0,g=j.useMemo(()=>{const F=Number(d.quantity)||0,ce=Number(d.pricePerShare)||0;return F*ce},[d.quantity,d.pricePerShare]),y=j.useMemo(()=>g-(Number(d.brokerage)||0),[g,d.brokerage]);function N(F){const ce=w.find(P=>P.symbol===F);b(P=>({...P,symbol:F,companyName:ce?.companyName||""})),S(P=>({...P,symbol:void 0}))}function R(F){b(ce=>({...ce,portfolioId:F,symbol:"",companyName:"",quantity:""})),S(ce=>({...ce,portfolioId:void 0}))}function k(){const F={};return d.portfolioId||(F.portfolioId="Required"),d.symbol||(F.symbol="Required"),d.date||(F.date="Required"),(!d.quantity||Number(d.quantity)<=0)&&(F.quantity="Must be > 0"),Number(d.quantity)>p&&(F.quantity=`Max ${p} shares`),(!d.pricePerShare||Number(d.pricePerShare)<=0)&&(F.pricePerShare="Must be > 0"),S(F),Object.keys(F).length===0}function _(){k()&&o(d)}const ee=h.map(F=>({value:F.portfolioId,label:`${F.portfolioName} (${F.ownerName})`})),$=w.map(F=>({value:F.symbol,label:`${F.symbol}  ${F.quantity} shares`}));return a.jsxs("div",{className:"space-y-4",children:[a.jsx(J,{label:"Portfolio",required:!0,error:x.portfolioId,children:a.jsx(je,{value:d.portfolioId,onChange:R,options:ee,placeholder:"Select portfolio..."})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Stock to Sell",required:!0,error:x.symbol,children:a.jsx(je,{value:d.symbol,onChange:N,options:$,placeholder:d.portfolioId?w.length?"Select stock...":"No holdings in this portfolio":"Select portfolio first..."})}),M&&a.jsx("div",{className:"flex flex-col justify-end",children:a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:M.companyName}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:["Available: ",a.jsx("span",{className:"font-semibold text-[var(--text-primary)]",children:p})," shares @ ",U(M.avgBuyPrice)," avg"]})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Sale Date",required:!0,error:x.date,children:a.jsx(me,{type:"date",value:d.date,onChange:F=>A("date",F)})}),a.jsx(J,{label:"Quantity to Sell",required:!0,error:x.quantity,children:a.jsx(me,{type:"number",value:d.quantity,onChange:F=>A("quantity",F),placeholder:p?`Max: ${p}`:""})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Sale Price per Share ()",required:!0,error:x.pricePerShare,children:a.jsx(me,{type:"number",value:d.pricePerShare,onChange:F=>A("pricePerShare",F),placeholder:"e.g., 2750"})}),a.jsx(J,{label:"Brokerage ()",children:a.jsx(me,{type:"number",value:d.brokerage,onChange:F=>A("brokerage",F),placeholder:"0"})})]}),g>0&&a.jsx("div",{className:"bg-[var(--bg-inset)] rounded-lg px-3 py-2 border border-[var(--border-light)]",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Net Sale Amount"}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:U(y)})]}),M&&a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Est. P&L"}),(()=>{const F=Number(d.quantity)*M.avgBuyPrice,ce=y-F,P=ce>=0;return a.jsxs("p",{className:`text-sm font-bold tabular-nums ${P?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[P?"+":"",U(ce)]})})()]})]})}),a.jsx(J,{label:"Notes",children:a.jsx(me,{value:d.notes,onChange:F=>A("notes",F),placeholder:"Optional notes..."})}),a.jsx(ht,{onCancel:u,onSubmit:_,submitLabel:"Sell Stock"})]})}function cN(){const{selectedMember:r}=mt(),{stockPortfolios:o,stockHoldings:u,stockTransactions:c,activeInvestmentAccounts:v,addStockPortfolio:f,updateStockPortfolio:h,deleteStockPortfolio:d,buyStock:b,sellStock:x}=ke(),[S,A]=j.useState(null),[w,M]=j.useState("all"),[p,g]=j.useState("holdings"),[y,N]=j.useState(!1),R=j.useMemo(()=>{const z=o.filter(ie=>ie.status!=="Inactive");return r==="all"?z:z.filter(ie=>ie.ownerId===r)},[o,r]),k=j.useMemo(()=>R.map(z=>{const ie=u.filter(X=>X.portfolioId===z.portfolioId),q=c.filter(X=>X.portfolioId===z.portfolioId),O=ie.reduce((X,K)=>X+K.totalInvestment,0),ne=ie.reduce((X,K)=>X+K.currentValue,0),Q=ne-O,xe=q.filter(X=>X.type==="SELL"&&X.realizedPL!=null).reduce((X,K)=>X+K.realizedPL,0),I=Q+xe,T=O>0?I/O*100:0,H=v.find(X=>X.accountId===z.investmentAccountId);return{...z,holdings:ie,txns:q,invested:O,current:ne,unrealizedPL:Q,realizedPL:xe,totalPL:I,totalPLPct:T,stockCount:ie.length,platform:H?.platformBroker||z.investmentAccountName||"",clientId:H?.accountClientId||""}}),[R,u,c,v]),_=j.useMemo(()=>{const z=w==="all"?k:k.filter(H=>H.portfolioId===w),ie=z.reduce((H,X)=>H+X.invested,0),q=z.reduce((H,X)=>H+X.current,0),O=z.reduce((H,X)=>H+X.unrealizedPL,0),ne=z.reduce((H,X)=>H+X.realizedPL,0),Q=O+ne,xe=ie>0?Q/ie*100:0,I=ie>0?O/ie*100:0,T=z.reduce((H,X)=>H+X.stockCount,0);return{invested:ie,current:q,unrealizedPL:O,unrealizedPLPct:I,realizedPL:ne,totalPL:Q,totalPLPct:xe,stocks:T}},[k,w]),ee=j.useMemo(()=>w==="all"?u.filter(z=>R.some(ie=>ie.portfolioId===z.portfolioId)):u.filter(z=>z.portfolioId===w),[u,R,w]),$=j.useMemo(()=>(w==="all"?c.filter(ie=>R.some(q=>q.portfolioId===ie.portfolioId)):c.filter(ie=>ie.portfolioId===w)).sort((ie,q)=>new Date(q.date)-new Date(ie.date)),[c,R,w]),F=k.find(z=>z.portfolioId===w),ce=w==="all"?`All Portfolios (${R.length})`:`${F?.portfolioName}  ${F?.ownerName}`;function P(z){S?.editPortfolio?h(S.editPortfolio.portfolioId,z):f(z),A(null)}function le(){S?.editPortfolio&&confirm("Deactivate this portfolio?")&&(d(S.editPortfolio.portfolioId),M("all"),A(null))}function re(z){b(z),A(null)}function D(z){x(z),A(null)}return a.jsxs("div",{className:"space-y-4",children:[R.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(xs,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No stock portfolios yet"}),a.jsx("button",{onClick:()=>A("addPortfolio"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first portfolio"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"flex items-center justify-between gap-3 flex-wrap",children:[a.jsxs("div",{className:"relative",children:[a.jsxs("button",{onClick:()=>N(!y),className:"flex items-center gap-2 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg px-4 py-2.5 text-sm font-semibold text-[var(--text-primary)] hover:border-[var(--border-light)] transition-colors min-w-[220px]",children:[a.jsx(xs,{size:14,className:"text-violet-400 shrink-0"}),a.jsx("span",{className:"truncate",children:ce}),a.jsx(ys,{size:14,className:`text-[var(--text-dim)] shrink-0 transition-transform ${y?"rotate-180":""}`})]}),y&&a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"fixed inset-0 z-30",onClick:()=>N(!1)}),a.jsxs("div",{className:"absolute left-0 top-full mt-1 z-40 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg shadow-xl min-w-[280px] py-1 overflow-hidden",children:[a.jsxs("button",{onClick:()=>{M("all"),N(!1),g("holdings")},className:`w-full text-left px-4 py-2.5 text-sm transition-colors ${w==="all"?"bg-[var(--sidebar-active-bg)] text-[var(--text-primary)] font-semibold":"text-[var(--text-secondary)] hover:bg-[var(--bg-hover)]"}`,children:["All Portfolios (",R.length,")"]}),a.jsx("div",{className:"border-t border-[var(--border-light)]"}),k.map(z=>{const ie=z.totalPL>=0;return a.jsx("button",{onClick:()=>{M(z.portfolioId),N(!1),g("holdings")},className:`w-full text-left px-4 py-2.5 transition-colors ${w===z.portfolioId?"bg-[var(--sidebar-active-bg)]":"hover:bg-[var(--bg-hover)]"}`,children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-sm ${w===z.portfolioId?"font-semibold text-[var(--text-primary)]":"text-[var(--text-secondary)]"}`,children:z.portfolioName}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[z.ownerName,"  ",z.platform]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:U(z.current)}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ie?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ie?"+":"",z.totalPLPct.toFixed(1),"%"]})]})]})},z.portfolioId)})]})]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[F&&a.jsxs("button",{onClick:()=>A({editPortfolio:F}),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-medium text-[var(--text-muted)] hover:text-[var(--text-primary)] bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(sa,{size:12})," Edit"]}),a.jsxs("button",{onClick:()=>A("addPortfolio"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Vt,{size:14})," New Portfolio"]})]})]}),F&&a.jsxs("div",{className:"flex items-center gap-4 text-xs text-[var(--text-dim)] px-1",children:[a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Platform:"})," ",F.platform]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Client ID:"})," ",F.clientId]}),a.jsxs("span",{children:[a.jsx("span",{className:"font-semibold",children:"Stocks:"})," ",F.stockCount]})]}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(wn,{label:"Invested",value:U(_.invested)}),a.jsx(wn,{label:"Current Value",value:U(_.current),bold:!0}),a.jsx(wn,{label:"Unrealized P&L",value:`${_.unrealizedPL>=0?"+":""}${U(_.unrealizedPL)}`,sub:`${_.unrealizedPLPct>=0?"+":""}${_.unrealizedPLPct.toFixed(1)}%`,positive:_.unrealizedPL>=0}),a.jsx(wn,{label:"Realized P&L",value:`${_.realizedPL>=0?"+":""}${U(_.realizedPL)}`,positive:_.realizedPL>=0}),a.jsx(wn,{label:"Total P&L",value:`${_.totalPL>=0?"+":""}${U(_.totalPL)}`,sub:`${_.totalPLPct>=0?"+":""}${_.totalPLPct.toFixed(1)}%`,positive:_.totalPL>=0,bold:!0})]}),a.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 bg-[var(--bg-inset)] rounded-lg p-0.5",children:[a.jsxs("button",{onClick:()=>g("holdings"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${p==="holdings"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(Ap,{size:12})," Holdings (",ee.length,")"]}),a.jsxs("button",{onClick:()=>g("transactions"),className:`flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-md transition-colors ${p==="transactions"?"bg-[var(--bg-card)] text-[var(--text-primary)] shadow-sm":"text-[var(--text-muted)] hover:text-[var(--text-secondary)]"}`,children:[a.jsx(Mi,{size:12})," Transactions (",$.length,")"]})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("button",{onClick:()=>w!=="all"&&A({buy:w}),disabled:w==="all",className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${w==="all"?"bg-emerald-600/40 text-white/50 cursor-not-allowed":"text-white bg-emerald-600 hover:bg-emerald-500"}`,title:w==="all"?"Select a portfolio first":"",children:[a.jsx(zi,{size:14})," Buy"]}),a.jsxs("button",{onClick:()=>w!=="all"&&ee.length>0&&A({sell:w}),disabled:w==="all"||ee.length===0,className:`flex items-center gap-1.5 px-4 py-2 text-xs font-bold rounded-lg transition-colors shadow-sm ${w==="all"||ee.length===0?"bg-rose-600/40 text-white/50 cursor-not-allowed":"text-white bg-rose-600 hover:bg-rose-500"}`,title:w==="all"?"Select a portfolio first":"",children:[a.jsx(_d,{size:14})," Sell"]})]})]}),p==="holdings"&&a.jsx(a.Fragment,{children:ee.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Avg Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Invested"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Current Value"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Returns"})]})}),a.jsxs("tbody",{children:[ee.map(z=>{const ie=z.unrealizedPL>=0,q=w==="all"?k.find(O=>O.portfolioId===z.portfolioId):null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:z.companyName}),a.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[z.symbol,q&&a.jsxs("span",{className:"ml-1.5 text-[var(--text-dim)] font-sans",children:[" ",q.portfolioName]})]})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:z.quantity}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:U(z.avgBuyPrice)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:U(z.currentPrice)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:U(z.totalInvestment)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:U(z.currentValue)}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${ie?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ie?"+":"",U(z.unrealizedPL)]}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${ie?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ie?"+":"",z.unrealizedPLPct.toFixed(1),"%"]})]},z.holdingId)}),a.jsxs("tr",{className:"bg-[var(--bg-inset)] border-t-2 border-[var(--border-light)]",children:[a.jsxs("td",{className:"py-2.5 px-4 text-xs font-semibold text-[var(--text-muted)]",children:["Total (",ee.length," stocks)"]}),a.jsx("td",{colSpan:3,className:"py-2.5 px-3"}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:U(_.invested)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:U(_.current)}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-semibold tabular-nums ${_.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[_.unrealizedPL>=0?"+":"",U(_.unrealizedPL)]}),a.jsxs("td",{className:`py-2.5 px-3 text-right text-xs font-bold tabular-nums ${_.unrealizedPL>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[_.unrealizedPLPct>=0?"+":"",_.unrealizedPLPct.toFixed(1),"%"]})]})]})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:ee.map(z=>{const ie=z.unrealizedPL>=0,q=w==="all"?k.find(O=>O.portfolioId===z.portfolioId):null;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1.5",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:z.companyName}),a.jsxs("p",{className:"text-xs font-mono text-[var(--text-dim)]",children:[z.symbol,q&&a.jsxs("span",{className:"ml-1 font-sans",children:[" ",q.portfolioName]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("p",{className:`text-xs font-bold tabular-nums ${ie?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ie?"+":"",z.unrealizedPLPct.toFixed(1),"%"]}),a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${ie?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[ie?"+":"",U(z.unrealizedPL)]})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs",children:[a.jsxs("div",{className:"text-[var(--text-dim)]",children:[a.jsxs("span",{children:[z.quantity," shares"]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["Avg ",U(z.avgBuyPrice)]}),a.jsx("span",{className:"mx-1",children:""}),a.jsxs("span",{children:["CMP ",U(z.currentPrice)]})]}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:U(z.currentValue)})]})]},z.holdingId)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(xs,{size:28,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No holdings",F?" in this portfolio":""]}),a.jsx("button",{onClick:()=>A({buy:w!=="all"?w:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Buy your first stock"})]})}),p==="transactions"&&a.jsx(a.Fragment,{children:$.length>0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Stock"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Qty"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Price"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Brokerage"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Net"}),a.jsx("th",{className:"text-right py-2 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Realized P&L"})]})}),a.jsx("tbody",{children:$.map(z=>{const ie=z.type==="BUY",q=!ie&&z.realizedPL!=null,O=q&&z.realizedPL>=0,ne=w==="all"?k.find(Q=>Q.portfolioId===z.portfolioId):null;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-secondary)]",children:z.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${ie?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:z.type})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:z.symbol}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[140px]",children:[z.companyName,ne&&a.jsxs("span",{children:["  ",ne.portfolioName]})]})]}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:z.quantity}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:U(z.pricePerShare)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-secondary)] tabular-nums",children:U(z.totalAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-dim)] tabular-nums",children:z.brokerage>0?U(z.brokerage):""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:U(z.netAmount)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:q?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${O?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[O?"+":"",U(z.realizedPL)]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},z.transactionId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:$.map(z=>{const ie=z.type==="BUY",q=!ie&&z.realizedPL!=null,O=q&&z.realizedPL>=0;return a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${ie?"bg-emerald-500/15 text-emerald-400":"bg-rose-500/15 text-[var(--accent-rose)]"}`,children:z.type}),a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:z.symbol})]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:z.date})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[z.quantity," shares @ ",U(z.pricePerShare)]}),a.jsxs("div",{className:"text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:U(z.netAmount)}),q&&a.jsxs("p",{className:`text-xs font-semibold tabular-nums ${O?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:["P&L: ",O?"+":"",U(z.realizedPL)]})]})]}),z.notes&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:z.notes})]},z.transactionId)})})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-10 flex flex-col items-center gap-3",children:[a.jsx(Mi,{size:28,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions yet"}),a.jsx("button",{onClick:()=>A({buy:w!=="all"?w:void 0}),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Make your first purchase"})]})})]}),a.jsx(We,{open:S==="addPortfolio"||!!S?.editPortfolio,onClose:()=>A(null),title:S?.editPortfolio?"Edit Portfolio":"New Stock Portfolio",children:a.jsx(rN,{initial:S?.editPortfolio||void 0,onSave:P,onDelete:S?.editPortfolio?le:void 0,onCancel:()=>A(null)})}),a.jsx(We,{open:!!S?.buy,onClose:()=>A(null),title:"Buy Stock",wide:!0,children:a.jsx(iN,{portfolioId:typeof S?.buy=="string"?S.buy:void 0,onSave:re,onCancel:()=>A(null)})}),a.jsx(We,{open:!!S?.sell,onClose:()=>A(null),title:"Sell Stock",wide:!0,children:a.jsx(oN,{portfolioId:typeof S?.sell=="string"?S.sell:void 0,onSave:D,onCancel:()=>A(null)})})]})}function wn({label:r,value:o,sub:u,positive:c,bold:v}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:r}),a.jsx("p",{className:`text-sm tabular-nums ${v?"font-bold":"font-semibold"} ${c===void 0?"text-[var(--text-primary)]":c?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:o}),u&&a.jsx("p",{className:`text-xs font-semibold tabular-nums mt-0.5 ${c?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:u})]})}const dN=["Self","Spouse","Father","Mother","Son","Daughter","Brother","Sister","Other"].map(r=>({value:r,label:r})),mi={pan:/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/,aadhar:/^\d{12}$/,email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,mobile:/^\d{10}$/};function uN({initial:r,onSave:o,onDelete:u,onCancel:c}){const v=!!r,[f,h]=j.useState({memberName:r?.memberName||"",relationship:r?.relationship||"",pan:r?.pan||"",aadhar:r?.aadhar||"",email:r?.email||"",mobile:r?.mobile||"",includeInEmailReports:r?.includeInEmailReports??!0,status:r?.status||"Active"}),[d,b]=j.useState({});function x(w,M){h(p=>({...p,[w]:M})),b(p=>({...p,[w]:void 0}))}function S(){const w={};return f.memberName.trim()||(w.memberName="Required"),f.relationship||(w.relationship="Required"),mi.pan.test(f.pan.toUpperCase())||(w.pan="Format: ABCDE1234F"),mi.aadhar.test(f.aadhar)||(w.aadhar="12 digits required"),mi.email.test(f.email)||(w.email="Invalid email"),mi.mobile.test(f.mobile)||(w.mobile="10 digits required"),b(w),Object.keys(w).length===0}function A(){S()&&o({...f,pan:f.pan.toUpperCase()})}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Member Name",required:!0,error:d.memberName,children:a.jsx(me,{value:f.memberName,onChange:w=>x("memberName",w),placeholder:"e.g., Jagadeesh"})}),a.jsx(J,{label:"Relationship",required:!0,error:d.relationship,children:a.jsx(je,{value:f.relationship,onChange:w=>x("relationship",w),options:dN,placeholder:"Select..."})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"PAN",required:!0,error:d.pan,children:a.jsx(me,{value:f.pan,onChange:w=>x("pan",w.toUpperCase()),placeholder:"ABCDE1234F",maxLength:10})}),a.jsx(J,{label:"Aadhar",required:!0,error:d.aadhar,children:a.jsx(me,{value:f.aadhar,onChange:w=>x("aadhar",w.replace(/\D/g,"")),placeholder:"123456789012",maxLength:12})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Email",required:!0,error:d.email,children:a.jsx(me,{type:"email",value:f.email,onChange:w=>x("email",w),placeholder:"email@example.com"})}),a.jsx(J,{label:"Mobile",required:!0,error:d.mobile,children:a.jsx(me,{value:f.mobile,onChange:w=>x("mobile",w.replace(/\D/g,"")),placeholder:"9876543210",maxLength:10})})]}),a.jsx(p1,{checked:f.includeInEmailReports,onChange:w=>x("includeInEmailReports",w),label:"Include in email reports"}),v&&a.jsx(J,{label:"Status",children:a.jsx(je,{value:f.status,onChange:w=>x("status",w),options:[{value:"Active",label:"Active"},{value:"Inactive",label:"Inactive"}]})}),a.jsxs("div",{className:"flex items-center justify-between",children:[v&&u?a.jsx(na,{onClick:u}):a.jsx("div",{}),a.jsx(ht,{onCancel:c,onSubmit:A,submitLabel:v?"Update":"Add Member"})]})]})}const xi=["from-violet-500 to-indigo-500","from-rose-500 to-pink-500","from-blue-500 to-cyan-500","from-amber-500 to-orange-500","from-emerald-500 to-teal-500"],ph={Self:"bg-violet-500/15 text-[var(--accent-violet)]",Spouse:"bg-rose-500/15 text-[var(--accent-rose)]",Father:"bg-blue-500/15 text-[var(--accent-blue)]",Mother:"bg-amber-500/15 text-[var(--accent-amber)]",Son:"bg-emerald-500/15 text-emerald-400",Daughter:"bg-emerald-500/15 text-emerald-400"};function mN(){const{members:r,banks:o,investments:u,insurancePolicies:c,addMember:v,updateMember:f,deleteMember:h}=ke(),[d,b]=j.useState(null),x=r.filter(p=>p.status!=="Inactive"),S=x.filter(p=>p.includeInEmailReports).length,A=j.useMemo(()=>{const p={};return x.forEach(g=>{p[g.memberId]={bankCount:o.filter(y=>y.memberId===g.memberId&&y.status!=="Inactive").length,invCount:u.filter(y=>y.memberId===g.memberId&&y.status!=="Inactive").length,insCount:c.filter(y=>y.memberId===g.memberId&&y.status!=="Inactive").length}}),p},[x,o,u,c]);function w(p){d?.edit?f(d.edit.memberId,p):v(p),b(null)}function M(){d?.edit&&confirm("Deactivate this family member?")&&(h(d.edit.memberId),b(null))}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[a.jsx(pd,{label:"Members",value:x.length}),a.jsx(pd,{label:"Email Reports",value:`${S} / ${x.length}`}),a.jsx(pd,{label:"Bank Accounts",value:o.filter(p=>p.status!=="Inactive").length})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Vt,{size:14})," Add Member"]})}),x.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(fs,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No family members yet"}),a.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add your first member"})]}):a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[680px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Relationship"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Mobile"}),a.jsxs("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Accounts"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Bank / Inv / Ins"})]}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Email Rpt"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:x.map((p,g)=>{const y=A[p.memberId]||{};return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsxs("div",{className:"flex items-center gap-2.5",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${xi[g%xi.length]}`,children:p.memberName.charAt(0)}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:p.memberName}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:p.memberId})]})]})}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${ph[p.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:p.relationship})}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] truncate max-w-[180px]",children:p.email}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)] tabular-nums",children:p.mobile}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-[var(--text-dim)]",children:[a.jsxs("span",{className:"flex items-center gap-0.5",title:"Bank accounts",children:[a.jsx(Ln,{size:10})," ",y.bankCount||0]}),a.jsxs("span",{className:"flex items-center gap-0.5",title:"Investment accounts",children:[a.jsx(wi,{size:10})," ",y.invCount||0]}),a.jsxs("span",{className:"flex items-center gap-0.5",title:"Insurance policies",children:[a.jsx(yl,{size:10})," ",y.insCount||0]})]})}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:p.includeInEmailReports?a.jsx(Tp,{size:13,className:"inline text-emerald-400"}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>b({edit:p}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(sa,{size:12})})})]},p.memberId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:x.map((p,g)=>{const y=A[p.memberId]||{};return a.jsxs("div",{onClick:()=>b({edit:p}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center gap-2.5 mb-1.5",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-xs font-bold text-white bg-gradient-to-br ${xi[g%xi.length]}`,children:p.memberName.charAt(0)}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:p.memberName}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${ph[p.relationship]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:p.relationship})]}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] truncate",children:p.email})]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:p.mobile}),a.jsxs("div",{className:"flex items-center gap-2 text-xs text-[var(--text-dim)]",children:[a.jsxs("span",{className:"flex items-center gap-0.5",children:[a.jsx(Ln,{size:10})," ",y.bankCount||0]}),a.jsxs("span",{className:"flex items-center gap-0.5",children:[a.jsx(wi,{size:10})," ",y.invCount||0]}),a.jsxs("span",{className:"flex items-center gap-0.5",children:[a.jsx(yl,{size:10})," ",y.insCount||0]})]})]})]},p.memberId)})})]}),a.jsx(We,{open:!!d,onClose:()=>b(null),title:d?.edit?"Edit Member":"Add Family Member",wide:!0,children:a.jsx(uN,{initial:d?.edit||void 0,onSave:w,onDelete:d?.edit?M:void 0,onCancel:()=>b(null)})})]})}function pd({label:r,value:o}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:r}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] tabular-nums",children:o})]})}const bh=["Retirement","Emergency Fund","Child Education","Home Purchase","Car","Travel","Wedding","Custom"].map(r=>({value:r,label:r})),vh=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}],xN=[{value:"On Track",label:"On Track"},{value:"Needs Attention",label:"Needs Attention"},{value:"Achieved",label:"Achieved"},{value:"Paused",label:"Paused"}],gh=[{label:"Basics",icon:Hn},{label:"Financials",icon:ij},{label:"Review",icon:Ei}];function fN({initial:r,onSave:o,onDelete:u,onCancel:c}){const v=!!r,{activeMembers:f}=ke(),h=f.map(Q=>({value:Q.memberId,label:Q.memberName})),[d,b]=j.useState(0),[x,S]=j.useState({goalType:r?.goalType||"",goalName:r?.goalName||"",familyMemberId:r?.familyMemberId||"",targetAmount:r?.targetAmount?.toString()||"",targetDate:r?.targetDate||"",currentValue:r?.currentValue?.toString()||"0",monthlyInvestment:r?.monthlyInvestment?.toString()||"",priority:r?.priority||"Medium",status:r?.status||"On Track",notes:r?.notes||""}),[A,w]=j.useState({});function M(Q,xe){S(I=>({...I,[Q]:xe})),w(I=>({...I,[Q]:void 0}))}function p(Q){const xe={};return Q===0&&(x.goalType||(xe.goalType="Required"),x.goalName.trim()||(xe.goalName="Required"),x.familyMemberId||(xe.familyMemberId="Required")),Q===1&&((!x.targetAmount||Number(x.targetAmount)<=0)&&(xe.targetAmount="Must be > 0"),x.targetDate||(xe.targetDate="Required"),!x.monthlyInvestment&&x.monthlyInvestment!=="0"&&(xe.monthlyInvestment="Required")),w(xe),Object.keys(xe).length===0}function g(){const Q={};return x.goalType||(Q.goalType="Required"),x.goalName.trim()||(Q.goalName="Required"),x.familyMemberId||(Q.familyMemberId="Required"),(!x.targetAmount||Number(x.targetAmount)<=0)&&(Q.targetAmount="Must be > 0"),x.targetDate||(Q.targetDate="Required"),!x.monthlyInvestment&&x.monthlyInvestment!=="0"&&(Q.monthlyInvestment="Required"),w(Q),Object.keys(Q).length===0}function y(){p(d)&&b(Q=>Math.min(Q+1,2))}function N(){!v&&!g()||v&&!g()||o({...x,targetAmount:Number(x.targetAmount),currentValue:Number(x.currentValue)||0,monthlyInvestment:Number(x.monthlyInvestment)||0})}const R=f.find(Q=>Q.memberId===x.familyMemberId)?.memberName||"",k=x.targetDate?Math.max(0,(new Date(x.targetDate)-new Date)/(365.25*24*60*60*1e3)):0,_=k>0?k.toFixed(1):"",ee=Number(x.targetAmount)||0,$=Number(x.currentValue)||0,F=Number(x.monthlyInvestment)||0,ce=ee>0?$/ee*100:0,P=ee-$,re=.12/12,D=Math.round(k*12),z=D>0?$*Math.pow(1+re,D):$,ie=D>0&&re>0?F*((Math.pow(1+re,D)-1)/re):F*D,q=z+ie,O=q>=ee,ne=D>0&&re>0?Math.max(0,Math.ceil((ee-z)/((Math.pow(1+re,D)-1)/re))):P>0?Math.ceil(P/Math.max(D,1)):0;return v?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Goal Type",required:!0,error:A.goalType,children:a.jsx(je,{value:x.goalType,onChange:Q=>M("goalType",Q),options:bh,placeholder:"Select type..."})}),a.jsx(J,{label:"Goal Name",required:!0,error:A.goalName,children:a.jsx(me,{value:x.goalName,onChange:Q=>M("goalName",Q),placeholder:"e.g., Retirement Fund (2045)"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Family Member",required:!0,error:A.familyMemberId,children:a.jsx(je,{value:x.familyMemberId,onChange:Q=>M("familyMemberId",Q),options:h,placeholder:"Select member..."})}),a.jsx(J,{label:"Target Date",required:!0,error:A.targetDate,children:a.jsx(me,{type:"date",value:x.targetDate,onChange:Q=>M("targetDate",Q)})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(J,{label:"Target Amount",required:!0,error:A.targetAmount,children:a.jsx(me,{type:"number",value:x.targetAmount,onChange:Q=>M("targetAmount",Q),placeholder:"e.g., 3000000"})}),a.jsx(J,{label:"Current Value",error:A.currentValue,children:a.jsx(me,{type:"number",value:x.currentValue,onChange:Q=>M("currentValue",Q),placeholder:"0"})}),a.jsx(J,{label:"Monthly Investment",required:!0,error:A.monthlyInvestment,children:a.jsx(me,{type:"number",value:x.monthlyInvestment,onChange:Q=>M("monthlyInvestment",Q),placeholder:"e.g., 25000"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Priority",children:a.jsx(je,{value:x.priority,onChange:Q=>M("priority",Q),options:vh})}),a.jsx(J,{label:"Status",children:a.jsx(je,{value:x.status,onChange:Q=>M("status",Q),options:xN})})]}),a.jsx(J,{label:"Notes",children:a.jsx(hs,{value:x.notes,onChange:Q=>M("notes",Q),placeholder:"Optional notes about this goal...",rows:2})}),a.jsxs("div",{className:"flex items-center justify-between",children:[u?a.jsx(na,{onClick:u}):a.jsx("div",{}),a.jsx(ht,{onCancel:c,onSubmit:N,submitLabel:"Update Goal"})]})]}):a.jsxs("div",{className:"space-y-5",children:[a.jsx("div",{className:"flex items-center gap-1 mb-2",children:gh.map((Q,xe)=>{const I=Q.icon,T=xe===d,H=xe<d;return a.jsxs("div",{className:"flex items-center flex-1",children:[a.jsxs("button",{onClick:()=>{xe<d&&b(xe)},className:`flex items-center gap-1.5 text-xs font-semibold transition-colors ${T?"text-violet-400":H?"text-emerald-400 cursor-pointer":"text-[var(--text-dim)]"}`,children:[a.jsx("span",{className:`w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold border ${T?"border-violet-400 bg-violet-500/15":H?"border-emerald-400 bg-emerald-500/15":"border-[var(--border)] bg-[var(--bg-inset)]"}`,children:H?a.jsx(Ei,{size:12}):a.jsx(I,{size:12})}),a.jsx("span",{className:"hidden sm:inline",children:Q.label})]}),xe<gh.length-1&&a.jsx("div",{className:`flex-1 h-px mx-2 ${H?"bg-emerald-400/40":"bg-[var(--border)]"}`})]},Q.label)})}),d===0&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Tell us about your financial goal"}),a.jsx(J,{label:"Goal Type",required:!0,error:A.goalType,children:a.jsx(je,{value:x.goalType,onChange:Q=>M("goalType",Q),options:bh,placeholder:"Select type..."})}),a.jsx(J,{label:"Goal Name",required:!0,error:A.goalName,children:a.jsx(me,{value:x.goalName,onChange:Q=>M("goalName",Q),placeholder:"e.g., Retirement Fund (2045)"})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Family Member",required:!0,error:A.familyMemberId,children:a.jsx(je,{value:x.familyMemberId,onChange:Q=>M("familyMemberId",Q),options:h,placeholder:"Select member..."})}),a.jsx(J,{label:"Priority",children:a.jsx(je,{value:x.priority,onChange:Q=>M("priority",Q),options:vh})})]})]}),d===1&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Set your target and investment plan"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Target Amount",required:!0,error:A.targetAmount,children:a.jsx(me,{type:"number",value:x.targetAmount,onChange:Q=>M("targetAmount",Q),placeholder:"e.g., 3000000"})}),a.jsx(J,{label:"Target Date",required:!0,error:A.targetDate,children:a.jsx(me,{type:"date",value:x.targetDate,onChange:Q=>M("targetDate",Q)})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Current Value Saved",children:a.jsx(me,{type:"number",value:x.currentValue,onChange:Q=>M("currentValue",Q),placeholder:"0"})}),a.jsx(J,{label:"Monthly Investment (SIP)",required:!0,error:A.monthlyInvestment,children:a.jsx(me,{type:"number",value:x.monthlyInvestment,onChange:Q=>M("monthlyInvestment",Q),placeholder:"e.g., 25000"})})]}),a.jsx(J,{label:"Notes",children:a.jsx(hs,{value:x.notes,onChange:Q=>M("notes",Q),placeholder:"Optional notes about this goal...",rows:2})})]}),d===2&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"Review your goal before saving"}),a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal"}),a.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:x.goalName||""})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Type"}),a.jsx("span",{className:"text-xs font-semibold text-violet-400",children:x.goalType||""})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Member"}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)]",children:R||""})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Priority"}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${x.priority==="High"?"bg-rose-500/15 text-rose-400":x.priority==="Low"?"bg-blue-500/15 text-blue-400":"bg-amber-500/15 text-amber-400"}`,children:x.priority})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Target Amount"}),a.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:U(ee)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Current Value"}),a.jsx("span",{className:"text-sm font-semibold text-[var(--text-primary)]",children:U($)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Gap to Target"}),a.jsx("span",{className:"text-sm font-semibold text-[var(--accent-amber)]",children:U(Math.max(0,P))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-card)] rounded-full overflow-hidden",children:a.jsx("div",{className:"h-full rounded-full bg-violet-500",style:{width:`${Math.min(ce,100)}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[ce.toFixed(0),"%"]})]}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-3 flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Monthly SIP"}),a.jsxs("span",{className:"text-sm font-semibold text-emerald-400",children:[U(F),"/mo"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Target Date"}),a.jsx("span",{className:"text-xs text-[var(--text-secondary)]",children:x.targetDate||""})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Time Remaining"}),a.jsxs("span",{className:"text-xs text-[var(--text-secondary)]",children:[_," years"]})]})]}),D>0&&ee>0&&a.jsxs("div",{className:`rounded-lg border p-4 space-y-3 ${O?"bg-emerald-500/5 border-emerald-500/20":"bg-amber-500/5 border-amber-500/20"}`,children:[a.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[a.jsx("span",{className:`text-xs font-bold uppercase tracking-wider ${O?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:O?"On Track":"SIP May Be Insufficient"}),a.jsx("span",{className:"text-[10px] text-[var(--text-dim)] ml-auto",children:"@12% p.a. assumed"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Projected Value at Target Date"}),a.jsx("span",{className:`text-sm font-bold ${O?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:U(Math.round(q))})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-card)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${O?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(q/ee*100,100)}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[Math.min(Math.round(q/ee*100),999),"%"]})]}),!O&&a.jsxs("div",{className:"flex items-center justify-between pt-1 border-t border-[var(--border-light)]",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Required SIP to meet target"}),a.jsxs("span",{className:"text-xs font-bold text-[var(--accent-amber)]",children:[U(ne),"/mo"]})]}),O&&q>ee&&a.jsxs("div",{className:"flex items-center justify-between pt-1 border-t border-[var(--border-light)]",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Projected Surplus"}),a.jsxs("span",{className:"text-xs font-semibold text-emerald-400",children:["+",U(Math.round(q-ee))]})]})]}),x.notes&&a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-3",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Notes"}),a.jsx("p",{className:"text-xs text-[var(--text-secondary)] mt-1",children:x.notes})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-[var(--border-light)]",children:[a.jsx("div",{children:d>0&&a.jsxs("button",{onClick:()=>b(Q=>Q-1),className:"flex items-center gap-1 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx(Uy,{size:14})," Back"]})}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("button",{onClick:c,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),d<2?a.jsxs("button",{onClick:y,className:"flex items-center gap-1 px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors",children:["Next ",a.jsx(wp,{size:14})]}):a.jsx("button",{onClick:N,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors",children:"Create Goal"})]})]})]})}function hN({goal:r,onClose:o}){const{mfPortfolios:u,goalPortfolioMappings:c,updateGoalMappings:v}=ke(),f=u.filter(y=>y.status!=="Inactive"),h=j.useMemo(()=>c.filter(y=>y.goalId===r.goalId).map(y=>({portfolioId:y.portfolioId,allocationPct:y.allocationPct})),[c,r.goalId]),[d,b]=j.useState(h.length>0?h:[]),x=d.reduce((y,N)=>y+(N.allocationPct||0),0),S=x===100||d.length===0;function A(){const y=new Set(d.map(R=>R.portfolioId)),N=f.find(R=>!y.has(R.portfolioId));N&&b(R=>[...R,{portfolioId:N.portfolioId,allocationPct:0}])}function w(y){b(N=>N.filter((R,k)=>k!==y))}function M(y,N,R){b(k=>k.map((_,ee)=>ee===y?{..._,[N]:N==="allocationPct"?Math.max(0,Math.min(100,Number(R)||0)):R}:_))}function p(){v(r.goalId,d),o()}const g=d.reduce((y,N)=>{const R=f.find(k=>k.portfolioId===N.portfolioId);return y+(R?R.currentValue*N.allocationPct/100:0)},0);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),a.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:U(r.targetAmount)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Linked Portfolio Value"}),a.jsx("span",{className:"text-sm font-semibold text-emerald-400",children:U(g)})]})]}),d.length===0?a.jsxs("div",{className:"py-6 text-center",children:[a.jsx(Ai,{size:24,className:"mx-auto mb-2 text-[var(--text-dim)]"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)]",children:"No portfolios linked to this goal"})]}):a.jsx("div",{className:"space-y-2",children:d.map((y,N)=>{const R=f.find(k=>k.portfolioId===y.portfolioId);return a.jsxs("div",{className:"flex items-center gap-2 bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-3",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("select",{value:y.portfolioId,onChange:k=>M(N,"portfolioId",k.target.value),className:"w-full px-2 py-1.5 text-xs bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",children:f.map(k=>a.jsxs("option",{value:k.portfolioId,disabled:d.some((_,ee)=>ee!==N&&_.portfolioId===k.portfolioId),children:[k.portfolioName," (",k.ownerName,")  ",U(k.currentValue)]},k.portfolioId))}),R&&a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)] mt-1 px-1",children:["Contributes ",U(R.currentValue*y.allocationPct/100)," to this goal"]})]}),a.jsxs("div",{className:"flex items-center gap-1 shrink-0",children:[a.jsx("input",{type:"number",value:y.allocationPct,onChange:k=>M(N,"allocationPct",k.target.value),className:"w-16 px-2 py-1.5 text-xs text-center bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-[var(--sidebar-active-text)]",min:"0",max:"100"}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"%"}),a.jsx("button",{onClick:()=>w(N),className:"p-1.5 text-[var(--text-dim)] hover:text-rose-400 rounded transition-colors",children:a.jsx(Dp,{size:12})})]})]},N)})}),d.length>0&&a.jsxs("div",{className:"flex items-center justify-between px-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Total Allocation"}),a.jsxs("span",{className:`text-xs font-bold ${x===100?"text-emerald-400":x>100?"text-rose-400":"text-amber-400"}`,children:[x,"%",x!==100&&a.jsx("span",{className:"font-normal text-[var(--text-dim)]",children:" (must be 100%)"})]})]}),d.length<f.length&&a.jsxs("button",{onClick:A,className:"flex items-center gap-1.5 text-xs font-semibold text-violet-400 hover:text-violet-300 transition-colors",children:[a.jsx(Vt,{size:14})," Link Portfolio"]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:[a.jsx("button",{onClick:o,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Cancel"}),a.jsx("button",{onClick:p,disabled:!S,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"Save Mapping"})]})]})}function pN({goal:r,onClose:o}){const{goalPortfolioMappings:u,mfPortfolios:c,mfHoldings:v}=ke(),f=j.useMemo(()=>{const d=u.filter(A=>A.goalId===r.goalId);if(d.length===0)return null;const b=d.map(A=>{const w=c.find(N=>N.portfolioId===A.portfolioId);if(!w)return null;const M=v.filter(N=>N.portfolioId===A.portfolioId&&N.units>0),p=M.reduce((N,R)=>N+R.currentValue,0),g=p*A.allocationPct/100,y=M.map(N=>{const R=p>0?N.currentValue/p:0,k=g*R,_=N.currentNav>0?k/N.currentNav:0,ee=k-_*N.avgNav;return{fundName:N.fundName,currentValue:N.currentValue,withdrawValue:k,withdrawUnits:Math.min(_,N.units),currentNav:N.currentNav,taxableGain:ee,availableUnits:N.units}}).filter(N=>N.withdrawValue>0);return{portfolioName:w.portfolioName,ownerName:w.ownerName,allocationPct:A.allocationPct,portfolioValue:p,linkedValue:g,fundWithdrawals:y}}).filter(Boolean),x=b.reduce((A,w)=>A+w.linkedValue,0),S=b.reduce((A,w)=>A+w.fundWithdrawals.reduce((M,p)=>M+p.taxableGain,0),0);return{portfolioDetails:b,totalLinked:x,totalTaxableGain:S}},[r,u,c,v]);if(!f)return a.jsxs("div",{className:"py-8 text-center space-y-2",children:[a.jsx(qd,{size:24,className:"mx-auto text-amber-400"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No portfolios linked to this goal"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Link portfolios first to generate a withdrawal plan"}),a.jsx("button",{onClick:o,className:"mt-2 px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})]});const h=r.targetAmount>0?f.totalLinked/r.targetAmount*100:0;return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] p-4 space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Goal Target"}),a.jsx("span",{className:"text-sm font-bold text-[var(--text-primary)]",children:U(r.targetAmount)})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Available from Linked Portfolios"}),a.jsx("span",{className:`text-sm font-bold ${f.totalLinked>=r.targetAmount?"text-emerald-400":"text-amber-400"}`,children:U(f.totalLinked)})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-card)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${h>=100?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(h,100)}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[h.toFixed(0),"%"]})]}),f.totalTaxableGain>0&&a.jsxs("div",{className:"flex items-center justify-between pt-1",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:"Estimated Taxable Gain"}),a.jsx("span",{className:"text-xs font-semibold text-amber-400",children:U(f.totalTaxableGain)})]})]}),f.portfolioDetails.map(d=>a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg border border-[var(--border-light)] overflow-hidden",children:[a.jsxs("div",{className:"px-4 py-2.5 bg-[var(--bg-card)] border-b border-[var(--border-light)] flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)]",children:d.portfolioName}),a.jsxs("p",{className:"text-[10px] text-[var(--text-dim)]",children:[d.ownerName,"  ",d.allocationPct,"% allocated to goal"]})]}),a.jsx("span",{className:"text-xs font-bold text-[var(--text-primary)]",children:U(d.linkedValue)})]}),a.jsx("div",{className:"px-4 py-2",children:a.jsxs("table",{className:"w-full text-xs",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"text-[var(--text-dim)]",children:[a.jsx("th",{className:"text-left py-1 font-medium",children:"Fund"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Units"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Amount"}),a.jsx("th",{className:"text-right py-1 font-medium",children:"Gain"})]})}),a.jsx("tbody",{children:d.fundWithdrawals.map(b=>a.jsxs("tr",{className:"border-t border-[var(--border-light)]",children:[a.jsx("td",{className:"py-1.5 text-[var(--text-secondary)] max-w-[180px] truncate",children:b.fundName}),a.jsx("td",{className:"py-1.5 text-right text-[var(--text-muted)] tabular-nums",children:b.withdrawUnits.toFixed(2)}),a.jsx("td",{className:"py-1.5 text-right text-[var(--text-primary)] font-semibold tabular-nums",children:U(b.withdrawValue)}),a.jsx("td",{className:`py-1.5 text-right tabular-nums font-semibold ${b.taxableGain>=0?"text-emerald-400":"text-rose-400"}`,children:U(Math.abs(b.taxableGain))})]},b.fundName))})]})})]},d.portfolioName)),a.jsx("div",{className:"flex items-center justify-end gap-2 pt-4 border-t border-[var(--border-light)]",children:a.jsx("button",{onClick:o,className:"px-5 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})})]})}const bN=[{label:"Retirement",target:3e7,years:20,rate:12},{label:"Child Edu",target:25e5,years:12,rate:12},{label:"Home",target:2e6,years:5,rate:10},{label:"Emergency",target:5e5,years:1,rate:7},{label:"Car",target:8e5,years:2,rate:8}];function vN({onClose:r}){const[o,u]=j.useState(""),[c,v]=j.useState(""),[f,h]=j.useState(""),[d,b]=j.useState(""),[x,S]=j.useState("12");function A(M){u(String(M.target)),b(String(M.years)),S(String(M.rate)),v(""),h("")}const w=j.useMemo(()=>{const M=Number(o)||0,p=Number(c)||0,g=Number(f)||0,y=Number(d)||0,R=(Number(x)||0)/100/12,k=Math.round(y*12);if(k<=0)return null;const _=p>0?p*Math.pow(1+R,k):0,ee=g>0&&R>0?g*((Math.pow(1+R,k)-1)/R):g*k,$=_+ee,F=p+g*k,ce=$-F;let P=0;if(M>0){const ie=M-_;ie>0&&R>0?P=ie/((Math.pow(1+R,k)-1)/R):ie>0&&R===0&&(P=ie/k),P=Math.max(0,P)}const le=M>0&&_>=M,re=M>0?$>=M:!1,D=M>0?$/M*100:0,z=g>0&&M>0?g-P:0;return{fvLumpsum:Math.round(_),fvSIP:Math.round(ee),projectedTotal:Math.round($),totalInvested:Math.round(F),totalReturns:Math.round(ce),requiredSIP:Math.ceil(P),lumpsumCoversTarget:le,isOnTrack:re,pctOfTarget:D,sipDelta:Math.round(z),target:M,months:k,hasLumpsum:p>0,hasSIP:g>0,hasTarget:M>0}},[o,c,f,d,x]);return a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"flex flex-wrap gap-1.5",children:bN.map(M=>a.jsx("button",{onClick:()=>A(M),className:"px-2.5 py-1 text-xs font-semibold rounded-lg border border-[var(--border)] text-[var(--text-muted)] hover:text-violet-400 hover:border-violet-500/30 transition-colors",children:M.label},M.label))}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[a.jsx(Cn,{label:"Target Amount",value:o,onChange:u,placeholder:"30,00,000",prefix:""}),a.jsx(Cn,{label:"Lumpsum Now",value:c,onChange:v,placeholder:"5,00,000",prefix:""}),a.jsx(Cn,{label:"Monthly SIP",value:f,onChange:h,placeholder:"25,000",prefix:""}),a.jsx(Cn,{label:"Time Period",value:d,onChange:b,placeholder:"10",suffix:"yrs"}),a.jsx(Cn,{label:"Expected Return",value:x,onChange:S,placeholder:"12",suffix:"% p.a."})]}),w&&a.jsxs("div",{className:"space-y-3",children:[w.hasTarget&&!w.lumpsumCoversTarget&&a.jsxs("div",{className:"bg-violet-500/5 border border-violet-500/20 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-[10px] font-bold text-violet-400 uppercase tracking-wider",children:"Required Monthly SIP"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:["To reach ",U(w.target)," in ",w.months/12," yrs"]})]}),a.jsxs("p",{className:"text-xl font-bold text-[var(--text-primary)] tabular-nums",children:[U(w.requiredSIP),a.jsx("span",{className:"text-xs text-[var(--text-dim)] font-normal",children:"/mo"})]})]}),w.hasSIP&&a.jsx("div",{className:"mt-2 pt-2 border-t border-violet-500/15",children:w.sipDelta>=0?a.jsxs("p",{className:"text-xs text-emerald-400",children:["Your SIP of ",U(Number(f))," is sufficient  surplus of ",U(w.sipDelta),"/mo"]}):a.jsxs("p",{className:"text-xs text-[var(--accent-amber)]",children:["Your SIP of ",U(Number(f))," falls short by ",U(Math.abs(w.sipDelta)),"/mo"]})})]}),w.hasTarget&&w.lumpsumCoversTarget&&a.jsxs("div",{className:"bg-emerald-500/5 border border-emerald-500/20 rounded-lg p-3 text-center",children:[a.jsx("p",{className:"text-xs font-bold text-emerald-400 uppercase tracking-wider",children:"Lumpsum Alone Is Sufficient!"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-1",children:[U(Number(c))," grows to ",U(w.fvLumpsum),"  exceeds target of ",U(w.target)]})]}),(w.hasLumpsum||w.hasSIP)&&a.jsxs("div",{className:`rounded-lg border p-3 ${w.hasTarget?w.isOnTrack?"bg-emerald-500/5 border-emerald-500/20":"bg-amber-500/5 border-amber-500/20":"bg-[var(--bg-inset)] border-[var(--border-light)]"}`,children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("p",{className:"text-[10px] font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Projected Value"}),a.jsx("p",{className:"text-lg font-bold text-[var(--text-primary)] tabular-nums",children:U(w.projectedTotal)})]}),w.hasTarget&&a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"flex-1 h-1.5 bg-[var(--bg-card)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${w.isOnTrack?"bg-emerald-500":"bg-amber-500"}`,style:{width:`${Math.min(w.pctOfTarget,100)}%`}})}),a.jsxs("span",{className:`text-xs font-bold tabular-nums ${w.isOnTrack?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:[Math.round(w.pctOfTarget),"%"]})]}),a.jsxs("div",{className:"space-y-1.5",children:[w.hasLumpsum&&a.jsx(fi,{label:`Lumpsum ${U(Number(c))} grows to`,value:U(w.fvLumpsum),color:"emerald"}),w.hasSIP&&a.jsx(fi,{label:`SIP ${U(Number(f))}/mo  ${w.months} mo grows to`,value:U(w.fvSIP),color:"blue"}),a.jsxs("div",{className:"border-t border-[var(--border-light)] pt-1.5 mt-1.5",children:[a.jsx(fi,{label:"Total You Invest",value:U(w.totalInvested)}),a.jsx(fi,{label:"Wealth Created (Returns)",value:`+${U(w.totalReturns)}`,color:"emerald"})]})]})]})]}),a.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-[var(--border-light)]",children:[a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:"Monthly compounding assumed. Returns may vary."}),a.jsx("button",{onClick:r,className:"px-4 py-2 text-xs font-semibold text-[var(--text-muted)] hover:text-[var(--text-primary)] rounded-lg hover:bg-[var(--bg-hover)] transition-colors",children:"Close"})]})]})}function Cn({label:r,value:o,onChange:u,placeholder:c,prefix:v,suffix:f}){return a.jsxs("div",{children:[a.jsx("label",{className:"block text-[10px] font-semibold text-[var(--text-muted)] mb-1 uppercase tracking-wider",children:r}),a.jsxs("div",{className:"relative",children:[v&&a.jsx("span",{className:"absolute left-2.5 top-1/2 -translate-y-1/2 text-xs text-[var(--text-dim)]",children:v}),a.jsx("input",{type:"number",value:o,onChange:h=>u(h.target.value),placeholder:c,className:`w-full ${v?"pl-6":"pl-3"} ${f?"pr-12":"pr-3"} py-2 text-sm bg-[var(--bg-input)] border border-[var(--border-input)] rounded-lg text-[var(--text-primary)] placeholder:text-[var(--text-dim)] focus:outline-none focus:border-[var(--sidebar-active-text)] focus:ring-1 focus:ring-[var(--sidebar-active-text)] transition-colors tabular-nums`}),f&&a.jsx("span",{className:"absolute right-2.5 top-1/2 -translate-y-1/2 text-[10px] text-[var(--text-dim)]",children:f})]})]})}function fi({label:r,value:o,color:u}){const c=u==="emerald"?"text-emerald-400":u==="blue"?"text-[var(--accent-blue)]":"text-[var(--text-primary)]";return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:r}),a.jsx("span",{className:`text-xs font-semibold tabular-nums ${c}`,children:o})]})}const yh={"On Track":"bg-blue-500/15 text-[var(--accent-blue)]","Needs Attention":"bg-amber-500/15 text-[var(--accent-amber)]",Achieved:"bg-emerald-500/15 text-emerald-400",Paused:"bg-slate-500/15 text-[var(--text-muted)]"},gN={High:"bg-rose-500/15 text-[var(--accent-rose)]",Medium:"bg-amber-500/15 text-[var(--accent-amber)]",Low:"bg-blue-500/15 text-[var(--accent-blue)]"},jh={"On Track":"bg-blue-500","Needs Attention":"bg-amber-500",Achieved:"bg-emerald-500",Paused:"bg-slate-500"};function yN(){const{selectedMember:r,member:o}=mt(),{goalList:u,addGoal:c,updateGoal:v,deleteGoal:f,goalPortfolioMappings:h}=ke(),[d,b]=j.useState(null),[x,S]=j.useState(null),[A,w]=j.useState(null),[M,p]=j.useState(null),[g,y]=j.useState(!1),N=j.useRef(new Set),R=j.useMemo(()=>{const z=u.filter(ie=>ie.isActive!==!1);return r==="all"?z:z.filter(ie=>ie.familyMemberId===r)},[u,r]),k=R.reduce((z,ie)=>z+(ie.targetAmount||0),0),_=R.reduce((z,ie)=>z+(ie.currentValue||0),0),ee=R.reduce((z,ie)=>z+(ie.monthlyInvestment||0),0),$=k>0?_/k*100:0,F=R.filter(z=>z.status==="Needs Attention").length,ce=R.filter(z=>z.status==="Achieved").length;j.useEffect(()=>{const z=new Set(R.filter(q=>q.status==="Achieved").map(q=>q.goalId)),ie=N.current;for(const q of z)if(!ie.has(q)){const O=R.find(ne=>ne.goalId===q);O&&(p(O),setTimeout(()=>p(null),5e3))}N.current=z},[R]);function P(z){d?.edit?v(d.edit.goalId,z):c(z),b(null)}function le(){d?.edit&&confirm("Delete this goal?")&&(f(d.edit.goalId),b(null))}function re(z){return!z.targetAmount||z.targetAmount===0?0:Math.min((z.currentValue||0)/z.targetAmount*100,100)}function D(z){if(!z.targetDate)return null;const q=(new Date(z.targetDate)-new Date)/(365.25*24*60*60*1e3);return q>0?q.toFixed(1):"0"}return a.jsxs("div",{className:"space-y-4",children:[R.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Hn,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No goals set",o?` for ${o.memberName}`:""]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{onClick:()=>y(!0),className:"text-xs font-semibold text-emerald-400 hover:text-emerald-300",children:"Goal Calculator"}),a.jsx("button",{onClick:()=>b("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Create your first goal"})]})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-5 gap-3",children:[a.jsx(An,{label:"Goals",value:R.length,sub:ce>0?`${ce} achieved`:void 0}),a.jsx(An,{label:"Target",value:U(k),bold:!0}),a.jsx(An,{label:"Current Value",value:U(_),bold:!0}),a.jsx(An,{label:"Overall Progress",value:`${$.toFixed(1)}%`,positive:$>=50,bold:!0}),a.jsx(An,{label:"Monthly SIP",value:U(ee),sub:F>0?`${F} need attention`:void 0})]}),M&&a.jsxs("div",{className:"relative bg-gradient-to-r from-emerald-500/10 via-yellow-500/10 to-emerald-500/10 rounded-xl border border-emerald-500/30 px-4 py-3 flex items-center gap-3 animate-fade-in overflow-hidden",children:[a.jsx("div",{className:"absolute inset-0 pointer-events-none",children:Array.from({length:20}).map((z,ie)=>a.jsx("span",{className:"absolute text-sm animate-confetti",style:{left:`${Math.random()*100}%`,animationDelay:`${Math.random()*2}s`,animationDuration:`${2+Math.random()*2}s`},children:["","","","",""][ie%5]},ie))}),a.jsx(eh,{size:20,className:"text-yellow-400 shrink-0 relative z-10"}),a.jsxs("div",{className:"relative z-10",children:[a.jsx("p",{className:"text-sm font-bold text-emerald-400",children:"Goal Achieved!"}),a.jsxs("p",{className:"text-xs text-[var(--text-secondary)]",children:[M.goalName,"  Congratulations!"]})]}),a.jsx("button",{onClick:()=>p(null),className:"ml-auto text-xs text-[var(--text-dim)] hover:text-[var(--text-primary)] relative z-10",children:"Dismiss"})]}),ce>0&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-emerald-500/20 p-4",children:[a.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[a.jsx(eh,{size:14,className:"text-yellow-400"}),a.jsx("p",{className:"text-xs font-bold text-[var(--text-secondary)] uppercase tracking-wider",children:"Achieved Goals"})]}),a.jsx("div",{className:"flex gap-3 overflow-x-auto no-scrollbar pb-1",children:R.filter(z=>z.status==="Achieved").map(z=>a.jsxs("div",{className:"shrink-0 bg-emerald-500/10 border border-emerald-500/20 rounded-lg px-3 py-2 min-w-[160px]",children:[a.jsx("p",{className:"text-xs font-semibold text-emerald-400",children:z.goalName}),a.jsx("p",{className:"text-sm font-bold text-[var(--text-primary)] mt-1",children:U(z.targetAmount)}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)] mt-0.5",children:z.familyMemberName})]},z.goalId))})]}),a.jsxs("div",{className:"flex items-center justify-end gap-2 px-1",children:[a.jsxs("button",{onClick:()=>y(!0),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-emerald-400 hover:text-emerald-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Iy,{size:14})," Goal Calculator"]}),a.jsxs("button",{onClick:()=>b("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Vt,{size:14})," Add Goal"]})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden lg:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Goal"}),!o&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsxs("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Amount"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Current / Target"})]}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider min-w-[120px]",children:"Progress"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Monthly SIP"}),a.jsxs("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:[a.jsx("div",{children:"Timeline"}),a.jsx("div",{className:"text-[10px] font-medium text-[var(--text-dim)]",children:"Years Left"})]}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:R.map(z=>{const ie=re(z),q=D(z);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsxs("td",{className:"py-2.5 px-4",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:z.goalName}),a.jsxs("div",{className:"flex items-center gap-1.5 mt-0.5",children:[a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${gN[z.priority]||""}`,children:z.priority}),z.notes&&a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:z.notes})]})]}),!o&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:z.familyMemberName}),a.jsxs("td",{className:"py-2.5 px-3 text-right",children:[a.jsx("p",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:U(z.currentValue)}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] tabular-nums",children:U(z.targetAmount)})]}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${jh[z.status]||"bg-blue-500"}`,style:{width:`${ie}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums w-10 text-right",children:[ie.toFixed(0),"%"]})]})}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:U(z.monthlyInvestment)}),a.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)] tabular-nums",children:z.status==="Achieved"?"Done":q?`${q} yrs`:""}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${yh[z.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:z.status})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsxs("div",{className:"flex items-center gap-0.5 opacity-0 group-hover:opacity-100 transition-all",children:[a.jsx("button",{onClick:()=>w(z),className:"p-1 rounded text-[var(--text-dim)] hover:text-emerald-400 transition-colors",title:"Withdrawal plan",children:a.jsx(Cp,{size:12})}),a.jsx("button",{onClick:()=>S(z),className:"p-1 rounded text-[var(--text-dim)] hover:text-violet-400 transition-colors",title:"Link portfolios",children:a.jsx(Ai,{size:12})}),a.jsx("button",{onClick:()=>b({edit:z}),className:"p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-colors",children:a.jsx(sa,{size:12})})]})})]},z.goalId)})})]})}),a.jsx("div",{className:"lg:hidden divide-y divide-[var(--border-light)]",children:R.map(z=>{const ie=re(z),q=D(z);return a.jsxs("div",{onClick:()=>b({edit:z}),className:"px-4 py-4 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:z.goalName}),a.jsxs("div",{className:"flex items-center gap-2 mt-0.5",children:[a.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:[z.familyMemberName,"  SIP ",U(z.monthlyInvestment),"/mo"]}),h.filter(O=>O.goalId===z.goalId).length>0&&a.jsxs("span",{className:"text-[10px] font-semibold text-violet-400 flex items-center gap-0.5",children:[a.jsx(Ai,{size:9}),h.filter(O=>O.goalId===z.goalId).length]})]})]}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ${yh[z.status]||"bg-slate-500/15 text-[var(--text-muted)]"}`,children:z.status})]}),a.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[a.jsx("div",{className:"flex-1 h-2 bg-[var(--bg-inset)] rounded-full overflow-hidden",children:a.jsx("div",{className:`h-full rounded-full ${jh[z.status]||"bg-blue-500"}`,style:{width:`${ie}%`}})}),a.jsxs("span",{className:"text-xs font-bold text-[var(--text-primary)] tabular-nums",children:[ie.toFixed(0),"%"]})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-xs text-[var(--text-muted)]",children:[U(z.currentValue)," ",a.jsx("span",{className:"text-[var(--text-dim)]",children:"of"})," ",U(z.targetAmount)]}),a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:z.status==="Achieved"?"Done":q?`${q} yrs left`:""})]})]},z.goalId)})})]})]}),a.jsx(We,{open:!!d,onClose:()=>b(null),title:d?.edit?"Edit Goal":"Add Goal",wide:!0,children:a.jsx(fN,{initial:d?.edit||void 0,onSave:P,onDelete:d?.edit?le:void 0,onCancel:()=>b(null)})}),a.jsx(We,{open:!!x,onClose:()=>S(null),title:`Link Portfolios  ${x?.goalName||""}`,wide:!0,children:x&&a.jsx(hN,{goal:x,onClose:()=>S(null)})}),a.jsx(We,{open:!!A,onClose:()=>w(null),title:`Withdrawal Plan  ${A?.goalName||""}`,wide:!0,children:A&&a.jsx(pN,{goal:A,onClose:()=>w(null)})}),a.jsx(We,{open:g,onClose:()=>y(!1),title:"Goal Calculator",wide:!0,children:a.jsx(vN,{onClose:()=>y(!1)})})]})}function An({label:r,value:o,sub:u,positive:c,bold:v}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:r}),a.jsx("p",{className:`text-sm tabular-nums ${v?"font-bold":"font-semibold"} ${c===void 0?"text-[var(--text-primary)]":c?"text-emerald-400":"text-[var(--accent-amber)]"}`,children:o}),u&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:u})]})}const jN=[{label:"Reports & Transactions",desc:"View transaction history",icon:Id,path:"/reports",color:"bg-blue-500/15 text-[var(--accent-blue)]"},{label:"Reminders",desc:"View and manage reminders",icon:Od,path:"/reminders",color:"bg-amber-500/15 text-[var(--accent-amber)]"},{label:"Health Check",desc:"Financial health questionnaire",icon:i1,path:"/health-check",color:"bg-emerald-500/15 text-emerald-400"},{label:"Settings",desc:"App configuration",icon:zp,path:"/settings",color:"bg-slate-500/15 text-[var(--text-muted)]"},{label:"About",desc:"Capital Friends v2.0",icon:jj,path:"/about",color:"bg-violet-500/15 text-[var(--accent-violet)]"},{label:"Support Developer",desc:"UPI: jagadeeshmanne.hdfc@kphdfc",icon:Ci,path:"/about",color:"bg-pink-500/15 text-pink-400"}];function NN(){const r=_n();return a.jsxs("div",{className:"space-y-4",children:[a.jsx("h1",{className:"text-base font-bold text-[var(--text-primary)]",children:"More"}),a.jsx("div",{className:"space-y-2",children:jN.map(o=>a.jsxs("button",{onClick:()=>r(o.path),className:"w-full flex items-center gap-3 bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 hover:bg-[var(--bg-hover)] transition-colors text-left",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center shrink-0 ${o.color}`,children:a.jsx(o.icon,{size:18})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:o.label}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:o.desc})]})]},o.label))})]})}const hi=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];function SN(){const{theme:r,toggle:o}=yp(),{members:u,settings:c,updateSettings:v}=ke(),f=u.filter(re=>re.status==="Active"&&re.includeInEmailReports),[h,d]=j.useState("Daily"),[b,x]=j.useState("09"),[S,A]=j.useState("Monday"),[w,M]=j.useState("INR"),[p,g]=j.useState("DD/MM/YYYY"),[y,N]=j.useState(!1),[R,k]=j.useState(!1),[_,ee]=j.useState(!1),[$,F]=j.useState(null);j.useEffect(()=>{!c||!Object.keys(c).length||(c.EmailFrequency&&d(c.EmailFrequency),c.EmailHour!=null&&x(String(c.EmailHour).padStart(2,"0")),c.EmailDayOfWeek!=null&&A(hi[Number(c.EmailDayOfWeek)]||"Monday"),c.Currency&&M(c.Currency===""?"INR":c.Currency),c.DateFormat&&g(c.DateFormat==="dd/MM/yyyy"?"DD/MM/YYYY":c.DateFormat))},[c]);async function ce(){N(!0),k(!1);try{const re=hi.indexOf(S);await v({EmailFrequency:h==="None"?"None":h,EmailConfigured:h==="None"?"FALSE":"TRUE",EmailHour:String(parseInt(b,10)),EmailMinute:"0",EmailDayOfWeek:String(re>=0?re:1),Currency:w==="INR"?"":w,DateFormat:p==="DD/MM/YYYY"?"dd/MM/yyyy":p}),k(!0),setTimeout(()=>k(!1),2e3)}catch(re){alert("Failed to save: "+re.message)}finally{N(!1)}}async function P(){ee(!0),F(null);try{const re=await cy();F(re)}catch(re){F({error:re.message})}finally{ee(!1)}}function le(re){if(!re)return"Never";try{const D=new Date(re);if(isNaN(D.getTime()))return"Unknown";const z=Date.now(),ie=Math.floor((z-D.getTime())/(1e3*60*60));return ie<1?"Less than an hour ago":ie<24?ie+" hour"+(ie>1?"s":"")+" ago":D.toLocaleDateString("en-IN",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})}catch{return"Unknown"}}return a.jsxs("div",{className:"space-y-4 max-w-2xl",children:[a.jsx(Mn,{title:"Data & Sync",icon:a.jsx(nj,{size:14}),children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"Last Synced"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:le(c.masterDataLastSync)})]}),c._stale&&a.jsx("span",{className:"text-xs font-semibold text-amber-600 px-2 py-0.5 rounded-full bg-amber-50 dark:bg-amber-900/20",children:"Stale"})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:"Refresh MF & Stock Data"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Auto-refreshes daily at ~6:30 AM"})]}),a.jsxs("button",{onClick:P,disabled:_,className:"flex items-center gap-1.5 px-3 py-1.5 text-xs font-semibold rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors disabled:opacity-50",children:[a.jsx(On,{size:12,className:_?"animate-spin":""}),_?"Refreshing...":"Refresh Now"]})]}),$&&a.jsx("div",{className:`text-xs px-3 py-2 rounded-lg ${$.error?"bg-red-50 text-red-700 dark:bg-red-900/20 dark:text-red-400":"bg-green-50 text-green-700 dark:bg-green-900/20 dark:text-green-400"}`,children:$.error?"Refresh failed: "+$.error:`Refreshed  MF: ${$.mf?.count||0}, ATH: ${$.ath?.count||0}, Stocks: ${$.stocks?.count||0} (${$.duration})`})]})}),a.jsx(Mn,{title:"Appearance",icon:a.jsx(jd,{size:14}),children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"Theme"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Switch between light and dark mode"})]}),a.jsxs("button",{onClick:o,className:"flex items-center gap-2 px-3 py-2 text-xs font-semibold rounded-lg border border-[var(--border)] bg-[var(--bg-inset)] text-[var(--text-primary)] hover:bg-[var(--bg-hover)] transition-colors",children:[r==="dark"?a.jsx(kp,{size:14}):a.jsx(jd,{size:14}),r==="dark"?"Dark":"Light"]})]})}),a.jsx(Mn,{title:"Email Reports",icon:a.jsx(Tp,{size:14}),children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:"Recipients"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:f.length>0?f.map(re=>re.memberName).join(", "):"No members opted in"})]}),a.jsxs("span",{className:"text-xs font-semibold text-[var(--text-muted)] px-2 py-0.5 rounded-full bg-[var(--bg-inset)]",children:[f.length,"/",u.filter(re=>re.status==="Active").length]})]}),a.jsx(Tn,{label:"Frequency",children:a.jsx(kn,{value:h,onChange:d,options:["Daily","Weekly","Monthly","None"]})}),h!=="None"&&a.jsx(Tn,{label:"Send Time",children:a.jsx(kn,{value:b,onChange:x,options:Array.from({length:24},(re,D)=>String(D).padStart(2,"0")),suffix:":00"})}),h==="Weekly"&&a.jsx(Tn,{label:"Day of Week",children:a.jsx(kn,{value:S,onChange:A,options:hi.slice(1).concat(hi[0])})})]})}),a.jsxs(Mn,{title:"Display",icon:a.jsx(pj,{size:14}),children:[a.jsx(Tn,{label:"Currency",children:a.jsx(kn,{value:w,onChange:M,options:["INR","USD","EUR","GBP"]})}),a.jsx(Tn,{label:"Date Format",children:a.jsx(kn,{value:p,onChange:g,options:["DD/MM/YYYY","MM/DD/YYYY","YYYY-MM-DD"]})})]}),a.jsxs(Mn,{title:"Notifications",icon:a.jsx(Od,{size:14}),children:[a.jsx(bd,{label:"Reminder Alerts",desc:"Get notified about upcoming SIPs, renewals, and due dates",storageKey:"cf_notify_reminders",defaultOn:!0}),a.jsx(bd,{label:"Rebalancing Alerts",desc:"Notify when portfolio drifts beyond threshold",storageKey:"cf_notify_rebalance",defaultOn:!0}),a.jsx(bd,{label:"ATH Buy Opportunities",desc:"Alert when funds drop significantly below All-Time High",storageKey:"cf_notify_ath",defaultOn:!1})]}),a.jsx("div",{className:"flex justify-end pt-2",children:a.jsx("button",{onClick:ce,disabled:y,className:"px-5 py-2 text-xs font-semibold text-white bg-violet-600 hover:bg-violet-500 rounded-lg transition-colors disabled:opacity-50",children:y?"Saving...":R?"Saved!":"Save Settings"})})]})}function Mn({title:r,icon:o,children:u}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"text-[var(--text-muted)]",children:o}),a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:r})]})}),a.jsx("div",{className:"px-4 py-4 space-y-4",children:u})]})}function Tn({label:r,children:o}){return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("p",{className:"text-sm text-[var(--text-secondary)]",children:r}),o]})}function kn({value:r,onChange:o,options:u,suffix:c}){return a.jsxs("div",{className:"relative",children:[a.jsx("select",{value:r,onChange:v=>o(v.target.value),className:"appearance-none pl-3 pr-7 py-1.5 text-xs font-semibold bg-[var(--bg-inset)] border border-[var(--border)] rounded-lg text-[var(--text-primary)] focus:outline-none focus:border-violet-500 cursor-pointer",children:u.map(v=>a.jsxs("option",{value:v,children:[v,c||""]},v))}),a.jsx(ys,{size:10,className:"absolute right-2 top-1/2 -translate-y-1/2 text-[var(--text-dim)] pointer-events-none"})]})}function bd({label:r,desc:o,storageKey:u,defaultOn:c}){const[v,f]=j.useState(()=>{if(u){const d=localStorage.getItem(u);if(d!==null)return d==="true"}return c});function h(){const d=!v;f(d),u&&localStorage.setItem(u,String(d))}return a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:r}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:o})]}),a.jsx("button",{onClick:h,className:`relative w-9 h-5 rounded-full transition-colors ${v?"bg-violet-500":"bg-[var(--bg-inset)] border border-[var(--border)]"}`,children:a.jsx("span",{className:`absolute top-0.5 w-4 h-4 rounded-full transition-all ${v?"left-[18px] bg-white":"left-0.5 bg-[var(--text-dim)]"}`})})]})}const wN=["SIP Due Date","Insurance Renewal","FD Maturity","Loan EMI","Investment Review","Custom"].map(r=>({value:r,label:r})),CN=[{value:"One-time",label:"One-time"},{value:"Monthly",label:"Monthly"},{value:"Quarterly",label:"Quarterly"},{value:"Yearly",label:"Yearly"}],AN=[{value:"High",label:"High"},{value:"Medium",label:"Medium"},{value:"Low",label:"Low"}];function MN({initial:r,onSave:o,onDelete:u,onCancel:c}){const v=!!r,{activeMembers:f}=ke(),h=f.map(p=>({value:p.memberId,label:p.memberName})),[d,b]=j.useState({reminderType:r?.reminderType||"",title:r?.title||"",description:r?.description||"",familyMemberId:r?.familyMemberId||"",dueDate:r?.dueDate||"",advanceNoticeDays:r?.advanceNoticeDays?.toString()||"7",frequency:r?.frequency||"One-time",priority:r?.priority||"Medium",status:r?.status||"Pending"}),[x,S]=j.useState({});function A(p,g){b(y=>({...y,[p]:g})),S(y=>({...y,[p]:void 0}))}function w(){const p={};return d.reminderType||(p.reminderType="Required"),d.title.trim()||(p.title="Required"),d.familyMemberId||(p.familyMemberId="Required"),d.dueDate||(p.dueDate="Required"),S(p),Object.keys(p).length===0}function M(){w()&&o({...d,advanceNoticeDays:Number(d.advanceNoticeDays)||7})}return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Reminder Type",required:!0,error:x.reminderType,children:a.jsx(je,{value:d.reminderType,onChange:p=>A("reminderType",p),options:wN,placeholder:"Select type..."})}),a.jsx(J,{label:"Title",required:!0,error:x.title,children:a.jsx(me,{value:d.title,onChange:p=>A("title",p),placeholder:"e.g., HDFC SIP Due"})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(J,{label:"Family Member",required:!0,error:x.familyMemberId,children:a.jsx(je,{value:d.familyMemberId,onChange:p=>A("familyMemberId",p),options:h,placeholder:"Select member..."})}),a.jsx(J,{label:"Due Date",required:!0,error:x.dueDate,children:a.jsx(me,{type:"date",value:d.dueDate,onChange:p=>A("dueDate",p)})})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[a.jsx(J,{label:"Frequency",children:a.jsx(je,{value:d.frequency,onChange:p=>A("frequency",p),options:CN})}),a.jsx(J,{label:"Priority",children:a.jsx(je,{value:d.priority,onChange:p=>A("priority",p),options:AN})}),a.jsx(J,{label:"Advance Notice (days)",children:a.jsx(me,{type:"number",value:d.advanceNoticeDays,onChange:p=>A("advanceNoticeDays",p),placeholder:"7"})})]}),v&&a.jsx(J,{label:"Status",children:a.jsx(je,{value:d.status,onChange:p=>A("status",p),options:[{value:"Pending",label:"Pending"},{value:"Completed",label:"Completed"}]})}),a.jsx(J,{label:"Description",children:a.jsx(hs,{value:d.description,onChange:p=>A("description",p),placeholder:"Optional details...",rows:2})}),a.jsxs("div",{className:"flex items-center justify-between",children:[v&&u?a.jsx(na,{onClick:u,label:"Delete"}):a.jsx("div",{}),a.jsx(ht,{onCancel:c,onSubmit:M,submitLabel:v?"Update Reminder":"Add Reminder"})]})]})}const pi={"SIP Due Date":"bg-violet-500/15 text-[var(--accent-violet)]","Insurance Renewal":"bg-amber-500/15 text-[var(--accent-amber)]","FD Maturity":"bg-blue-500/15 text-[var(--accent-blue)]","Loan EMI":"bg-rose-500/15 text-[var(--accent-rose)]","Investment Review":"bg-emerald-500/15 text-emerald-400",Custom:"bg-slate-500/15 text-[var(--text-muted)]"},Nh={High:"bg-rose-500",Medium:"bg-amber-500",Low:"bg-blue-500"};function us(r){if(!r)return 1/0;const o=new Date(r)-new Date;return Math.ceil(o/(1440*60*1e3))}function TN(){const{selectedMember:r,member:o}=mt(),{reminderList:u,addReminder:c,updateReminder:v,deleteReminder:f}=ke(),[h,d]=j.useState(null),b=j.useMemo(()=>{const y=u.filter(N=>N.isActive!==!1);return r==="all"?y:y.filter(N=>N.familyMemberId===r)},[u,r]),x=b.filter(y=>us(y.dueDate)<0).length,S=b.filter(y=>{const N=us(y.dueDate);return N>=0&&N<=7}).length,A=b.filter(y=>{const N=us(y.dueDate);return N>7&&N<=30}).length,w=[...b].sort((y,N)=>{const R=us(y.dueDate),k=us(N.dueDate);return R-k});function M(y){h?.edit?v(h.edit.reminderId,y):c(y),d(null)}function p(){h?.edit&&confirm("Delete this reminder?")&&(f(h.edit.reminderId),d(null))}function g(y){const N=us(y);return N<0?{label:`${Math.abs(N)}d overdue`,cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:N===0?{label:"Today",cls:"bg-rose-500/20 text-[var(--accent-rose)]"}:N<=7?{label:`${N}d`,cls:"bg-amber-500/20 text-[var(--accent-amber)]"}:N<=30?{label:`${N}d`,cls:"bg-blue-500/20 text-[var(--accent-blue)]"}:{label:`${N}d`,cls:"bg-slate-500/20 text-[var(--text-muted)]"}}return a.jsxs("div",{className:"space-y-4",children:[b.length===0?a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] py-12 flex flex-col items-center gap-3",children:[a.jsx(Ey,{size:32,className:"text-[var(--text-dim)]"}),a.jsxs("p",{className:"text-sm text-[var(--text-muted)]",children:["No reminders",o?` for ${o.memberName}`:""]}),a.jsx("button",{onClick:()=>d("add"),className:"text-xs font-semibold text-violet-400 hover:text-violet-300",children:"Add a reminder"})]}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(bi,{label:"Active",value:b.length}),x>0&&a.jsx(bi,{label:"Overdue",value:x,color:"rose"}),S>0&&a.jsx(bi,{label:"Due This Week",value:S,color:"amber"}),a.jsx(bi,{label:"Next 30 Days",value:A})]}),a.jsx("div",{className:"flex items-center justify-end px-1",children:a.jsxs("button",{onClick:()=>d("add"),className:"flex items-center gap-1.5 px-3 py-2 text-xs font-semibold text-violet-400 hover:text-violet-300 bg-[var(--bg-card)] border border-[var(--border)] rounded-lg transition-colors",children:[a.jsx(Vt,{size:14})," Add Reminder"]})}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[680px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Reminder"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),!o&&a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Member"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Due Date"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Frequency"}),a.jsx("th",{className:"text-center py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"w-8 py-2.5 px-2"})]})}),a.jsx("tbody",{children:w.map(y=>{const N=g(y.dueDate);return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors group",children:[a.jsx("td",{className:"py-2.5 px-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${Nh[y.priority]||"bg-slate-400"}`}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)]",children:y.title}),y.description&&a.jsx("p",{className:"text-xs text-[var(--text-dim)] truncate max-w-[200px]",children:y.description})]})]})}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${pi[y.reminderType]||pi.Custom}`,children:y.reminderType})}),!o&&a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-secondary)]",children:y.familyMemberName}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsxs("div",{children:[a.jsx("p",{className:"text-xs text-[var(--text-muted)] tabular-nums",children:y.dueDate}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${N.cls}`,children:N.label})]})}),a.jsx("td",{className:"py-2.5 px-3 text-center text-xs text-[var(--text-muted)]",children:y.frequency}),a.jsx("td",{className:"py-2.5 px-3 text-center",children:a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full ${y.status==="Pending"?"bg-amber-500/15 text-[var(--accent-amber)]":"bg-emerald-500/15 text-emerald-400"}`,children:y.status})}),a.jsx("td",{className:"py-2.5 px-2",children:a.jsx("button",{onClick:()=>d({edit:y}),className:"opacity-0 group-hover:opacity-100 p-1 rounded text-[var(--text-dim)] hover:text-[var(--text-primary)] transition-all",children:a.jsx(sa,{size:12})})})]},y.reminderId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:w.map(y=>{const N=g(y.dueDate);return a.jsxs("div",{onClick:()=>d({edit:y}),className:"px-4 py-3.5 hover:bg-[var(--bg-hover)] transition-colors cursor-pointer",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[a.jsx("span",{className:`w-2 h-2 rounded-full shrink-0 ${Nh[y.priority]||"bg-slate-400"}`}),a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate",children:y.title})]}),a.jsx("span",{className:`text-xs font-semibold px-2 py-0.5 rounded-full shrink-0 ml-2 ${pi[y.reminderType]||pi.Custom}`,children:y.reminderType})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[y.familyMemberName,"  ",y.frequency]}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded-full ${N.cls}`,children:N.label})]})]},y.reminderId)})})]})]}),a.jsx(We,{open:!!h,onClose:()=>d(null),title:h?.edit?"Edit Reminder":"Add Reminder",wide:!0,children:a.jsx(MN,{initial:h?.edit||void 0,onSave:M,onDelete:h?.edit?p:void 0,onCancel:()=>d(null)})})]})}function bi({label:r,value:o,color:u}){const c=u==="rose"?"text-[var(--accent-rose)]":u==="amber"?"text-[var(--accent-amber)]":"text-[var(--text-primary)]";return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:r}),a.jsx("p",{className:`text-sm font-bold tabular-nums ${c}`,children:o})]})}const Sh={BUY:"bg-emerald-500/15 text-emerald-400",SELL:"bg-rose-500/15 text-[var(--accent-rose)]"},kN={INITIAL:"bg-violet-500/15 text-[var(--accent-violet)]",SIP:"bg-blue-500/15 text-[var(--accent-blue)]",LUMPSUM:"bg-emerald-500/15 text-emerald-400",WITHDRAWAL:"bg-amber-500/15 text-[var(--accent-amber)]",SWITCH:"bg-orange-500/15 text-[var(--accent-orange)]"};function EN(){const{selectedMember:r}=mt(),{mfTransactions:o,mfPortfolios:u,stockTransactions:c,stockPortfolios:v}=ke(),[f,h]=j.useState("mf"),[d,b]=j.useState("all"),x=j.useMemo(()=>{let g=[...o].sort((y,N)=>new Date(N.date)-new Date(y.date));if(r!=="all"){const y=new Set(u.filter(N=>N.ownerId===r).map(N=>N.portfolioId));g=g.filter(N=>y.has(N.portfolioId))}return d!=="all"&&(g=g.filter(y=>y.type===d)),g},[o,u,r,d]),S=j.useMemo(()=>{let g=[...c].sort((y,N)=>new Date(N.date)-new Date(y.date));if(r!=="all"){const y=new Set(v.filter(N=>N.ownerId===r).map(N=>N.portfolioId));g=g.filter(N=>y.has(N.portfolioId))}return d!=="all"&&(g=g.filter(y=>y.type===d)),g},[c,v,r,d]),A=f==="mf"?x:S,w=A.filter(g=>g.type==="BUY").reduce((g,y)=>g+(y.totalAmount||0),0),M=A.filter(g=>g.type==="SELL").reduce((g,y)=>g+(y.totalAmount||0),0),p=A.reduce((g,y)=>g+(y.gainLoss||y.realizedPL||0),0);return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-3",children:[a.jsx(vi,{label:"Transactions",value:A.length}),a.jsx(vi,{label:"Total Bought",value:U(w)}),a.jsx(vi,{label:"Total Sold",value:U(M)}),a.jsx(vi,{label:"Realized P&L",value:`${p>=0?"+":""}${U(Math.abs(p))}`,positive:p>=0,bold:!0})]}),a.jsxs("div",{className:"flex items-center justify-between px-1",children:[a.jsx("div",{className:"flex gap-1",children:["mf","stocks"].map(g=>a.jsx("button",{onClick:()=>h(g),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${f===g?"bg-violet-500/20 text-violet-400 border border-violet-500/30":"text-[var(--text-dim)] hover:text-[var(--text-primary)] border border-transparent"}`,children:g==="mf"?"Mutual Funds":"Stocks"},g))}),a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(fj,{size:12,className:"text-[var(--text-dim)]"}),["all","BUY","SELL"].map(g=>a.jsx("button",{onClick:()=>b(g),className:`px-2 py-1 text-xs font-semibold rounded transition-colors ${d===g?"bg-[var(--bg-card)] text-[var(--text-primary)] border border-[var(--border)]":"text-[var(--text-dim)] hover:text-[var(--text-muted)]"}`,children:g==="all"?"All":g},g))]})]}),a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:A.length===0?a.jsxs("div",{className:"py-12 flex flex-col items-center gap-3",children:[a.jsx(Id,{size:32,className:"text-[var(--text-dim)]"}),a.jsx("p",{className:"text-sm text-[var(--text-muted)]",children:"No transactions found"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden sm:block overflow-x-auto",children:a.jsxs("table",{className:"w-full text-sm min-w-[700px]",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:[a.jsx("th",{className:"text-left py-2.5 px-4 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:f==="mf"?"Fund":"Stock"}),a.jsx("th",{className:"text-left py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Portfolio"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:f==="mf"?"Units":"Qty"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:f==="mf"?"NAV":"Price"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"Amount"}),a.jsx("th",{className:"text-right py-2.5 px-3 text-xs text-[var(--text-muted)] font-semibold uppercase tracking-wider",children:"P&L"})]})}),a.jsx("tbody",{children:A.map(g=>{const y=g.gainLoss||g.realizedPL||0;return a.jsxs("tr",{className:"border-b border-[var(--border-light)] last:border-0 hover:bg-[var(--bg-hover)] transition-colors",children:[a.jsx("td",{className:"py-2.5 px-4 text-xs text-[var(--text-muted)] tabular-nums",children:g.date}),a.jsx("td",{className:"py-2.5 px-3",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded ${Sh[g.type]||""}`,children:g.type}),g.transactionType&&a.jsx("span",{className:`text-[10px] font-semibold px-1 py-0.5 rounded ${kN[g.transactionType]||""}`,children:g.transactionType})]})}),a.jsxs("td",{className:"py-2.5 px-3",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)] truncate max-w-[180px]",children:g.fundName||g.companyName}),a.jsx("p",{className:"text-[10px] text-[var(--text-dim)]",children:g.fundCode||g.symbol})]}),a.jsx("td",{className:"py-2.5 px-3 text-xs text-[var(--text-muted)]",children:g.portfolioName||""}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:(g.units||g.quantity||0).toFixed(f==="mf"?2:0)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs text-[var(--text-muted)] tabular-nums",children:U(g.price||g.pricePerShare||0)}),a.jsx("td",{className:"py-2.5 px-3 text-right text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:U(g.totalAmount||0)}),a.jsx("td",{className:"py-2.5 px-3 text-right",children:y!==0?a.jsxs("span",{className:`text-xs font-semibold tabular-nums ${y>=0?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:[y>=0?"+":"",U(Math.abs(y))]}):a.jsx("span",{className:"text-xs text-[var(--text-dim)]",children:""})})]},g.transactionId)})})]})}),a.jsx("div",{className:"sm:hidden divide-y divide-[var(--border-light)]",children:A.map(g=>(g.gainLoss||g.realizedPL,a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-center justify-between mb-1",children:[a.jsx("p",{className:"text-sm font-medium text-[var(--text-primary)] truncate mr-2",children:g.fundName||g.companyName}),a.jsx("span",{className:`text-xs font-semibold px-1.5 py-0.5 rounded shrink-0 ${Sh[g.type]||""}`,children:g.type})]}),a.jsxs("p",{className:"text-xs text-[var(--text-muted)]",children:[g.date,"  ",g.portfolioName]}),a.jsxs("div",{className:"flex items-center justify-between mt-1.5",children:[a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[(g.units||g.quantity||0).toFixed(f==="mf"?2:0)," @ ",U(g.price||g.pricePerShare||0)]}),a.jsx("span",{className:"text-xs font-semibold text-[var(--text-primary)] tabular-nums",children:U(g.totalAmount||0)})]})]},g.transactionId)))})]})})]})}function vi({label:r,value:o,positive:u,bold:c}){return a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] px-4 py-3",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] uppercase tracking-wider mb-1",children:r}),a.jsx("p",{className:`text-sm tabular-nums ${c?"font-bold":"font-semibold"} ${u===void 0?"text-[var(--text-primary)]":u?"text-emerald-400":"text-[var(--accent-rose)]"}`,children:o})]})}const En=[{id:"termLife",question:"Do you have adequate Term Life Insurance?",tip:"Recommended: 10-15x annual income",category:"Insurance"},{id:"healthIns",question:"Does your family have Health Insurance?",tip:"Minimum 5L cover per member or family floater",category:"Insurance"},{id:"emergencyFund",question:"Do you have an Emergency Fund?",tip:"6-12 months of monthly expenses in liquid assets",category:"Savings"},{id:"familyAware",question:"Is your family aware of all investments?",tip:"Ensure nominees and family know about all assets",category:"Planning"},{id:"hasWill",question:"Do you have a Will?",tip:"Legal document for asset distribution",category:"Planning"},{id:"nominees",question:"Have you updated Nominees on all accounts?",tip:"Bank, demat, insurance, MF  all should have nominees",category:"Planning"},{id:"goals",question:"Do you have clearly defined Financial Goals?",tip:"Retirement, education, home  with target amounts and dates",category:"Goals"},{id:"retirement",question:"Are you investing regularly for Retirement?",tip:"Start early, invest consistently via SIP",category:"Goals"},{id:"taxPlanning",question:"Have you done Tax Planning (80C, 80D, etc.)?",tip:"Maximize deductions under relevant sections",category:"Tax"},{id:"debtFree",question:"Are you on track to become debt-free?",tip:"Plan EMI repayments strategically",category:"Debt"}];function zN(){const{members:r,insurancePolicies:o,goalList:u,liabilityList:c,otherInvList:v}=ke(),f=r.filter(g=>g.status==="Active"),h=j.useMemo(()=>{const g={},y=o.filter($=>$.policyType==="Term Life"&&$.status==="Active");g.termLife=y.length>0;const N=o.filter($=>$.policyType==="Health"&&$.status==="Active");g.healthIns=N.length>0;const R=u.filter($=>$.goalType==="Emergency Fund"&&$.isActive),k=v.filter($=>$.investmentType==="FD"||$.investmentType==="PPF");g.emergencyFund=R.length>0||k.length>0,g.goals=u.filter($=>$.isActive).length>=2;const _=u.filter($=>$.goalType==="Retirement"&&$.isActive);g.retirement=_.length>0;const ee=c.filter($=>$.status==="Active");return g.debtFree=ee.length===0,g},[o,u,c,v]),[d,b]=j.useState(()=>{const g={};return En.forEach(y=>{g[y.id]=h[y.id]?"yes":""}),g}),x=Object.values(d).filter(g=>g).length,S=Object.values(d).filter(g=>g==="yes").length,A=x>0?Math.round(S/En.length*100):0;function w(){return A>=80?"text-emerald-400":A>=50?"text-[var(--accent-amber)]":"text-[var(--accent-rose)]"}function M(){return A>=80?"Excellent":A>=60?"Good":A>=40?"Needs Work":"Critical"}const p=j.useMemo(()=>{const g=[];return d.termLife!=="yes"&&g.push({severity:"critical",text:"Get Term Life Insurance (10-15x annual income)",action:"Compare plans online"}),d.healthIns!=="yes"&&g.push({severity:"critical",text:"Get Health Insurance for your family",action:"Minimum 5L cover recommended"}),d.emergencyFund!=="yes"&&g.push({severity:"warning",text:"Build an Emergency Fund",action:"Save 6-12 months expenses in liquid fund/FD"}),d.familyAware!=="yes"&&g.push({severity:"warning",text:"Share investment details with family",action:"Create a document with all account info"}),d.hasWill!=="yes"&&g.push({severity:"warning",text:"Create a legal Will",action:"Consult a lawyer for Will registration"}),d.nominees!=="yes"&&g.push({severity:"warning",text:"Update nominees on all accounts",action:"Check bank, demat, insurance, MF accounts"}),d.goals!=="yes"&&g.push({severity:"info",text:"Define clear financial goals",action:"Use the Goal Planner to set targets"}),d.retirement!=="yes"&&g.push({severity:"info",text:"Start investing for retirement",action:"Begin with equity SIPs for long term"}),d.taxPlanning!=="yes"&&g.push({severity:"info",text:"Optimize tax planning",action:"Utilize 80C, 80D, NPS deductions"}),d.debtFree!=="yes"&&g.push({severity:"info",text:"Plan debt repayment strategy",action:"Prioritize high-interest loans first"}),g},[d]);return a.jsxs("div",{className:"space-y-4 max-w-2xl",children:[a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4",children:[a.jsxs("div",{className:"flex items-center justify-between mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Jy,{size:16,className:"text-violet-400"}),a.jsx("h2",{className:"text-sm font-bold text-[var(--text-primary)]",children:"Financial Health Score"})]}),a.jsxs("span",{className:"text-xs text-[var(--text-dim)]",children:[x,"/",En.length," answered"]})]}),a.jsxs("div",{className:"flex items-center gap-4",children:[a.jsxs("div",{className:"relative w-20 h-20",children:[a.jsxs("svg",{className:"w-20 h-20 -rotate-90",viewBox:"0 0 36 36",children:[a.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"var(--border)",strokeWidth:"3"}),a.jsx("path",{d:"M18 2.0845a 15.9155 15.9155 0 0 1 0 31.831a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"currentColor",strokeWidth:"3",strokeDasharray:`${A}, 100`,className:w(),strokeLinecap:"round"})]}),a.jsxs("span",{className:`absolute inset-0 flex items-center justify-center text-lg font-bold ${w()}`,children:[A,"%"]})]}),a.jsxs("div",{children:[a.jsx("p",{className:`text-base font-bold ${w()}`,children:M()}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:[S," of ",En.length," checks passed"]}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:[f.length," family members tracked"]})]})]})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Health Check Questions"})}),a.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:En.map(g=>a.jsxs("div",{className:"px-4 py-3",children:[a.jsxs("div",{className:"flex items-start justify-between gap-3",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:g.question}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:g.tip})]}),a.jsxs("div",{className:"flex gap-1 shrink-0",children:[a.jsx("button",{onClick:()=>b(y=>({...y,[g.id]:"yes"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${d[g.id]==="yes"?"bg-emerald-500/20 text-emerald-400 border border-emerald-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"Yes"}),a.jsx("button",{onClick:()=>b(y=>({...y,[g.id]:"no"})),className:`px-3 py-1.5 text-xs font-semibold rounded-lg transition-colors ${d[g.id]==="no"?"bg-rose-500/20 text-[var(--accent-rose)] border border-rose-500/30":"bg-[var(--bg-inset)] text-[var(--text-dim)] border border-[var(--border)] hover:text-[var(--text-primary)]"}`,children:"No"})]})]}),h[g.id]!==void 0&&a.jsxs("p",{className:"text-xs text-violet-400 mt-1",children:["Auto-detected: ",h[g.id]?"Found in your data":"Not found"]})]},g.id))})]}),p.length>0&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Recommendations"})}),a.jsx("div",{className:"divide-y divide-[var(--border-light)]",children:p.map((g,y)=>{const N=g.severity==="critical"?a.jsx(Zy,{size:14,className:"text-[var(--accent-rose)]"}):g.severity==="warning"?a.jsx(qd,{size:14,className:"text-[var(--accent-amber)]"}):a.jsx(Yy,{size:14,className:"text-[var(--accent-blue)]"});return a.jsxs("div",{className:"flex items-start gap-3 px-4 py-3",children:[a.jsx("span",{className:"shrink-0 mt-0.5",children:N}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-[var(--text-primary)]",children:g.text}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:g.action})]})]},y)})})]})]})}function DN(){return a.jsxs("div",{className:"space-y-4 max-w-lg mx-auto",children:[a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-5 text-center",children:[a.jsx("div",{className:"w-14 h-14 rounded-2xl bg-gradient-to-br from-violet-500 to-indigo-600 flex items-center justify-center mx-auto mb-3",children:a.jsx("span",{className:"text-xl font-bold text-white",children:"CF"})}),a.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"Capital Friends"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Family Portfolio Management"}),a.jsx("p",{className:"text-xs text-[var(--text-muted)] mt-2",children:"v2.0.0"})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Features"})}),a.jsx("div",{className:"px-4 py-3 space-y-2",children:["Track Mutual Funds, Stocks & Other Investments","Family member-wise portfolio management","ATH-based Buy Opportunities","Smart Rebalancing with threshold alerts","Goal planning with portfolio mapping","Insurance, Liabilities & Bank Accounts","Financial Health Check questionnaire","Reminders for SIPs, renewals & due dates","Email reports with detailed breakdowns"].map(r=>a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-violet-500 shrink-0"}),a.jsx("p",{className:"text-xs text-[var(--text-secondary)]",children:r})]},r))})]}),a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:[a.jsx("div",{className:"px-4 py-3 border-b border-[var(--border-light)] bg-[var(--bg-inset)]",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(Ci,{size:12,className:"text-pink-400"}),a.jsx("h3",{className:"text-xs font-bold text-[var(--text-muted)] uppercase tracking-wider",children:"Support Developer"})]})}),a.jsxs("div",{className:"px-4 py-4 text-center",children:[a.jsx("p",{className:"text-sm text-[var(--text-secondary)] mb-3",children:"If Capital Friends helps you manage your family finances, consider supporting the developer."}),a.jsxs("div",{className:"bg-[var(--bg-inset)] rounded-lg px-4 py-3 border border-[var(--border)]",children:[a.jsx("p",{className:"text-xs text-[var(--text-dim)] mb-1",children:"UPI"}),a.jsx("p",{className:"text-sm font-mono font-semibold text-[var(--text-primary)] select-all",children:"jagadeeshmanne.hdfc@kphdfc"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-1 mt-3",children:[a.jsx(ej,{size:12,className:"text-[var(--accent-amber)]"}),a.jsx("p",{className:"text-xs text-[var(--text-dim)]",children:"Buy me a chai!"})]})]})]}),a.jsxs("div",{className:"text-center py-2",children:[a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Made with ",a.jsx(Ci,{size:10,className:"inline text-pink-400 mx-0.5"})," by Jagadeesh Manne"]}),a.jsx("p",{className:"text-xs text-[var(--text-dim)] mt-0.5",children:"Built with React + Vite + Tailwind CSS"})]})]})}function RN(){return Date.now().toString(36).toUpperCase()}function LN(){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZ",o=u=>Array.from({length:u},()=>r[Math.floor(Math.random()*26)]).join("");return o(5)+Math.floor(1e3+Math.random()*9e3)+o(1)}function ON(){return String(Math.floor(2e11+Math.random()*8e11))}function wh(){return"9"+String(Math.floor(1e8+Math.random()*9e8))}function IN(){return String(Math.floor(1e9+Math.random()*9e9))}function _N(){const r=RN();return{member:{memberName:`Test Member ${r}`,relationship:"Self",pan:LN(),aadhar:ON(),email:`test-${r.toLowerCase()}@example.com`,mobile:wh(),includeInEmailReports:!0},bank:{accountName:`Test Savings ${r}`,bankName:"Test Bank",accountNumber:IN(),ifscCode:"TEST0001234",accountType:"Savings",branchName:"Test Branch"},investmentAccount:{accountName:`Test Demat ${r}`,accountType:"Demat",platformBroker:"Test Broker Platform",accountClientId:`CLI-${r}`,registeredEmail:`test-${r.toLowerCase()}@example.com`,registeredPhone:wh()},insurance:{policyType:"Term Life",company:"Test Insurance Co",policyNumber:`POL-${r}`,policyName:`Test Term Plan ${r}`,sumAssured:5e6,nominee:"Test Nominee",dynamicFields:{Premium:15e3,"Premium Frequency":"Annual"}},liability:{liabilityType:"Home Loan",lenderName:"Test Bank",outstandingBalance:45e5,dynamicFields:{"Principal Amount":5e6,"Interest Rate":8.5,"EMI Amount":45e3},notes:`Test liability ${r}`},otherInvestment:{investmentType:"Fixed Deposit",investmentName:`Test FD ${r}`,investedAmount:1e5,currentValue:105e3,investmentCategory:"Debt"},stockPortfolio:{portfolioName:`Test Stock Portfolio ${r}`,broker:"Test Broker"},reminder:{title:`Test Reminder ${r}`,description:"Automated test reminder",dueDate:new Date(Date.now()+10080*60*1e3).toISOString().split("T")[0],category:"Insurance",priority:"Medium"},goal:{goalName:`Test Goal ${r}`,goalType:"Custom",targetAmount:1e6,targetDate:"2040-01-01",priority:"Medium",expectedInflation:.06,expectedCAGR:.12}}}function qN({status:r,text:o}){const u={pass:"bg-emerald-500/20 text-emerald-400 border-emerald-500/30",fail:"bg-rose-500/20 text-rose-400 border-rose-500/30",skip:"bg-amber-500/20 text-amber-400 border-amber-500/30",running:"bg-blue-500/20 text-blue-400 border-blue-500/30",pending:"bg-gray-500/20 text-gray-400 border-gray-500/30"};return a.jsx("span",{className:`text-xs font-medium px-2 py-0.5 rounded border ${u[r]||u.pending}`,children:o||r.toUpperCase()})}function HN(){const{user:r}=gs(),[o,u]=j.useState([]),[c,v]=j.useState(!1),[f,h]=j.useState(null),[d,b]=j.useState(!1),x=j.useCallback((y,N,R="")=>{u(k=>[...k,{test:y,status:N,detail:R,time:new Date().toLocaleTimeString()}])},[]),S=j.useCallback((y,N="")=>{u(R=>{const k=[...R];return k.length>0&&(k[k.length-1]={...k[k.length-1],status:y,detail:N}),k})},[]),A=async()=>{b(!0),h(null);try{const y=await be("test:diagnose");h(y)}catch(y){h({error:y.message})}finally{b(!1)}},w=async()=>{v(!0),u([]);const y=_N();let N=null,R=null,k=null,_=null,ee=null,$=null,F=null,ce=null,P=null,le=null;try{x("API Echo Test","running");try{const D=await be("test:echo",{hello:"world"});D&&D.echo&&D.echo.hello==="world"?S("pass","Echo response received correctly"):S("fail","Unexpected response: "+JSON.stringify(D))}catch(D){S("fail",D.message)}x("Diagnostics","running");try{const D=await be("test:diagnose"),z=Object.entries(D.sheets||{}).filter(([,q])=>!q.exists).map(([q])=>q);if(z.length>0)S("fail",`Missing sheets: ${z.join(", ")}`);else{const q=Object.keys(D.sheets).length;S("pass",`All ${q} sheets exist. SpreadsheetId: ${D.spreadsheetId}`)}const ie=Object.entries(D.dataTests||{}).filter(([,q])=>!q.success).map(([q,O])=>`${q}: ${O.error}`);ie.length>0&&x("Data Function Errors","fail",ie.join("; "))}catch(D){S("fail",D.message)}x("Load All Data (bulk)","running");try{const D=await zn(),z=Object.entries(D).map(([ie,q])=>`${ie}: ${Array.isArray(q)?q.length:"?"}`);S("pass",z.join(", "))}catch(D){S("fail",D.message)}x("Members  Create","running");try{const D=await Vh(y.member);N=D?.memberId,R=y.member.memberName,N?S("pass",`Created: ${N}`):S("fail","No memberId returned: "+JSON.stringify(D))}catch(D){S("fail",D.message)}x("Members  List","running");try{const D=await Gh();Array.isArray(D)&&D.some(ie=>ie.memberId===N)?S("pass",`Found ${N} in ${D.length} member(s)`):S("fail",`Member ${N} not found. Got ${Array.isArray(D)?D.length:0} members: ${JSON.stringify(D).substring(0,200)}`)}catch(D){S("fail",D.message)}if(N){x("Members  Update","running");try{await Yh({...y.member,memberId:N,memberName:"Updated Test Member"}),R="Updated Test Member",S("pass",'Updated name to "Updated Test Member"')}catch(D){S("fail",D.message)}}x("Banks  Create","running");try{const D=await Zh({...y.bank,memberId:N||"FM-001"});k=D?.accountId,S(k?"pass":"fail",k?`Created: ${k}`:"No accountId: "+JSON.stringify(D))}catch(D){S("fail",D.message)}x("Banks  List","running");try{const D=await Xh();S("pass",`${Array.isArray(D)?D.length:0} account(s)`)}catch(D){S("fail",D.message)}x("Investment Accounts  Create","running");try{const D=await Wh({...y.investmentAccount,memberId:N||"FM-001",bankAccountId:k||"BA-001"});_=D?.accountId,S(_?"pass":"fail",_?`Created: ${_}`:"No accountId: "+JSON.stringify(D))}catch(D){S("fail",D.message)}x("Investment Accounts  List","running");try{const D=await Jh();S("pass",`${Array.isArray(D)?D.length:0} account(s)`)}catch(D){S("fail",D.message)}x("Insurance  Create","running");try{const D=await np({...y.insurance,memberId:N||"FM-001",insuredMember:R||"Test Member"});ee=D?.policyId,S(ee?"pass":"fail",ee?`Created: ${ee}`:"No policyId: "+JSON.stringify(D))}catch(D){S("fail",D.message)}x("Insurance  List","running");try{const D=await sp();S("pass",`${Array.isArray(D)?D.length:0} policy/policies`)}catch(D){S("fail",D.message)}x("Liabilities  Create","running");try{const D=await op({...y.liability,familyMember:N||"FM-001"});$=D?.liabilityId,S($?"pass":"fail",$?`Created: ${$}`:"No liabilityId: "+JSON.stringify(D))}catch(D){S("fail",D.message)}x("Liabilities  List","running");try{const D=await ip();S("pass",`${Array.isArray(D)?D.length:0} liability/liabilities`)}catch(D){S("fail",D.message)}x("Other Investments  Create","running");try{const D=await up({...y.otherInvestment,familyMember:N||"FM-001"});F=D?.investmentId,S(F?"pass":"fail",F?`Created: ${F}`:"No investmentId: "+JSON.stringify(D))}catch(D){S("fail",D.message)}x("Other Investments  List","running");try{const D=await dp();S("pass",`${Array.isArray(D)?D.length:0} investment(s)`)}catch(D){S("fail",D.message)}x("Stock Portfolios  Create","running");try{const D=await xp({...y.stockPortfolio,owner:N||"FM-001"});ce=D?.portfolioId,S(ce?"pass":"fail",ce?`Created: ${ce}`:"No portfolioId: "+JSON.stringify(D))}catch(D){S("fail",D.message)}x("Stock Portfolios  List","running");try{const D=await ay();S("pass",`${Array.isArray(D)?D.length:0} portfolio(s)`)}catch(D){S("fail",D.message)}x("Reminders  Create","running");try{const D=await pp(y.reminder);P=D?.reminderId,S(P?"pass":"fail",P?`Created: ${P}`:"No reminderId: "+JSON.stringify(D))}catch(D){S("fail",D.message)}x("Reminders  List","running");try{const D=await hp();S("pass",`${Array.isArray(D)?D.length:0} reminder(s)`)}catch(D){S("fail",D.message)}x("Goals  Create","running");try{const D=await ap(y.goal);le=D?.goalId,S(le?"pass":"fail",le?`Created: ${le}`:"No goalId: "+JSON.stringify(D))}catch(D){S("fail",D.message)}x("Goals  List","running");try{const D=await tp();S("pass",`${Array.isArray(D)?D.length:0} goal(s)`)}catch(D){S("fail",D.message)}x("Cleanup  Delete test data","running");const re=[];if(le)try{await lp(le)}catch(D){re.push("goal: "+D.message)}if(P)try{await bp(P)}catch(D){re.push("reminder: "+D.message)}if(ce)try{await fp(ce)}catch(D){re.push("stockPortfolio: "+D.message)}if(F)try{await mp(F)}catch(D){re.push("otherInv: "+D.message)}if($)try{await cp($)}catch(D){re.push("liability: "+D.message)}if(ee)try{await rp(ee)}catch(D){re.push("insurance: "+D.message)}if(_)try{await ep(_)}catch(D){re.push("invAcct: "+D.message)}if(k)try{await Kh(k)}catch(D){re.push("bank: "+D.message)}if(N)try{await Qh(N)}catch(D){re.push("member: "+D.message)}re.length>0?S("fail",re.join("; ")):S("pass","All test data cleaned up"),x("Final Load All (post-cleanup)","running");try{const D=await zn(),z=Object.entries(D).map(([ie,q])=>`${ie}: ${Array.isArray(q)?q.length:"?"}`);S("pass",z.join(", "))}catch(D){S("fail",D.message)}}catch(re){x("UNEXPECTED ERROR","fail",re.message)}finally{v(!1)}},M=o.filter(y=>y.status==="pass").length,p=o.filter(y=>y.status==="fail").length,g=o.filter(y=>y.status!=="running").length;return a.jsx("div",{className:"min-h-screen bg-[var(--bg-main)] p-4 max-w-3xl mx-auto",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-lg font-bold text-[var(--text-primary)]",children:"API Test Suite"}),a.jsxs("p",{className:"text-xs text-[var(--text-dim)]",children:["Signed in as ",r?.email||"unknown"]})]}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:A,disabled:d||c,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-[var(--bg-card)] border border-[var(--border)] text-[var(--text-secondary)] hover:bg-[var(--bg-elevated)] disabled:opacity-50 cursor-pointer",children:d?"Running...":"Diagnostics"}),a.jsx("button",{onClick:w,disabled:c,className:"px-3 py-1.5 text-xs font-medium rounded-lg bg-violet-600 text-white hover:bg-violet-700 disabled:opacity-50 cursor-pointer",children:c?"Running Tests...":"Run All Tests"})]})]}),g>0&&a.jsxs("div",{className:"flex gap-3 text-xs",children:[a.jsxs("span",{className:"text-emerald-400",children:["Pass: ",M]}),a.jsxs("span",{className:"text-rose-400",children:["Fail: ",p]}),a.jsxs("span",{className:"text-[var(--text-dim)]",children:["Total: ",g]})]}),f&&a.jsxs("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] p-4 space-y-3",children:[a.jsx("h2",{className:"text-sm font-semibold text-[var(--text-primary)]",children:"Diagnostics Report"}),f.error?a.jsx("p",{className:"text-xs text-rose-400",children:f.error}):a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"text-xs text-[var(--text-secondary)] space-y-1",children:[a.jsxs("p",{children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"Spreadsheet:"})," ",f.spreadsheetName]}),a.jsxs("p",{children:[a.jsx("span",{className:"text-[var(--text-dim)]",children:"ID:"})," ",a.jsx("code",{className:"text-[10px]",children:f.spreadsheetId})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Sheets"}),a.jsx("div",{className:"grid grid-cols-2 gap-1",children:Object.entries(f.sheets||{}).map(([y,N])=>a.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[a.jsx("span",{className:"text-[var(--text-secondary)] truncate",children:y}),N.exists?a.jsxs("span",{className:"text-emerald-400 ml-1",children:[N.dataRows,"r"]}):a.jsx("span",{className:"text-rose-400 ml-1",children:"MISSING"})]},y))})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-[var(--text-primary)] mb-1",children:"Data Functions"}),a.jsx("div",{className:"space-y-1",children:Object.entries(f.dataTests||{}).map(([y,N])=>a.jsxs("div",{className:"flex items-center justify-between text-[11px] px-2 py-1 rounded bg-[var(--bg-elevated)]",children:[a.jsx("span",{className:"text-[var(--text-secondary)]",children:y}),N.success?a.jsxs("span",{className:"text-emerald-400",children:[N.count," items"]}):a.jsx("span",{className:"text-rose-400 truncate ml-2 max-w-[200px]",title:N.error,children:N.error})]},y))})]}),f.safeCallErrors&&f.safeCallErrors.length>0&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-xs font-medium text-rose-400 mb-1",children:"SafeCall Errors"}),f.safeCallErrors.map((y,N)=>a.jsxs("p",{className:"text-[11px] text-rose-400",children:[y.fn,": ",y.error]},N))]})]})]}),o.length>0&&a.jsx("div",{className:"bg-[var(--bg-card)] rounded-xl border border-[var(--border)] overflow-hidden",children:a.jsx("div",{className:"divide-y divide-[var(--border)]",children:o.map((y,N)=>a.jsxs("div",{className:"px-4 py-2 flex items-start gap-3",children:[a.jsx("div",{className:"mt-0.5 shrink-0",children:a.jsx(qN,{status:y.status})}),a.jsxs("div",{className:"min-w-0 flex-1",children:[a.jsx("p",{className:"text-xs font-medium text-[var(--text-primary)]",children:y.test}),y.detail&&a.jsx("p",{className:"text-[11px] text-[var(--text-dim)] mt-0.5 break-all",children:y.detail})]}),a.jsx("span",{className:"text-[10px] text-[var(--text-dim)] shrink-0",children:y.time})]},N))})}),o.length===0&&!f&&a.jsxs("div",{className:"text-center py-12 text-[var(--text-dim)]",children:[a.jsx("p",{className:"text-sm",children:'Click "Run All Tests" to test all CRUD operations'}),a.jsx("p",{className:"text-xs mt-1",children:'or "Diagnostics" to check spreadsheet structure'})]})]})})}function BN(){return a.jsxs(sg,{children:[a.jsx(Ye,{index:!0,element:a.jsx(D1,{})}),a.jsx(Ye,{path:"login",element:a.jsx(Ip,{})}),a.jsx(Ye,{element:a.jsx(M1,{}),children:a.jsxs(Ye,{element:a.jsx(A1,{}),children:[a.jsx(Ye,{path:"dashboard",element:a.jsx(R1,{})}),a.jsx(Ye,{path:"family",element:a.jsx(mN,{})}),a.jsx(Ye,{path:"accounts/bank",element:a.jsx(ch,{})}),a.jsx(Ye,{path:"accounts/investment",element:a.jsx(H1,{})}),a.jsx(Ye,{path:"insurance",element:a.jsx(P1,{})}),a.jsx(Ye,{path:"investments/mutual-funds",element:a.jsx(nN,{})}),a.jsx(Ye,{path:"investments/stocks",element:a.jsx(cN,{})}),a.jsx(Ye,{path:"investments/other",element:a.jsx(J1,{})}),a.jsx(Ye,{path:"liabilities",element:a.jsx(Y1,{})}),a.jsx(Ye,{path:"goals",element:a.jsx(yN,{})}),a.jsx(Ye,{path:"reports",element:a.jsx(EN,{})}),a.jsx(Ye,{path:"reminders",element:a.jsx(TN,{})}),a.jsx(Ye,{path:"health-check",element:a.jsx(zN,{})}),a.jsx(Ye,{path:"about",element:a.jsx(DN,{})}),a.jsx(Ye,{path:"test",element:a.jsx(HN,{})}),a.jsx(Ye,{path:"settings",element:a.jsx(SN,{})}),a.jsx(Ye,{path:"more",element:a.jsx(NN,{})}),a.jsx(Ye,{path:"accounts",element:a.jsx(ch,{})}),a.jsx(Ye,{path:"*",element:a.jsx(L1,{})})]})})]})}n0.createRoot(document.getElementById("root")).render(a.jsx(Tg,{children:a.jsx(my,{children:a.jsx(xy,{children:a.jsx(fy,{children:a.jsx(hy,{children:a.jsx(BN,{})})})})})}));
